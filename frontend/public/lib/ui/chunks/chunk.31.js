(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[31],{1500:function(e,t,r){"use strict";r(9),r(10),r(14),r(21),r(20),r(12),r(22),r(18),r(16),r(8),r(17),r(19),r(11),r(111),r(13);var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(307),l=r(15),u=r.n(l);r(1512);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t=e.children.replace(/\n$/,""),r=e.panelWidth,o=e.linesToBreak,c=e.renderRichText,l=e.richTextStyle,f=e.resize,d=e.style,b=e.comment,m=void 0!==b&&b,y=e.beforeContent,p=void 0===y?function(){}:y,v=s(Object(n.useState)(!1),2),h=v[0],g=v[1],O=s(Object(n.useState)(null),2),S=O[0],j=O[1],E=s(Object(n.useState)(null),2),w=E[0],A=E[1],x=s(Object(n.useState)(!1),2),R=x[0],C=x[1],P=a.a.useRef(null),I=Object(i.a)().t,T=h?t:t.substring(0,w*o),k=I(h?"action.showLess":"action.showMore"),N=u()("note-text-preview",{"preview-comment":m});return Object(n.useEffect)((function(){var e=P.current.clientWidth;j(e)}),[r]),Object(n.useLayoutEffect)((function(){var e=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="13px sans-serif",t.measureText(e).width}(t),r=e/t.length,n=Math.floor(S/r);A(n),C(e/S>o)}),[t,S]),a.a.createElement("div",{className:N,ref:P,style:d,"aria-live":"polite"},p(),c&&l?c(T,l,0):T," ",R&&a.a.createElement("button",{className:"note-text-preview-prompt",onClick:function(e){e.stopPropagation(),g(!h),f&&f()}},k))}d.propTypes={panelWidth:c.a.number,linesToBreak:c.a.number,renderRichText:c.a.func,richTextStyle:c.a.any,resize:c.a.func,style:c.a.any,comment:c.a.bool,beforeContent:c.a.func},t.a=d},1512:function(e,t,r){},1518:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1495),c=r(1456),i=r(24),l=function(e){var t=e.children,r=Object(n.useMemo)((function(){var e=Object(i.a)();return Object(o.a)({key:"wv-react-select-emotion",container:e})}),[]);return window.isApryseWebViewerWebComponent?a.a.createElement(c.a,{value:r},t):t};t.a=l},1529:function(e,t,r){"use strict";r(8),r(54);var n=r(4),a=r(35),o=r(2),c=r(51),i=r(186);function l(){}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){return n.a.isWebViewerServerDocument()?u(e,a,r):s(e,t,a,r)}};var u=function(e,t,r){return n.a.applyRedactions(e,r).then((function(e){if(e&&e.url)return Object(i.a)(t,{filename:"redacted.pdf",includeAnnotations:!0,externalURL:e.url});console.warn("WebViewer Server did not return a valid result")}))},s=function(e,t,r,i){var l={message:a.a.t("warning.redaction.applyMessage"),title:a.a.t("warning.redaction.applyTile"),confirmBtnText:a.a.t("action.apply"),onConfirm:function(){return n.a.applyRedactions(e,i).then((function(){t()})).catch((function(e){return Object(c.b)(e)})),Promise.resolve()}};return r(o.a.showWarningMessage(l))}},1663:function(e,t,r){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1664:function(e,t,r){},1665:function(e,t,r){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1666:function(e,t,r){},1667:function(e,t,r){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1668:function(e,t,r){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1669:function(e,t,r){},1670:function(e,t,r){},1671:function(e,t,r){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1701:function(e,t,r){"use strict";r.r(t);r(9),r(10),r(14),r(31),r(36),r(27),r(21),r(20),r(12),r(119),r(22),r(32),r(18),r(16),r(29),r(47),r(23),r(46),r(48),r(37),r(8),r(17),r(19),r(11),r(30),r(13),r(94);var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=(r(38),r(26),r(57),r(307)),l=r(15),u=r.n(l),s=r(53),f=r(1481),d=(r(125),r(33));function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y=a.a.createContext(),p=function(e){var t=e.children,r=Object(d.a)().core,o=b(Object(n.useState)(null),2),c=o[0],i=o[1],l=b(Object(n.useState)(!1),2),u=l[0],s=l[1],f=b(Object(n.useState)(-1),2),m=f[0],p=f[1];Object(n.useEffect)((function(){var e=function(e,t){if("selected"===t){var r=e.filter((function(e){return"Redact"===e.Subject})),n=r.length>0?r[0].Id:null;i(n)}else i(null)},t=function(e){if(e){var t=(r.getPageSearchResults()||[]).findIndex((function(t){return r.isSearchResultEqual(t,e)}));p(t)}};return r.addEventListener("annotationSelected",e),r.addEventListener("activeSearchResultChanged",t),function(){r.removeEventListener("annotationSelected",e),r.removeEventListener("activeSearchResultChanged",t)}}),[]);var v={selectedRedactionItemId:c,setSelectedRedactionItemId:i,isRedactionSearchActive:u,setIsRedactionSearchActive:s,activeSearchResultIndex:m};return a.a.createElement(y.Provider,{value:v},t)},v=r(157),h=r(44),g=(r(1663),r(43),r(6)),O=r(3),S=r(236),j=r(105),E=r.n(j),w=(r(1664),r(1500));function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=x(Object(g.e)((function(e){return[O.a.getRedactionPanelWidth(e)]}),g.c),1)[0];return a.a.createElement(w.a,A({},e,{panelWidth:t,comment:!0}))};function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){var t=P(Object(g.e)((function(e){var t;return[null===(t=O.a.getFeatureFlags(e))||void 0===t?void 0:t.customizableUI]})),1)[0],r=e.iconColor,n=e.annotation,o=e.author,c=e.dateFormat,l=e.language,f=e.onRedactionItemDelete,d=e.onRedactionItemSelection,b=e.textPreview,m=e.isSelected,y=e.timezone,p=Object(i.a)().t,j=Object(S.a)(n);if(y){var w=j.toLocaleString("en-US",{timeZone:y});j=new Date(w)}var A,x=j?E()(j).locale(l).format(c):p("option.notesPanel.noteContent.noDate"),R="".concat(o," - ").concat(x),I=u()("redaction-item",{"redaction-item-selected":m},{"modular-ui":t}),T=n.label,k=n.icon,N=void 0===k?"icon-text-redaction":k,D=n.redactionType;return A=D===v.c.TEXT?a.a.createElement(C,{linesToBreak:2},b):D===v.c.FULL_PAGE||D===v.c.FULL_VIDEO_FRAME||D===v.c.REGION||D===v.c.AUDIO_REDACTION||D===v.c.FULL_VIDEO_FRAME_AND_AUDIO?p(T):n.getContents(),a.a.createElement("li",{className:I},a.a.createElement(h.a,{className:"redaction-item-button",onClick:d,ariaLabel:"".concat(A," ").concat(R," ").concat(p("action.select")),ariaCurrent:m}),a.a.createElement("div",{className:"redaction-icon-container"},a.a.createElement(s.a,{glyph:N,color:r})),a.a.createElement("div",{className:"redaction-item-info"},a.a.createElement("div",{className:"redaction-item-preview"},A),n.OverlayText?a.a.createElement("div",{className:"redaction-item-label-text"},p("option.stylePopup.labelText"),": ",n.OverlayText):null,a.a.createElement("div",{className:"redaction-item-date-author"},R)),a.a.createElement(h.a,{className:"redaction-item-delete",style:{marginLeft:"auto"},img:"icon-close",onClick:f,ariaLabel:"".concat(A," ").concat(R," ").concat(p("action.delete"))}))},k=a.a.memo(T);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _=function(e){var t=e.annotation,r=Object(d.a)().core,o=Object(n.useContext)(y),c=o.selectedRedactionItemId,i=o.setSelectedRedactionItemId,l=N(Object(g.e)((function(e){return[O.a.getNoteDateFormat(e),O.a.getCurrentLanguage(e),O.a.getCustomNoteSelectionFunction(e),O.a.getTimezone(e)]}),g.c),4),u=l[0],s=l[1],f=l[2],b=l[3],m=t.getCustomData("trn-annot-preview"),p=t.StrokeColor.toString(),v=r.getDisplayAuthor(t.Author),h=Object(n.useCallback)((function(){f&&f(t),r.deselectAllAnnotations(),r.selectAnnotation(t),r.jumpToAnnotation(t),i(t.Id)}),[t]),S=Object(n.useCallback)((function(){r.deleteAnnotations([t])}),[t]);return a.a.createElement(k,{dateFormat:u,language:s,timezone:b,author:v,annotation:t,iconColor:p,textPreview:m,onRedactionItemDelete:S,onRedactionItemSelection:h,isSelected:c===t.Id})},M=r(122),L=(r(1665),function(e){var t=e.pageNumber,r=e.redactionItems,n=Object(i.a)().t;return a.a.createElement(M.a,{className:"redaction-page-group",header:function(){return"".concat(n("option.shared.page")," ").concat(t)},expansionDescription:"".concat(n("option.shared.page")," ").concat(t," ").concat(n("redactionPanel.redactionItems")),headingLevel:2},a.a.createElement("ul",{className:"redaction-items"},r.map((function(e){return a.a.createElement(_,{annotation:e,key:"".concat(e.Id,"-").concat(t)})}))))});L.propTypes={pageNumber:c.a.oneOfType([c.a.number,c.a.string]),redactionItems:c.a.array};var F=L,H=r(183);function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $=function(e){var t=e.redactionItems,r=W(Object(n.useState)([]),2),o=r[0],c=r[1];return Object(n.useEffect)((function(){c(Object(H.c)().position.getSortedNotes(t))}),[t]),a.a.createElement(F,U({redactionItems:o},e))},V=r(5),G=r(90);function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function q(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return J(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var K=function(e){var t=e.redactionAnnotations,r=e.applyAllRedactions,o=e.deleteAllRedactionAnnotations,c=e.redactionTypesDictionary,l=Object(i.a)().t,d=X(Object(n.useState)({}),2),b=d[0],m=d[1],p=X(Object(n.useState)([]),2),g=p[0],O=p[1],S=Object(n.useContext)(y).isTestMode;Object(n.useEffect)((function(){var e={};t.forEach((function(t){var r=Object(v.b)(t),n=c[r]||{icon:"icon-tool-redaction-area",label:"redactionPanel.redactionItem.regionRedaction"},a=n.label,o=n.icon;t.label=a,t.icon=o,t.redactionType=r;var i=t.PageNumber;void 0===e[i]?e[i]=[t]:e[i]=[t].concat(q(e[i]))})),m(e),O(Object.keys(e))}),[t]);var j,E=a.a.createElement("div",{className:"no-marked-redactions"},a.a.createElement("div",null,a.a.createElement(s.a,{className:"empty-icon",glyph:"icon-no-marked-redactions"})),a.a.createElement("div",{className:"msg"},l("redactionPanel.noMarkedRedactions"))),w=u()("redact-all-marked",{disabled:0===t.length}),A=u()("clear-all-marked",{disabled:0===t.length}),x=Object(G.a)(r);return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"marked-redaction-counter"},l("redactionPanel.redactionCounter"),a.a.createElement("span",null," (".concat(t.length,")"))),g.length>0?(j=S?{initialItemCount:g.length}:{},a.a.createElement("div",{className:"redaction-group-container"},a.a.createElement(f.a,B({data:g,itemContent:function(e,t){return a.a.createElement($,{key:e,pageNumber:t,redactionItems:b[t]})}},j)))):E,a.a.createElement("div",{className:"redaction-panel-controls"},a.a.createElement(h.a,{disabled:0===t.length,className:A,onClick:o,label:l("redactionPanel.clearMarked")}),a.a.createElement(h.a,{disabled:0===t.length,className:w,onClick:x,dataElement:V.a.REDACT_ALL_MARKED_BUTTON,label:l("redactionPanel.redactAllMarked")})))},Q=r(2),Z=r(1529),ee=r(65),te=r(61),re=(r(85),r(77),r(1497)),ne=r(1612),ae=r(1518),oe=(r(1666),["id","label"]);function ce(){return(ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var ie=function(e){var t=e.id,r=e.label,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,oe);return a.a.createElement(ae.a,null,a.a.createElement("label",{htmlFor:t,className:"creatable-multi-select-label"},r),a.a.createElement("div",{onTouchEndCapture:function(e){return e.stopPropagation()}},a.a.createElement(ne.a,ce({isMulti:!0},n,{inputId:t}))))};ie.propTypes={id:c.a.string,label:c.a.string},ie.defaultProps={id:"",label:""};var le=ie,ue=r(107),se=(r(1667),["children"]);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(){return(de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n?e?t:r:"transparent"},ve=function(e,t){return a.a.createElement("span",{className:"redactionOption"},e&&a.a.createElement(s.a,{glyph:e}),t)},he=function(e){var t=e.data;return a.a.createElement(re.o.Option,e,ve(t.icon,t.label))};he.propTypes={data:c.a.object.isRequired};var ge=function(e){var t=e.data;return a.a.createElement("div",{tabIndex:0,style:{display:"flex",height:"18px"}},ve(t.icon,t.label))};ge.propTypes={data:c.a.object.isRequired};var Oe=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,se);return a.a.createElement(re.o.Control,r,a.a.createElement("div",{className:"redaction-search-multi-select-search-icon-container"},a.a.createElement(s.a,{className:"redaction-search-multi-select-search-icon",glyph:"icon-header-search"})),t)},Se=function(e){var t=Object(i.a)().t,r=e.data.label,n=me(me({},e),{},{innerProps:me(me({},e.innerProps),{},{"aria-label":"".concat(t("action.remove")," ").concat(r),tabIndex:0,onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(t.stopPropagation(),e.innerProps.onClick())}})});return a.a.createElement(re.o.MultiValueRemove,n)};Oe.propTypes={children:c.a.node};var je=function(e){var t=Object(i.a)().t,r=e.activeTheme,n=e.redactionSearchOptions,o=[{label:t("redactionPanel.search.pattern"),options:n}],c=function(e){return{groupHeading:function(t){return me(me({},t),{},{textTransform:"none",fontSize:"13px",fontWeight:"bold",color:pe(e,ue.b.white,ue.c["text-color"]),paddingBottom:"8px",paddingLeft:"8px",paddingTop:"10px"})},group:function(e){return me(me({},e),{},{padding:"0px"})},menu:function(e){return me(me({},e),{},{padding:"0px 0px 0px 0px",borderRadius:"4px",overflowY:"visible",margin:"0"})},menuList:function(t){return me(me({},t),{},{padding:"0px",backgroundColor:pe(e,ue.b.black,ue.b.gray0),overflowY:"visible",borderRadius:"4px"})},multiValue:function(t){return me(me({},t),{},{backgroundColor:pe(e,ue.b.blue1DarkMode,ue.b.gray2),padding:"2px 8px",fontSize:"13px",borderRadius:"4px",overflowY:"hidden",whiteSpace:"nowrap",color:pe(e,ue.b.white,ue.c["text-color"])})},multiValueRemove:function(e){return me(me({},e),{},{color:ue.b.gray6,borderRadius:"4px",marginLeft:"4px",padding:"0px","&:hover":{backgroundColor:ue.b.gray2,boxShadow:"inset 0 0 0 1px ".concat(ue.b.blue6),color:ue.b.gray6},svg:{color:ue.b.gray6,height:"16px",width:"16px"}})},option:function(t,r){var n=r.isFocused;return me(me({},t),{},{display:"flex",fontSize:"13px",padding:"6px 8px 0",outline:n?"var(--focus-visible-outline)":void 0,"&:hover":{backgroundColor:pe(e,ue.b.blue1DarkMode,ue.c["primary-button-hover"]),color:ue.b.gray0},backgroundColor:pe(e,ue.b.blue1DarkMode,ue.b.gray0),overflowY:"visible",whiteSpace:"normal","&:last-child":{borderRadius:"0 0 4px 4px",paddingBottom:"6px"}})},noOptionsMessage:function(e){return me(me({},e),{},{color:ue.c["text-color"]})},valueContainer:function(e){return me(me({},e),{},{padding:"1px",maxHeight:Object(ee.b)()?"55px":"70px",overflowY:"scroll"})},control:function(t){return me(me({},t),{},{backgroundColor:pe(e,ue.b.gray10,ue.b.white),minHeight:"28px",borderColor:pe(e,ue.b.gray8,ue.b.gray6),"&:focus-within":{borderColor:pe(e,ue.b.gray8,ue.b.blue5)},"&:hover":{borderColor:pe(e,ue.b.gray8,ue.b.gray6)},boxShadow:"none !important"})},placeholder:function(t){return me(me({},t),{},{fontSize:"13px",color:pe(e,ue.b.gray7,ue.b.gray5),paddingLeft:"4px"})},input:function(t){return me(me({},t),{},{fontSize:"13px",color:pe(e,ue.b.white,ue.c["text-color"]),paddingLeft:"3px"})}}}("dark"===r);return a.a.createElement(le,de({options:o,styles:c,components:{Option:he,MultiValueLabel:ge,IndicatorsContainer:function(){return null},Control:Oe,MultiValueRemove:Se},placeholder:"",formatCreateLabel:function(e){return"".concat(t("component.searchPanel")," ").concat(e)},id:"redaction-search-multi-select",label:t("redactionPanel.redactionSearchPlaceholder")},e))};je.propTypes={activeTheme:c.a.string.isRequired,redactionSearchOptions:c.a.array.isRequired};var Ee=je;r(1668);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=we(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==we(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||Ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){if(e){if("string"==typeof e)return Te(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(e,t):void 0}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ke=function(e){var t={textSearch:[],caseSensitive:!0};return e?(e.forEach((function(e){var r=e.type;r===v.c.TEXT?t.textSearch.push(e.label):t[r]=!0,e.regex&&(t.caseSensitive=t.caseSensitive&&!e.regex.ignoreCase)})),t):t},Ne=function(e){var t=e.setIsRedactionSearchActive,r=e.searchTerms,n=e.setSearchTerms,o=e.executeRedactionSearch,c=e.activeTheme,l=e.redactionSearchOptions,u=Pe(Object(i.a)(),1)[0],s=l.map((function(e){return Re(Re({},e),{},{label:u(e.label)})}));return a.a.createElement(te.a,{className:"RedactionSearchOverlay",dataElement:"redactionSearchOverlay"},a.a.createElement(Ee,{onFocus:function(){return t(!0)},value:r,onCreateOption:function(e){var t={label:e,value:e,type:v.c.TEXT},a=[].concat(Ae(r||[]),[t]);n(a);var c=ke(a);c.caseSensitive=!1,o(c)},onChange:function(e){n(e);var t=ke(e);o(t)},activeTheme:c,redactionSearchOptions:s}))},De=(r(83),r(489)),_e=r(4);function Me(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Le(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Fe=function(e){return function(t){var r=(0,e.getState)(),n=O.a.getRedactionSearchPatterns(r),a=Object.keys(n).reduce((function(e,t){var r=n[t],a=r.regex;return e[r.type]=a,e}),{}),o={regex:!0,caseSensitive:t.caseSensitive},c=Me(t.textSearch);Object.keys(t).forEach((function(e){var t=a[e];t&&c.push(t.source)}));var i=c.join("|");""!==i?Object(De.a)()(i,o):_e.a.clearSearchResults()}};function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(){return(Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){$e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=He(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==He(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e,t){Fe(t)(e)}var Ge=function(e){var t=Object(n.useContext)(y).setIsRedactionSearchActive,r=Object(g.f)(),o=Object(g.e)((function(e){return O.a.getActiveTheme(e)})),c=Object(g.e)((function(e){return O.a.getRedactionSearchPatterns(e)}),g.c),i=Object.values(c).map((function(e){return ze(ze({},e),{},{value:e.type})}));return a.a.createElement(Ne,Ue({setIsRedactionSearchActive:t,executeRedactionSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ve(e,r)},activeTheme:o,redactionSearchOptions:i},e))},Be=(r(49),r(62),r(106)),qe=(r(1669),function(e){var t=e.isChecked,r=e.onChange,n=e.onClickResult,o=e.isActive,c=e.icon,i=e.ambientStr,l=function(e){var t=e.ambientStr,r=e.resultStrStart,n=e.resultStrEnd,o=e.resultStr;if(e.type===v.c.TEXT){var c=""===t?o:t.slice(r,n),i=t.slice(0,r),l=t.slice(n);return a.a.createElement(a.a.Fragment,null,i,a.a.createElement("span",{className:"search-value"},c),l)}return o}(e),f=u()("redaction-search-result",{active:o});return a.a.createElement("li",{className:f},a.a.createElement("button",{className:"redaction-search-result-button",onClick:n,"aria-label":i,"aria-current":o}),a.a.createElement(Be.a,{"aria-label":"".concat(i),checked:t,onChange:r}),a.a.createElement(s.a,{glyph:c}),a.a.createElement("div",{className:"redaction-search-result-info"},l))});qe.propTypes={isChecked:c.a.bool,onChange:c.a.func,onClickResult:c.a.func,isActive:c.a.bool,icon:c.a.string,ambientStr:c.a.string};var Xe=a.a.memo(qe),Ye=function(e){var t=Object(d.a)().core,r=e.searchResult,o=e.checked,c=e.checkResult,i=Object(n.useContext)(y).activeSearchResultIndex,l=r.ambientStr,u=r.resultStrStart,s=r.resultStrEnd,f=r.resultStr,b=r.icon,m=r.index,p=r.type,v=Object(n.useCallback)((function(e){c(e,m)}),[m,c]),h=Object(n.useCallback)((function(){t.setActiveSearchResult(r)}),[r]);return a.a.createElement(Xe,{ambientStr:l,resultStrStart:u,resultStrEnd:s,resultStr:f,icon:b,type:p,isChecked:o,onChange:v,onClickResult:h,isActive:i===m})};r(1670);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){Ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Je(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Je(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rt=function(e){var t=e.pageNumber,r=e.searchResults,o=e.selectedSearchResultIndexes,c=e.setSelectedSearchResultIndexes,l=Object(i.a)().t,u=r.map((function(e){return e.index})),s=et(Object(n.useState)(!1),2),f=s[0],d=s[1];Object(n.useEffect)((function(){var e=u.reduce((function(e,t){return o[t]&&e}),!0);d(e)}),[o,u]);var b=Object(n.useCallback)((function(e){var t=e.target.checked;u.forEach((function(e){o[e]=t})),d(t),c(Qe({},o))}),[o,u]),m=Object(n.useCallback)((function(e,t){var r=e.target.checked;o[t]=r,c(Qe({},o))}),[o]);return a.a.createElement("div",{className:"redaction-search-results-page-number"},a.a.createElement(Be.a,{className:"redaction-search-results-page-number-checkbox","aria-label":"".concat(l("option.shared.page")," ").concat(t),checked:f,onChange:function(e){e.stopPropagation(),b(e)}}),a.a.createElement(M.a,{header:function(){return"".concat(l("option.shared.page")," ").concat(t)},style:{width:"100%"},expansionDescription:"".concat(l("option.shared.page")," ").concat(t)},a.a.createElement("ul",{className:"redaction-search-results"},r.map((function(e,r){return a.a.createElement(Ye,{checked:o[e.index],checkResult:m,searchResult:e,key:"".concat(r,"-").concat(t)})})))))},nt=r(476),at=(r(1671),"SEARCH_NOT_INITIATED"),ot="SEARCH_IN_PROGRESS",ct="SEARCH_DONE";function it(){return(it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function lt(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||st(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||st(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){if(e){if("string"==typeof e)return ft(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ft(e,t):void 0}}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var dt=function(e){var t=e.redactionSearchResults,r=e.searchStatus,o=e.onCancelSearch,c=e.isProcessingRedactionResults,l=e.markSelectedResultsForRedaction,s=e.redactSelectedResults,d=Object(i.a)().t,b=ut(Object(n.useState)({}),2),m=b[0],p=b[1],v=ut(Object(n.useState)({}),2),g=v[0],O=v[1],S=ut(Object(n.useState)([]),2),j=S[0],E=S[1],w=Object(n.useContext)(y).isTestMode;Object(n.useEffect)((function(){var e={};t.forEach((function(t,r){var n=t.pageNum;t.index=r,void 0===e[n]?e[n]=[t]:e[n]=[].concat(lt(e[n]),[t])})),p(e);var r={};t.forEach((function(e,t){r[t]=!1})),O(r)}),[t]),Object(n.useEffect)((function(){var e=t.filter((function(e,t){return g[t]}));E(e)}),[g]);var A=a.a.createElement("div",{"aria-label":d("message.noResults")},a.a.createElement("p",{"aria-live":"assertive",role:"alert",className:"no-margin"},d("message.noResults"))),x=0===t.length,R=u()("redaction-search-results-container",{emptyList:x}),C=u()("redact-all-selected",{disabled:0===j.length}),P=u()("mark-all-selected",{disabled:0===j.length}),I=r===ct&&!c||r===at;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"redaction-search-counter-controls"},r===ot&&a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement(nt.a,{height:"18px",width:"18px"})),I&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"redaction-search-results-counter"},a.a.createElement("h4",{"aria-live":"assertive",role:"alert",className:"no-margin"},d("redactionPanel.searchResults"),a.a.createElement("span",null," (".concat(t.length,")")))),a.a.createElement(h.a,{className:u()({inactive:j.length<1}),onClick:function(){var e={};t.forEach((function(t,r){e[r]=!0})),O(e)},disabled:x,label:d("action.selectAll")}),a.a.createElement(h.a,{className:u()({inactive:j.length<1}),disabled:x,onClick:function(){var e={};t.forEach((function(t,r){e[r]=!1})),O(e)},label:d("action.unselect")}))),a.a.createElement("div",{className:R,role:"list"},r===at&&a.a.createElement("div",{"aria-label":d("redactionPanel.search.start")},d("redactionPanel.search.start")),r===ot&&x&&c&&a.a.createElement("div",null,a.a.createElement(nt.a,{height:"25px",width:"25px"})),r===ct&&x&&!c&&A,(r===ot||r===ct)&&function(){var e=Object.keys(m);if(e.length>0){var t=w?{initialItemCount:e.length}:{};return a.a.createElement(f.a,it({data:e,itemContent:function(e,t){return a.a.createElement(rt,{key:e,pageNumber:t,searchResults:m[t],selectedSearchResultIndexes:g,setSelectedSearchResultIndexes:O})}},t))}}()),a.a.createElement("div",{className:"redaction-search-panel-controls"},a.a.createElement(h.a,{onClick:function(){p({}),o()},label:d("action.cancel"),className:"cancel"}),a.a.createElement(h.a,{disabled:0===j.length,label:d("annotation.redact"),className:C,onClick:function(){s(j)}}),a.a.createElement(h.a,{disabled:0===j.length,label:d("action.addMark"),ariaLabel:d("action.addMark"),className:P,onClick:function(){l(j),o()}})))};function bt(){return(bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var pt=window.Core.Tools.ToolNames,vt={OverlayText:"",StrokeColor:new window.Core.Annotations.Color(255,0,0),TextColor:new window.Core.Annotations.Color(255,0,0,1),Font:"Helvetica"};function ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vt,r=t.StrokeColor,n=t.OverlayText,a=t.FillColor,o=t.Font,c=void 0===o?"Helvetica":o,i=t.TextColor,l=t.FontSize,u=t.TextAlign,s=e.map((function(e){var t=new window.Core.Annotations.RedactionAnnotation;return t.PageNumber=e.page_num,t.Quads=e.quads.map((function(e){return e.getPoints()})),t.StrokeColor=r,t.OverlayText=n,t.FillColor=a,t.Font=c,t.FontSize=l,window.Core.Annotations.Utilities.calculateAutoFontSize&&(t.FontSize=window.Core.Annotations.Utilities.calculateAutoFontSize(t)),t.TextColor=i,t.TextAlign=u,t.setContents(e.result_str),t.type=e.type,t.Author=_e.a.getCurrentUser(),"text"===e.type&&t.setCustomData("trn-annot-preview",e.result_str),t.setCustomData("trn-redaction-type",e.type),t}));return s}var gt=function(e){var t=e.onCancelSearch,r=Object(d.a)().core,o=Object(g.d)(),c=mt(Object(g.e)((function(e){return[O.a.getActiveToolStyles(e),O.a.getActiveToolName(e)]}),g.c),2),i=c[0],l=c[1],u=Object(n.useCallback)((function(e){var t=r.getTool(pt.REDACTION),n=t&&t.defaults?t.defaults:vt,a=ht(e,l.includes("Redaction")?i:n);r.getAnnotationManager().addAnnotations(a)}),[i,l]);return a.a.createElement(dt,bt({markSelectedResultsForRedaction:u,redactSelectedResults:function(e){var r=ht(e,vt);o(Object(Z.a)(r,t))}},e))};function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?St(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var jt=function(e){var t=Object(g.d)(),r=Ot(Object(n.useState)([]),2),o=r[0],c=r[1],i=Object(n.useContext)(y),l=i.isRedactionSearchActive,u=i.setIsRedactionSearchActive,f=e.redactionSearchResults,d=e.isProcessingRedactionResults,b=e.clearRedactionSearchResults,m=e.searchStatus,p=Object(ee.b)();return a.a.createElement(a.a.Fragment,null,p&&a.a.createElement("div",{className:"close-container"},a.a.createElement("button",{className:"close-icon-container",onClick:function(){t(Q.a.closeElement("redactionPanel"))}},a.a.createElement(s.a,{glyph:"ic_close_black_24px",className:"close-icon"}))),a.a.createElement(Ge,{searchTerms:o,setSearchTerms:c}),l&&a.a.createElement(gt,{redactionSearchResults:f,onCancelSearch:function(){c([]),b(),u(!1)},searchStatus:m,isProcessingRedactionResults:d}))};r(81);function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var At=function(){var e=Et(Object(n.useState)(at),2),t=e[0],r=e[1],a=Et(Object(n.useState)([]),2),o=a[0],c=a[1],i=Et(Object(n.useState)(!1),2),l=i[0],u=i[1],s=Object(g.e)((function(e){return O.a.getRedactionSearchPatterns(e)}),g.c),f=Object(n.useMemo)((function(){return Object.keys(s).reduce((function(e,t){var r=s[t],n=r.regex,a=r.type,o=r.icon;return e[a]={regex:n,icon:o},e}),{})}),[s]),d=Object(n.useCallback)((function(e){var t=e.resultStr,r=Object.keys(f).find((function(e){return f[e].regex.test(t)}));e.type=void 0===r?v.c.TEXT:r;var n=(f[e.type]||{}).icon,a=void 0===n?"icon-text-redaction":n;return e.icon=a,e}),[f]),b=Object(n.useCallback)((function(){c([]),_e.a.clearSearchResults(),u(!1)}));return Object(n.useEffect)((function(){function e(e){var t=e.map(d);u(!0),c(t)}return _e.a.addEventListener("searchResultsChanged",e),function(){_e.a.removeEventListener("searchResultsChanged",e)}}),[t]),Object(n.useEffect)((function(){function e(e){null==e?r(at):e?r(ot):(r(ct),setTimeout((function(){u(!1)}),100))}return _e.a.addEventListener("searchInProgress",e),function(){_e.a.removeEventListener("searchInProgress",e)}}),[]),{redactionSearchResults:o,isProcessingRedactionResults:l,clearRedactionSearchResults:b,searchStatus:t}},xt=function(){var e=At(),t=e.redactionSearchResults,r=e.isProcessingRedactionResults,n=e.clearRedactionSearchResults,o=e.searchStatus;return a.a.createElement(jt,{redactionSearchResults:t,isProcessingRedactionResults:r,clearRedactionSearchResults:n,searchStatus:o})};function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){It(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function It(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Rt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,i=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Nt=function(e){var t=Object(d.a)().core,r=Tt(Object(g.e)((function(e){return[O.a.isElementOpen(e,"redactionPanel"),O.a.isElementDisabled(e,"redactionPanel"),O.a.getRedactionPanelWidth(e),O.a.isInDesktopOnlyMode(e),O.a.getCustomApplyRedactionsHandler(e),O.a.getRedactionSearchPatterns(e)]}),g.c),6),o=r[0],c=r[1],i=r[2],l=r[3],u=r[4],f=r[5],b=Object(ee.b)(),m=e.redactionAnnotationsList,p=e.isCustomPanel,h=e.dataElement,S=Object(n.useMemo)((function(){return Pt(Pt({},Object.keys(f).reduce((function(e,t){var r=f[t],n=r.label,a=r.type,o=r.icon;return e[a]={label:n,icon:o},e}),{})),v.a)}),[f]),j=Object(g.d)(),E=function(){var e=p?h:"redactionPanel";j(Q.a.closeElement(e))},w=p||!l&&b?{}:{width:"".concat(i,"px"),minWidth:"".concat(i,"px")},A=Object(n.useContext)(y).isRedactionSearchActive,x=Tt(Object(n.useState)(!1),2),R=x[0],C=x[1];if(Object(n.useEffect)((function(){var e=setTimeout((function(){C(!o)}),500);return function(){clearTimeout(e)}}),[o]),c||!o&&R&&!p)return null;var P=p?h:"redactionPanel";return a.a.createElement(te.a,{dataElement:P,className:"Panel RedactionPanel",style:w},!l&&b&&!p&&a.a.createElement("div",{className:"close-container"},a.a.createElement("div",{className:"close-icon-container",onClick:E},a.a.createElement(s.a,{glyph:"ic_close_black_24px",className:"close-icon"}))),a.a.createElement(xt,null),!A&&a.a.createElement(K,{redactionAnnotations:m,redactionTypesDictionary:S,applyAllRedactions:function(){var e=function(){var e=p?E:function(){};j(Object(Z.a)(m,e))};u?u(m,e):e()},deleteAllRedactionAnnotations:function(){t.deleteAnnotations(m)}}))};Nt.propTypes={redactionAnnotationsList:c.a.array,isCustomPanel:c.a.bool,dataElement:c.a.string},Nt.defaultProps={isCustomPanel:!1,dataElement:""};var Dt=function(e){return a.a.createElement(p,null,a.a.createElement(Nt,e))};t.default=Dt}}]);
//# sourceMappingURL=chunk.31.js.map
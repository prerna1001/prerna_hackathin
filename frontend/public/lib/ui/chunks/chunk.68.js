(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[68],{1755:function(e,n,t){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1868:function(e,n,t){"use strict";t.r(n);t(9),t(10),t(14),t(31),t(36),t(81),t(27),t(21),t(20),t(12),t(22),t(32),t(18),t(16),t(29),t(47),t(23),t(46),t(48),t(37),t(8),t(17),t(19),t(11),t(30),t(13);var o=t(2),r=t(15),a=t.n(r),i=t(33),u=t(5),l=t(61),c=t(231),s=t(65),f=t(82),b=t(1),p=t.n(b),O=t(0),d=t.n(O),v=(t(1755),{handleUnLink:p.a.func,isAnnotation:p.a.bool,isMobileDevice:p.a.bool,linkText:p.a.string,handleOnMouseEnter:p.a.func,handleOnMouseLeave:p.a.func,handleMouseMove:p.a.func}),m=function(e){var n=e.handleUnLink,t=e.isAnnotation,o=e.isMobileDevice,r=e.linkText,i=e.handleOnMouseEnter,l=e.handleOnMouseLeave,c=e.handleMouseMove;return o||!t?null:d.a.createElement("div",{"data-testid":"link-annotation-element",className:a()({Popup:!0,LinkAnnotationPopup:!0,"is-horizontal":!0}),onMouseEnter:i,onMouseLeave:l,onMouseMove:c},d.a.createElement("div",{className:"contents","data-element":u.a.LINK_URI},r&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"link-annot-input"},r),d.a.createElement("div",{className:"divider"})),d.a.createElement(f.a,{className:"main-menu-button",dataElement:u.a.LINK_ANNOTATION_UNLINK_BUTTON,title:"action.unlink",img:"icon-tool-unlink",onClick:n})))};m.propTypes=v;var y=m,h=t(3),E=t(486),j=t(148),g=t(6),A=t(497);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(Object(t),!0).forEach((function(n){w(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=N(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=N(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==N(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,u=[],l=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=a.call(t)).done)&&(u.push(o.value),u.length!==n);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw r}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return L(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var k=window.Core.Annotations,I={annotation:p.a.object,handleOnMouseEnter:p.a.func,handleOnMouseLeave:p.a.func},S=function(e){var n=e.annotation,t=e.handleOnMouseEnter,r=e.handleOnMouseLeave,f=Object(i.a)().core,b=T(Object(g.e)((function(e){return[h.a.isElementOpen(e,u.a.LINK_ANNOTATION_POPUP),h.a.getActiveDocumentViewerKey(e)]}),g.c),2),p=b[0],v=b[1],m=T(Object(O.useState)({left:0,top:0}),2),N=m[0],M=m[1],w=Object(g.d)(),L=Object(O.useRef)(null),I=Object(g.f)(),S=function(){return w(o.a.closeElement(u.a.LINK_ANNOTATION_POPUP))};Object(j.a)(L,(function(){p&&S()})),Object(O.useEffect)((function(){var e=function(){S()},n=f.getScrollViewElement();return null==n||n.addEventListener("scroll",e),function(){null==n||n.removeEventListener("scroll",e)}}),[]),Object(O.useLayoutEffect)((function(){(n||p)&&_()}),[n,p,v]);var _=function(){n&&L.current&&M(Object(c.c)(n,L,v,5))},D=Object(E.a)(n,I)||"",U=a()({Popup:!0,LinkAnnotationPopupContainer:!0,open:p,closed:!p}),x=void 0!==n;return d.a.createElement(l.a,{dataElement:u.a.LINK_ANNOTATION_POPUP,className:U,style:P({},N),ref:L},d.a.createElement(y,{linkText:D,handleUnLink:function(){!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0,o=t.getAnnotationManager(n),r=o.getGroupAnnotations(e).find((function(e,n){return e instanceof k.TextHighlightAnnotation&&0===e.Opacity&&0===n})),a=Object(A.a)(e);a.forEach((function(e){o.ungroupAnnotations([e]),r&&o.deleteAnnotation(e,{source:"unlink"},!0)})),r&&o.deleteAnnotation(r,{source:"unlink"},!0),o.deleteAnnotation(e,{source:"unlink"},!0)}(n,v,f),S(),r()},isAnnotation:x,isMobileDevice:Object(s.b)(),handleOnMouseEnter:t,handleOnMouseLeave:r,handleMouseMove:function(e){e.preventDefault(),e.stopPropagation()}}))};S.propTypes=I;var _=S;n.default=_}}]);
//# sourceMappingURL=chunk.68.js.map
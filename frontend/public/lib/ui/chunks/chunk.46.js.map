{"version":3,"sources":["webpack:///./src/ui/src/components/Wv3dPropertiesPanel/Wv3dPropertiesPanel.scss?fe30","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/PropertyKeyValuePair/PropertyKeyValuePair.js","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/GeneralValuesSection/GeneralValuesSection.js","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/Group/Group.js","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/GroupsContainer/GroupsContainer.js","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/HeaderTitle/HeaderTitle.js","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/PropertiesElement/PropertiesElement.js","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/Wv3dPropertiesPanel.js","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/Wv3dPropertiesPanelContainer.js","webpack:///./src/ui/src/components/Wv3dPropertiesPanel/index.js"],"names":["module","exports","PropertyKeyValuePair","props","name","value","React","createElement","data-element","className","key","GeneralValuesSection","entities","elements","entity","push","Group","data","open","_useState2","_slicedToArray","useState","isActive","setIsActive","useMemo","Object","entries","map","onClick","Icon","glyph","concat","memo","GroupsContainer","groups","groupOrder","combinedGroups","length","group","orderedGroup","orderArray","groupName","addOrderedGroups","includes","HeaderTitle","attributes","title","t","useTranslation","createDataSet","dataMap","propertySet","removeEmptyRows","combinedMap","item","dataPoint","undefined","checkForEmptyKeys","PropertiesElement","element","schema","headerName","defaultValues","removeEmptyGroups","createRawValueGroup","defaultItems","groupsItems","combinedGroupMap","dataset","keys","generateGroupDataSet","Wv3dPropertiesPanel","currentWidth","isInDesktopOnlyMode","_props$isMobile","isMobile","closeWv3dPropertiesPanel","modelData","style","width","minWidth","propertiesCollection","handle","uuidv4","DataElementWrapper","dataElement","Wv3dPropertiesPanelContainer","_useSelector2","useSelector","state","selectors","isElementOpen","isElementDisabled","getWv3dPropertiesPanelWidth","getWv3dPropertiesPanelModelData","getWv3dPropertiesPanelSchema","shallowEqual","isOpen","isDisabled","wv3dPropertiesPanelWidth","isMobileSize","dispatch","useDispatch","renderNull","setRenderNull","useEffect","timeout","setTimeout","clearTimeout","actions","closeElement"],"mappings":"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","file":"chunks/chunk.46.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","import React from 'react';\nimport './PropertyKeyValuePair.scss';\n\nconst PropertyKeyValuePair = (props) => {\n  const { name, value } = props;\n\n  return (\n    <div data-element=\"propertyKeyValuePair\" className=\"property-pair\" key={name}>\n      <span className=\"property-key\">{name}</span>\n      <span className=\"property-value\">{value}</span>\n    </div>\n  );\n};\n\nexport default PropertyKeyValuePair;\n","import React from 'react';\nimport PropertyKeyValuePair from '../PropertyKeyValuePair/PropertyKeyValuePair';\n\nconst GeneralValuesSection = (props) => {\n  const { entities } = props;\n\n  const elements = [];\n\n  for (const entity in entities) {\n    elements.push(<PropertyKeyValuePair key={entity} name={entity} value={entities[entity]} />);\n  }\n\n  return <div data-element=\"generalValues\">{elements}</div>;\n};\n\nexport default GeneralValuesSection;\n","import React, { useState, useMemo } from 'react';\nimport Icon from 'components/Icon';\nimport PropertyKeyValuePair from '../PropertyKeyValuePair/PropertyKeyValuePair';\nimport './Group.scss';\n\nconst Group = (props) => {\n  const { name, data, open } = props;\n\n  const [isActive, setIsActive] = useState(open);\n  const downArrow = 'icon-chevron-down';\n  const rightArrow = 'icon-chevron-right';\n\n  const onClick = () => {\n    setIsActive(!isActive);\n  };\n\n  const elements = useMemo(() => {\n    return Object.entries(data).map((entity) => (\n      <PropertyKeyValuePair key={entity[0]} name={entity[0]} value={entity[1]} />\n    ));\n  }, [data]);\n\n  return (\n    <div data-element=\"Group\">\n      <div className=\"group-title\">\n        <div onClick={onClick}>\n          <Icon glyph={`${isActive ? downArrow : rightArrow}`} />\n        </div>\n        <span>{name}</span>\n      </div>\n\n      <div className={`dropdown ${isActive ? 'active' : 'inactive'}`}>{elements}</div>\n    </div>\n  );\n};\n\nexport default React.memo(Group);\n","import React from 'react';\nimport Group from '../Group/Group';\n\nfunction addOrderedGroups(orderedGroup, groups) {\n  const orderArray = [];\n  for (const group in orderedGroup) {\n    const groupName = orderedGroup[group];\n\n    if (groupName in groups) {\n      orderArray.push(<Group name={groupName} key={groupName} data={groups[groupName]} open />);\n    }\n  }\n\n  return orderArray;\n}\n\nconst GroupsContainer = (props) => {\n  const { groups, groupOrder } = props;\n\n  let combinedGroups = [];\n\n  if (groupOrder && groupOrder.length > 0) {\n    combinedGroups = addOrderedGroups(groupOrder, groups);\n\n    for (const group in groups) {\n      if (!groupOrder.includes(group)) {\n        combinedGroups.push(<Group name={group} key={group} data={groups[group]} open />);\n      }\n    }\n  } else {\n    for (const group in groups) {\n      combinedGroups.push(<Group name={group} key={group} data={groups[group]} open />);\n    }\n  }\n\n  return <div data-element=\"groupsContainer\">{combinedGroups}</div>;\n};\n\nexport default GroupsContainer;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport './HeaderTitle.scss';\n\nconst HeaderTitle = (attributes) => {\n  const { title } = attributes;\n  const { t } = useTranslation();\n\n  return (\n    <h1 data-element=\"headerTitle\" className=\"header-title\">\n      <span>{t('wv3dPropertiesPanel.propertiesHeader')}</span>\n      <span> </span>\n      <span className=\"header-value\">{title}</span>\n    </h1>\n  );\n};\n\nexport default HeaderTitle;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport GeneralValuesSection from '../GeneralValuesSection/GeneralValuesSection';\nimport GroupsContainer from '../GroupsContainer/GroupsContainer';\nimport Group from '../Group/Group';\nimport HeaderTitle from '../HeaderTitle/HeaderTitle';\n\nfunction createDataSet(dataMap, propertySet, removeEmptyRows) {\n  const combinedMap = {};\n\n  if (removeEmptyRows) {\n    for (const item in dataMap) {\n      const dataPoint = propertySet[dataMap[item]];\n      if (dataPoint !== undefined && dataPoint !== '') {\n        combinedMap[item] = dataPoint;\n      }\n    }\n  } else {\n    for (const item in dataMap) {\n      combinedMap[item] = propertySet[dataMap[item]];\n    }\n  }\n\n  return combinedMap;\n}\n\nfunction checkForEmptyKeys(data) {\n  for (const key in data) {\n    const value = data[key];\n    if (value !== undefined && value !== '') {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction generateGroupDataSet(dataMap, propertySet, removeEmptyRows, removeEmptyGroups) {\n  const combinedGroupMap = {};\n\n  if (removeEmptyGroups) {\n    for (const group in dataMap) {\n      const dataset = createDataSet(dataMap[group], propertySet, removeEmptyRows);\n      if (Object.keys(dataset).length > 0) {\n        if (!checkForEmptyKeys(dataset)) {\n          combinedGroupMap[group] = dataset;\n        }\n      }\n    }\n  } else {\n    for (const group in dataMap) {\n      combinedGroupMap[group] = createDataSet(dataMap[group], propertySet, removeEmptyRows);\n    }\n  }\n\n  return combinedGroupMap;\n}\n\nconst PropertiesElement = (props) => {\n  const { element, schema } = props;\n\n  const {\n    headerName,\n    defaultValues,\n    groups,\n    groupOrder,\n    removeEmptyRows,\n    removeEmptyGroups,\n    createRawValueGroup,\n  } = schema;\n\n  const { t } = useTranslation();\n\n  const defaultItems = createDataSet(defaultValues, element, removeEmptyRows);\n  const groupsItems = generateGroupDataSet(groups, element, removeEmptyRows, removeEmptyGroups);\n  const name = element[headerName];\n\n  return (\n    <section data-element=\"propertiesElement\">\n      <HeaderTitle title={name} />\n      <GeneralValuesSection entities={defaultItems} />\n      <GroupsContainer groups={groupsItems} groupOrder={groupOrder} />\n      {createRawValueGroup ? (\n        <Group data-element=\"Group\" name={t('wv3dPropertiesPanel.miscValuesHeader')} data={element} open={true} />\n      ) : null}\n    </section>\n  );\n};\n\nexport default PropertiesElement;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Icon from 'components/Icon';\nimport DataElementWrapper from '../DataElementWrapper';\nimport { v4 as uuidv4 } from 'uuid';\nimport './Wv3dPropertiesPanel.scss';\nimport '../Panel/Panel.scss';\nimport PropertiesElement from './PropertiesElement/PropertiesElement';\n\nconst Wv3dPropertiesPanel = (props) => {\n  const { currentWidth, isInDesktopOnlyMode, isMobile = false, closeWv3dPropertiesPanel, schema, modelData } = props;\n\n  const { t } = useTranslation();\n  const style = !isInDesktopOnlyMode && isMobile ? {} : { width: `${currentWidth}px`, minWidth: `${currentWidth}px` };\n\n  const renderMobileCloseButton = () => {\n    return (\n      <div className=\"close-container\">\n        <div className=\"close-icon-container\" onClick={closeWv3dPropertiesPanel}>\n          <Icon glyph=\"ic_close_black_24px\" className=\"close-icon\" />\n        </div>\n      </div>\n    );\n  };\n\n  let propertiesCollection = modelData.map((element) => (\n    <PropertiesElement key={`${element.handle}-${uuidv4()}`} element={element} schema={schema} />\n  ));\n\n  const emptyPanelPlaceholder = () => {\n    return (\n      <div className=\"no-selections\">\n        <div>\n          <Icon className=\"empty-icon\" glyph=\"ic-wv3d-properties-panel-menu\" />\n        </div>\n        <div className=\"empty-text\">{t('wv3dPropertiesPanel.emptyPanelMessage')}</div>\n      </div>\n    );\n  };\n\n  if (modelData.length < 1) {\n    propertiesCollection = emptyPanelPlaceholder();\n  }\n\n  return (\n    <DataElementWrapper dataElement=\"wv3dPropertiesPanel\" className=\"Panel wv3d-properties-panel\" style={style}>\n      {!isInDesktopOnlyMode && isMobile && renderMobileCloseButton()}\n      {propertiesCollection}\n    </DataElementWrapper>\n  );\n};\n\nexport default Wv3dPropertiesPanel;\n","import React, { useEffect, useState } from 'react';\nimport Wv3dPropertiesPanel from './Wv3dPropertiesPanel';\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\n\nimport { isMobileSize } from 'helpers/getDeviceSize';\n\nconst Wv3dPropertiesPanelContainer = () => {\n  const [isOpen, isDisabled, wv3dPropertiesPanelWidth, isInDesktopOnlyMode, modelData, schema] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, 'wv3dPropertiesPanel'),\n      selectors.isElementDisabled(state, 'wv3dPropertiesPanel'),\n      selectors.getWv3dPropertiesPanelWidth(state),\n      selectors.isInDesktopOnlyMode(state),\n      selectors.getWv3dPropertiesPanelModelData(state),\n      selectors.getWv3dPropertiesPanelSchema(state),\n    ],\n    shallowEqual,\n  );\n\n  const isMobile = isMobileSize();\n\n  const dispatch = useDispatch();\n\n  const closeWv3dPropertiesPanel = () => {\n    dispatch(actions.closeElement('wv3dPropertiesPanel'));\n  };\n\n  const [renderNull, setRenderNull] = useState(false);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setRenderNull(!isOpen);\n    }, 500);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [isOpen]);\n\n  if (isDisabled || (!isOpen && renderNull)) {\n    return null;\n  }\n\n  return (\n    <Wv3dPropertiesPanel\n      isInDesktopOnlyMode={isInDesktopOnlyMode}\n      isMobile={isMobile}\n      currentWidth={wv3dPropertiesPanelWidth}\n      closeWv3dPropertiesPanel={closeWv3dPropertiesPanel}\n      modelData={modelData}\n      schema={schema}\n    />\n  );\n};\n\nexport default Wv3dPropertiesPanelContainer;\n","import Wv3dPropertiesPanelContainer from './Wv3dPropertiesPanelContainer';\n\nexport default Wv3dPropertiesPanelContainer;\n"],"sourceRoot":""}
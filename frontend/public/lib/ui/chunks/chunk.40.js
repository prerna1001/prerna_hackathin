(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[40],{1472:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1591:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1592:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1593:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1594:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1620:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(14),n(31),n(38),n(626),n(36),n(125),n(27),n(21),n(49),n(77),n(20),n(12),n(43),n(22),n(95),n(128),n(32),n(18),n(16),n(29),n(47),n(23),n(46),n(48),n(37),n(8),n(17),n(19),n(62),n(11),n(30),n(13);var a=n(103),r=n.n(a),o=n(0),i=n.n(o),l=n(6),c=n(1515),u=n(208),s=n(15),m=n.n(s),f=n(45),d=(n(26),n(57),n(3)),b=n(2),g=(n(40),n(41),n(42),n(112),n(54),n(116),n(94),n(1)),p=n.n(g),h=n(127),v=n(44),y=(n(1591),n(5)),E=n(97);var O=function(e){var t=e.className,n=e.pageIndex,a=Object(l.d)(),r=Object(l.e)((function(e){return d.a.getSelectedThumbnailPageIndexes(e)}));return i.a.createElement("div",{className:t,onClick:function(){-1===r.indexOf(n)&&a(b.a.setSelectedPageThumbnails([n]))}},i.a.createElement(E.a,{dataElement:y.a.PAGE_MANIPULATION_OVERLAY_BUTTON,toggleElement:y.a.PAGE_MANIPULATION,img:"icon-tool-more",title:"option.thumbnailPanel.moreOptions"}))},j=n(59),w=n(4),T=n(307),P=n(238),C={index:p.a.number.isRequired},S=function(e){var t=e.index,n=Object(T.a)().t,a=Object(l.e)((function(e){return d.a.isElementDisabled(e,"thumbnailControl")})),r=Object(l.e)((function(e){return d.a.isElementDisabled(e,y.a.PAGE_MANIPULATION_OVERLAY_BUTTON)})),c=Object(l.e)(d.a.pageDeletionConfirmationModalEnabled),u=Object(l.e)(d.a.getSelectedThumbnailPageIndexes,l.c),s=Object(l.e)(d.a.getCurrentPage),f=Object(l.e)(d.a.getThumbnailControlMenuItems,l.c),b=Object(l.e)(d.a.getFeatureFlags,l.c),g=Object(l.e)(d.a.isViewOnly),p=Object(l.d)(),E=Object(o.useRef)([]),C=Object(o.useRef)(null),S=u.length>0?u.map((function(e){return e+1})):[t+1],I=S.includes(s),A=b.customizableUI;I||(S=[s]);var D=w.a.getDocument(),k=null==D?void 0:D.type,N=k===j.a.XOD,x=k===j.a.OFFICE||k===j.a.LEGACY_OFFICE,L={thumbRotateClockwise:i.a.createElement(v.a,{className:"rotate-button",img:"icon-header-page-manipulation-page-rotation-clockwise-line",onClick:function(){return Object(h.o)(S)},title:"option.thumbnailPanel.rotatePageClockwise",dataElement:"thumbRotateClockwise"}),thumbRotateCounterClockwise:i.a.createElement(v.a,{img:"icon-header-page-manipulation-page-rotation-counterclockwise-line",onClick:function(){return Object(h.p)(S)},title:"option.thumbnailPanel.rotatePageCounterClockwise",dataElement:"thumbRotateCounterClockwise"}),thumbDelete:i.a.createElement(v.a,{className:"delete-button",img:"icon-delete-line",onClick:function(){return Object(h.b)(S,p,c)},title:"option.thumbnailPanel.delete",dataElement:"thumbDelete",onClickAnnouncement:"".concat(n("action.delete")," ").concat(n("action.modal")," ").concat(n("action.isOpen"))})},R=!1,M=[],_=f.map((function(e){var t=e.dataElement,n=t,a=L[t];if(M.indexOf(t)>-1)return null;if(M.push(t),!a){R=!0;var r=e.img,o=e.onClick,l=e.title;a=i.a.createElement(v.a,{className:"".concat(t,"-button"),img:r,onClick:function(){return o(s)},title:l,dataElement:t})}return a?i.a.cloneElement(a,{key:n}):null}));return Object(o.useEffect)((function(){E.current=Object(P.a)(C.current),E.current.length>0&&E.current.forEach((function(e){e.tabIndex=-1}))}),[E.current,_]),a?null:N||x||null!=D&&D.isWebViewerServerDocument()?i.a.createElement("div",{className:"thumbnailControls-overlay","data-element":"thumbnailControl",style:{display:"flex"}},i.a.createElement(v.a,{img:"icon-header-page-manipulation-page-rotation-counterclockwise-line",onClick:function(){return Object(h.p)(S)},title:"option.thumbnailPanel.rotatePageCounterClockwise",dataElement:"thumbRotateCounterClockwise"}),i.a.createElement(v.a,{img:"icon-header-page-manipulation-page-rotation-clockwise-line",onClick:function(){return Object(h.o)(S)},title:"option.thumbnailPanel.rotatePageClockwise",dataElement:"thumbRotateClockwise"})):g?null:i.a.createElement("div",{className:m()({"thumbnailControls-overlay":!0,"custom-buttons":R,"modular-ui":A}),"data-element":"thumbnailControl",ref:C},_,r?null:i.a.createElement(O,{className:"more-options",pageIndex:t}))};S.propTypes=C;var I=S,A=n(422),D=(n(1592),n(106)),k=n(24),N=n(235),x=n(33);function L(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var c=a&&a.prototype instanceof l?a:l,u=Object.create(c.prototype);return M(u,"_invoke",function(n,a,r){var o,l,c,u=0,s=r||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,l=0,c=e,f.n=n,i}};function d(n,a){for(l=n,c=a,t=0;!m&&u&&!r&&t<s.length;t++){var r,o=s[t],d=f.p,b=o[2];n>3?(r=b===a)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=d&&((r=n<2&&d<o[1])?(l=0,f.v=a,f.n=o[1]):d<b&&(r=n<3||o[0]>a||a>b)&&(o[4]=n,o[5]=a,f.n=b,l=0))}if(r||n>1)return i;throw m=!0,a}return function(r,s,b){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,b),l=s,c=b;(t=l<2?e:c)||!m;){o||(l?l<3?(l>1&&(f.n=-1),d(l,c)):f.n=c:f.v=c);try{if(u=2,o){if(l||(r="next"),t=o[r]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),l=1);o=e}else if((t=(m=f.n<0)?c:n.call(a,f))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:m}}}(n,r,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][a]?t(t([][a]())):(M(t={},a,(function(){return this})),t),m=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,M(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=u,M(m,"constructor",u),M(u,"constructor",c),c.displayName="GeneratorFunction",M(u,r,"GeneratorFunction"),M(m),M(m,r,"Generator"),M(m,a,(function(){return this})),M(m,"toString",(function(){return"[object Generator]"})),(R=function(){return{w:o,m:f}})()}function M(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(M=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){M(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,n,a)}function _(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return l}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return H(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var G=i.a.forwardRef((function(e,t){var n=e.index,a=e.isSelected,r=e.updateAnnotations,c=e.shiftKeyThumbnailPivotIndex,u=e.onFinishLoading,s=e.onLoad,f=e.onRemove,b=void 0===f?function(){}:f,g=e.onDragStart,p=e.onDragOver,h=e.isDraggable,v=e.shouldShowControls,y=e.thumbnailSize,E=e.currentPage,O=e.pageLabels,j=void 0===O?[]:O,w=e.selectedPageIndexes,C=e.isThumbnailMultiselectEnabled,S=e.isReaderModeOrReadOnly,M=e.dispatch,F=e.actions,H=e.isMobile,G=e.canLoad,W=e.isThumbnailSelectingPages,z=e.thumbnailSelectionMode,V=e.activeDocumentViewerKey,B=e.panelSelector,K=e.parentKeyListener,Y=Object(x.a)().core,q=y?Number(y):150,$=U(Object(o.useState)(-1),2),X=$[0],J=$[1],Q=Object(o.useRef)(null),Z=Object(o.useRef)([]),ee=Object(o.useRef)([]),te=U(Object(o.useState)({width:q,height:q}),2),ne=te[0],ae=te[1],re=Object(T.a)().t,oe=U(Object(o.useState)(!1),2),ie=oe[0],le=oe[1],ce=Object(N.a)(),ue=Object(o.useRef)(ce),se=Object(l.e)(d.a.isContentEditingEnabled),me=null;Object(o.useEffect)((function(){var e=function(e){Q.current&&!Q.current.contains(e.target)&&Ee()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),Object(o.useEffect)((function(){ie&&fe(),ue.current=ce}),[ce]);var fe=function(){me=setTimeout((function(){var e,t,a=Object(k.a)().querySelector(".ThumbnailsPanel.".concat(B," #pageThumb").concat(n)),o=ue.current,i=n+1,l=Y.getRotation(i),c=Y.getDocument(V);if(c&&c.getPageInfo(i)){var m=c.loadCanvas({pageNumber:i,width:q,height:q,drawComplete:(e=R().m((function e(t){var a,i,c,s;return R().w((function(e){for(;;)switch(e.n){case 0:(a=Object(k.a)().querySelector(".ThumbnailsPanel.".concat(B," #pageThumb").concat(n)))&&((i=a.querySelector(".page-image"))&&a.removeChild(i),t.className="page-image ".concat(o?"right-to-left":""),c=Math.min(q/t.width,q/t.height),t.style.width="".concat(t.width*c,"px"),t.style.height="".concat(t.height*c,"px"),ae({width:Number(t.width),height:Number(t.height)}),o&&(t.style.transform="translate(50%, -50%)"),Math.abs(l)&&(s="rotate(".concat(90*l,"deg) translate(-50%,-50%)"),t.style.transform=s,t.style["transform-origin"]="top left",t.style["ms-transform"]=s,t.style["ms-transform-origin"]="top left",t.style["-moz-transform"]=s,t.style["-moz-transform-origin"]="top left",t.style["-webkit-transform-origin"]="top left",t.style["-webkit-transform"]=s,t.style["-o-transform"]=s,t.style["-o-transform-origin"]="top left"),a.appendChild(t)),r&&r(n),u(n),le(!0);case 1:return e.a(2)}}),e)})),t=function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){_(o,a,r,i,l,"next",e)}function l(e){_(o,a,r,i,l,"throw",e)}i(void 0)}))},function(e){return t.apply(this,arguments)}),allowUseOfOptimizedThumbnail:!0});s(n,a,m)}}),50)};Object(o.useEffect)((function(){var e=function(e){var t=e.contentChanged,a=e.moved,r=e.added,o=e.removed,i=n+1,l=r.includes(i),c=t.some((function(e){return i===e})),u=Object.keys(a).some((function(e){return i===parseInt(e)})),s=o.includes(i),m=Y.getTotalPages();o.length>0&&n+1>m||(l||c||u||s)&&fe()},t=function(){le(!1),fe()};return Y.addEventListener("pagesUpdated",e),Y.addEventListener("rotationUpdated",t),G&&fe(),function(){Y.removeEventListener("pagesUpdated",e),Y.removeEventListener("rotationUpdated",t),clearTimeout(me),b(n)}}),[]);var de=E===n+1,be=j[n],ge="default",pe=Y.getRotation(n+1);((!pe||2===pe)&&ne.width>ne.height||(1===pe||3===pe)&&ne.width<ne.height)&&(ge="rotated"),Object(o.useImperativeHandle)(t,(function(){return{focusInput:function(){W&&ie?(he(ee.current[0]),J(0)):Z.current&&setTimeout((function(){he(Z.current[0]),J(0)}),0)}}}));var he=function(e){e&&(e.ariaCurrent="page",e.focus())},ve=function(e){e&&(e.ariaCurrent=void 0)},ye=function(e){e.preventDefault(),Ee()},Ee=function(){Z.current.forEach((function(e){ve(e)}))},Oe=Object(o.useCallback)((function(e){e.stopPropagation(),K(e);var t,n={Tab:function(){return ye(e)},Escape:function(){return ye(e)}};n[e.key]&&(null===(t=n[e.key])||void 0===t||t.call(n));var a={ArrowUp:function(){return je(e,-1)},ArrowDown:function(){return je(e,1)},ArrowLeft:function(){return je(e,-1)},ArrowRight:function(){return je(e,1)}};a[e.key]&&!Te&&a[e.key]()}),[Z.current,X]),je=function(e,t){e.preventDefault(),0!==Z.current.length&&J((function(e){var n=e+t;return n<0?n=Z.current.length-1:n>=Z.current.length&&(n=0),we(Z.current[n]),n}))},we=function(e){Z.current.forEach((function(t){t===e?he(t):ve(t)}))};Object(o.useEffect)((function(){Q.current&&(Z.current=Object(P.a)(Q.current))}),[v,de,ie]),Object(o.useEffect)((function(){Q.current&&(ee.current=Object(P.a)(Q.current))}),[W,ie]);var Te=W&&ie;return i.a.createElement("button",{className:m()({Thumbnail:!0,active:de,selected:a&&W}),onDragOver:function(e){return p(e,n)},id:"Thumbnail-container-".concat(n),ref:Q,onKeyDown:function(e){return Oe(e)},onClick:function(e){var t=e.target.type&&"checkbox"===e.target.type;if(C&&!S){var a=e.ctrlKey||e.metaKey,r=e.shiftKey,o=L(w);if(r){M(F.setThumbnailSelectingPages(!0));var i=c;null===i&&(i=E-1,M(F.setShiftKeyThumbnailsPivotIndex(i)));var l=Math.min(i,n),u=Math.max(i,n);o=L(new Set(L(Array.from({length:u-l+1},(function(e,t){return t+l})))))}else a||W?(M(F.setThumbnailSelectingPages(!0)),(a||t||z===A.a.THUMBNAIL)&&(0!==w.length||W?w.includes(n)?o=w.filter((function(e){return n!==e})):o.push(n):o.push(E-1)),M(F.setShiftKeyThumbnailsPivotIndex(n))):o=[n];var s=o[o.length-1];!W&&!r&&M(F.setShiftKeyThumbnailsPivotIndex(s)),M(F.setSelectedPageThumbnails(o))}else H()&&M(F.closeElement("leftPanel"));setTimeout((function(){t&&z!==A.a.THUMBNAIL||Y.setCurrentPage(n+1)}),0)},style:{width:q,cursor:"pointer",background:"none",border:"none"},tabIndex:-1},i.a.createElement("div",{className:"container",style:{height:q,width:q},onDragStart:function(e){return g(e,n)},draggable:h,tabIndex:-1},i.a.createElement("div",{id:"pageThumb".concat(n),className:"thumbnail"}),W&&ie&&i.a.createElement(D.a,{className:"checkbox ".concat(ge),checked:w.includes(n),"aria-label":"".concat(re("action.page")," ").concat(be," ").concat(re("formField.types.checkbox")),tabIndex:-1})),i.a.createElement("div",{className:"page-label"},be),!W&&de&&v&&!se&&i.a.createElement(I,{index:n}))}));G.displayName="Thumbnail",G.propTypes={index:p.a.number,isSelected:p.a.bool,updateAnnotations:p.a.func,shiftKeyThumbnailPivotIndex:p.a.number,onFinishLoading:p.a.func,onLoad:p.a.func,onRemove:p.a.func,onDragStart:p.a.func,onDragOver:p.a.func,isDraggable:p.a.bool,shouldShowControls:p.a.bool,thumbnailSize:p.a.number,currentPage:p.a.number,pageLabels:p.a.array,selectedPageIndexes:p.a.array,isThumbnailMultiselectEnabled:p.a.bool,isReaderModeOrReadOnly:p.a.bool,dispatch:p.a.func,actions:p.a.object,isMobile:p.a.func,canLoad:p.a.bool,isThumbnailSelectingPages:p.a.bool,thumbnailSelectionMode:p.a.string,activeDocumentViewerKey:p.a.number,panelSelector:p.a.string,parentKeyListener:p.a.func};var W=G;function z(){return(z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var K=i.a.forwardRef((function(e,t){var n=V(Object(l.e)((function(e){return[d.a.getCurrentPage(e),d.a.getPageLabels(e),d.a.getSelectedThumbnailPageIndexes(e),d.a.isThumbnailMultiselectEnabled(e),d.a.isReaderMode(e),d.a.isDocumentReadOnly(e),d.a.getShiftKeyThumbnailPivotIndex(e),d.a.isThumbnailSelectingPages(e),d.a.getThumbnailSelectionMode(e),d.a.getActiveDocumentViewerKey(e)]}),l.c),11),a=n[0],r=n[1],o=n[2],c=n[3],u=n[4],s=n[5],m=n[6],g=n[7],p=n[8],h=n[9],v=n[10],y=Object(l.d)();return i.a.createElement(W,z({},e,{ref:t,currentPage:a,pageLabels:r,selectedPageIndexes:o,isThumbnailMultiselectEnabled:c,isReaderModeOrReadOnly:u||s,dispatch:y,actions:b.a,isMobile:f.k,shiftKeyThumbnailPivotIndex:m,isThumbnailSelectingPages:g,thumbnailSelectionMode:p,selectionModes:v,activeDocumentViewerKey:h}))}));K.displayName="ThumbnailRedux";var Y=K,q=(n(146),n(111),n(490)),$=n(28);n(1472);function X(e){var t=e.moveToTop,n=e.moveToBottom;return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{className:"button-hover",dataElement:"moveToTop",img:"icon-page-move-up",onClick:t,title:"action.moveToTop"}),i.a.createElement(v.a,{className:"button-hover",dataElement:"moveToBottom",img:"icon-page-move-down",onClick:n,title:"action.moveToBottom"}))}X.propTypes={moveToTop:p.a.func,moveToBottom:p.a.func};var J=X;function Q(e){var t=e.onInsert,n=e.onReplace,a=e.onExtractPages,r=e.onDeletePages;return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{className:"button-hover",dataElement:"thumbnailsControlInsert",img:"icon-page-insertion-insert",onClick:t,title:"action.insert"}),i.a.createElement(v.a,{className:"button-hover",dataElement:"thumbnailsControlReplace",img:"icon-page-replacement",onClick:n,title:"action.replace"}),i.a.createElement(v.a,{className:"button-hover",dataElement:"thumbnailsControlExtract",img:"icon-page-manipulation-extract",onClick:a,title:"action.extract"}),i.a.createElement(v.a,{className:"button-hover",dataElement:"thumbnailsControlDelete",img:"icon-delete-line",onClick:r,title:"action.delete"}))}Q.propTypes={onInsert:p.a.func,onReplace:p.a.func,onExtractPages:p.a.func,onDeletePages:p.a.func};var Z=Q;function ee(e){var t=e.onRotateClockwise,n=e.onRotateCounterClockwise;return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{className:"button-hover",dataElement:"thumbnailsControlRotateCounterClockwise",img:"icon-header-page-manipulation-page-rotation-counterclockwise-line",onClick:n,title:"action.rotateCounterClockwise"}),i.a.createElement(v.a,{className:"button-hover",dataElement:"thumbnailsControlRotateClockwise",img:"icon-header-page-manipulation-page-rotation-clockwise-line",onClick:t,title:"action.rotateClockwise"}))}ee.propTypes={onRotateClockwise:p.a.func,onRotateCounterClockwise:p.a.func};var te=ee,ne=n(180);function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function re(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return l}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ce(e){var t,n=e.parentElement,a=Object(l.f)(),r=Object(l.d)(),c=Object(f.k)(),u=Object(l.e)(d.a.getSelectedThumbnailPageIndexes),s=Object(l.e)((function(e){return n&&"leftPanel"!==n?d.a.getPanelWidth(e,n):d.a.getLeftPanelWidth(e)})),m=Object(l.e)(d.a.pageDeletionConfirmationModalEnabled),g=Object(l.e)(d.a.isInDesktopOnlyMode),p=Object(l.e)(d.a.getMultiPageManipulationControlsItems,l.c),O=oe(Object(o.useState)(!1),2),T=O[0],P=O[1],C=Object(o.useMemo)((function(){return u.map((function(e){return e+1}))}),[u]),S=Object(o.useMemo)((function(){return{onReplace:function(){return!Object(h.k)(C,r)&&Object(h.m)(r)},onExtractPages:function(){return!Object(h.k)(C,r)&&Object(h.e)(C,r)},onDeletePages:function(){return!Object(h.k)(C,r)&&Object(h.b)(C,r,m)},onRotateCounterClockwise:function(){return!Object(h.k)(C,r)&&Object(h.p)(C)},onRotateClockwise:function(){return!Object(h.k)(C,r)&&Object(h.o)(C)},onInsert:function(){return!Object(h.k)(C,r)&&(r(b.a.closeElement(y.a.PAGE_MANIPULATION_OVERLAY)),void r(b.a.openElement("insertPageModal")))},moveToTop:function(){return!Object(h.k)(C,r)&&Object(h.j)(C)},moveToBottom:function(){return!Object(h.k)(C,r)&&Object(h.i)(C)},pageNumbers:C}}),[C,m]),I=S.onRotateClockwise,A=S.onRotateCounterClockwise,D=w.a.getDocument(),N=null==D?void 0:D.type,x=N===j.a.XOD,L=N===j.a.OFFICE||N===j.a.LEGACY_OFFICE;if(!g&&c)try{t=Object(k.a)().querySelector(".App").getBoundingClientRect().width-88}catch(e){t=(s||$.d)-88}else t=(s||$.d)-88;var R=t<190,M=t>290;Object(o.useEffect)((function(){var e,t=[];e=R?1:M?3:2;var n=0;p.forEach((function(r){var o=!1;(n<e||0===t.length&&"divider"===(null==r?void 0:r.type))&&(o=!0),r&&"divider"!==r.type&&n++,!o&&t.push.apply(t,re(function(e){return"leftPanelPageTabsRotate"===e.dataElement?Object(ne.e)(a,!0):"leftPanelPageTabsMove"===e.dataElement?Object(ne.a)(a,!0):"leftPanelPageTabsMore"===e.dataElement?Object(ne.c)(a,!0):"customPageOperation"===e.type?Object(ne.b)(a,e):"divider"===e.type?["divider"]:void 0}(r)))}));var o={dataElement:y.a.PAGE_MANIPULATION_FLYOUT_MULTI_SELECT,className:y.a.PAGE_MANIPULATION_FLYOUT_MULTI_SELECT,items:t};M&&r(b.a.closeElement(o.dataElement)),o.items.length?(r(b.a.updateFlyout(o.dataElement,o)),P(!0)):(r(b.a.removeFlyout(o.dataElement)),P(!1))}),[a,M,R,p]);var _=Object(o.useMemo)((function(){var e=!1,t=0;return p.map((function(n,a){var r;return r=R?0:M?2:1,"divider"!==(null==n?void 0:n.type)||e?t>r?null:(n&&"divider"!==n.type&&t++,"leftPanelPageTabsRotate"===n.dataElement?i.a.createElement(te,ae({},S,{key:"leftPanelPageTabsRotate"})):"leftPanelPageTabsMove"===n.dataElement?i.a.createElement(J,ae({},S,{key:"leftPanelPageTabsMove"})):"leftPanelPageTabsMore"===n.dataElement?i.a.createElement(Z,ae({},S,{key:"leftPanelPageTabsMore"})):"customPageOperation"===n.type?n.operations?n.operations.map((function(e){return i.a.createElement(v.a,{key:e.dataElement,className:"button-hover",dataElement:e.dataElement,img:e.img,onClick:function(){return e.onClick(C)},title:e.title})})):(t--,null):null):(t>r&&(e=!0),i.a.createElement("div",{key:"divider".concat(a),className:"divider"}))}))}),[p,S,R,M]);return x||L||null!=D&&D.isWebViewerServerDocument()?i.a.createElement("div",{className:"PageControlContainer root small"},i.a.createElement(te,{onRotateClockwise:I,onRotateCounterClockwise:A})):i.a.createElement("div",{className:"PageControlContainer root"},_,T&&i.a.createElement("div",{className:"dropdown-menu"},i.a.createElement(E.a,{dataElement:"".concat(y.a.PAGE_MANIPULATION_FLYOUT_MULTI_SELECT,"Button"),toggleElement:y.a.PAGE_MANIPULATION_FLYOUT_MULTI_SELECT,title:"action.more",img:"icon-tool-more"}),i.a.createElement("div",{className:"indicator"})))}ce.propTypes={parentElement:p.a.string};var ue=ce;n(1593);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function fe(e,t){for(var n="",a=e.sort((function(e,t){return e-t})),r=null,o=0;a.length>o;o++)a[o+1]===a[o]+1?r=null!==r?r:a[o]:null!==r?(n="".concat(n).concat(t[r],"-").concat(t[a[o]],", "),r=null):n="".concat(n).concat(t[a[o]],", ");return n.slice(0,-2)}var de=function(e){var t=e.shouldShowControls,n=e.parentElement,a=se(Object(T.a)(),1)[0],r=Object(l.d)(),c=se(Object(l.e)((function(e){return[d.a.getSelectedThumbnailPageIndexes(e),d.a.isElementDisabled(e,"documentControl"),d.a.getPageLabels(e),d.a.isThumbnailSelectingPages(e),d.a.getFeatureFlags(e)]})),5),u=c[0],s=c[1],m=c[2],f=c[3],g=c[4],p=fe(u,m),h=se(Object(o.useState)(p),2),y=h[0],E=h[1],O=se(Object(o.useState)(p),2),j=O[0],P=O[1],C=g.customizableUI;Object(o.useEffect)((function(){E(fe(u,m))}),[E,u,t,m]);var S=function(){r(b.a.setThumbnailSelectingPages(!0))};return s?null:i.a.createElement("div",{className:"documentControlsContainer","data-element":"documentControl"},t?i.a.createElement("div",{className:"documentControls"},i.a.createElement("div",{className:"divider"}),f&&i.a.createElement(ue,{parentElement:n}),C&&i.a.createElement("label",{className:"documentControlsLabel",htmlFor:"pageNumbersInput"},i.a.createElement("span",null,a("option.thumbnailPanel.multiSelectPages")," -"),i.a.createElement("span",{className:"multiSelectExampleLabel"},a("option.thumbnailPanel.multiSelectPagesExample"))),i.a.createElement("div",{className:"documentControlsInput"},i.a.createElement("input",{name:"pageNumbersInput",onBlur:function(e){var t=e.target.value.replace(/ /g,""),n=t?Object(q.a)(t,m):[],a=n.map((function(e){return e-1}));if(n.length||!t){r(b.a.setSelectedPageThumbnails(a));var o=fe(u,m);E(o),P(o)}else E(j);u.length>0&&!f&&setTimeout((function(){y!==j&&S()}),100)},onChange:function(e){E(e.target.value)},value:y,placeholder:C?"":"1, 3, 5-10","aria-label":a("option.thumbnailPanel.enterPageNumbers"),className:"pagesInput",type:"text"}),i.a.createElement("div",{className:"documentControlsButton"},f?i.a.createElement(v.a,{img:"icon-close",title:"option.documentControls.closeTooltip",onClick:function(){r(b.a.setSelectedPageThumbnails([w.a.getCurrentPage()-1])),r(b.a.setThumbnailSelectingPages(!1))},dataElement:"thumbCloseMultiSelect"}):i.a.createElement(v.a,{img:"icon-tool-select-pages",title:"option.documentControls.selectTooltip",onClick:S,dataElement:"thumbMultiSelect"})))):null)};de.propTypes={isDisabled:p.a.bool,pageLabels:p.a.arrayOf(p.a.string),toggleDocumentControl:p.a.func,shouldShowControls:p.a.bool};var be=de,ge=n(322),pe=n(291),he=n(51),ve=n(52),ye=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(a){return a(b.a.openElement(y.a.LOADING_MODAL)),new Promise((function(r,o){w.a.mergeDocument(e,t).then((function(e){a(b.a.closeElement(y.a.LOADING_MODAL)),w.a.setCurrentPage(t),n&&Object(he.a)(ve.a.DOCUMENT_MERGED,e),r(e)})).catch((function(e){o(e),a(b.a.closeElement(y.a.LOADING_MODAL))}))}))}};n(1594);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ee(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ee(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Ce=function(e){var t=e.panelSelector,n=e.parentDataElement,a=Object(x.a)().core,s=Object(l.e)((function(e){return d.a.isElementOpen(e,"leftPanel")})),g=Object(l.e)((function(e){return d.a.isElementDisabled(e,"thumbnailsPanel")})),p=Object(l.e)(d.a.getTotalPages),h=Object(l.e)(d.a.getCurrentPage),E=Object(l.e)((function(e){return d.a.getSelectedThumbnailPageIndexes(e)}),l.c),O=Object(l.e)(d.a.getIsThumbnailMergingEnabled),j=Object(l.e)(d.a.getIsThumbnailReorderingEnabled),w=Object(l.e)(d.a.getIsMultipleViewerMerging),P=Object(l.e)((function(e){return d.a.isElementDisabled(e,"thumbnailControl")})),C=Object(l.e)((function(e){return d.a.isElementDisabled(e,"thumbnailsSizeSlider")})),S=Object(l.e)(d.a.isReaderMode),I=Object(l.e)(d.a.isViewOnly),A=Object(l.e)(d.a.isDocumentReadOnly),D=Object(l.e)((function(e){return d.a.getTotalPages(e,2)})),L=Object(l.e)(d.a.getActiveDocumentViewerKey),R=Object(l.e)(d.a.openingPageManipulationOverlayByRightClickEnabled),M=Object(l.e)(d.a.getFeatureFlags,l.c),_=Object(l.e)(d.a.isContentEditingEnabled),U=Te(Object(T.a)(),1)[0],F=Object(N.a)(),H=Object(o.useRef)(),G=Object(o.useRef)([]),W=Object(o.useRef)([]),z=Object(o.useRef)(null),V=Te(Object(o.useState)(!1),2),B=V[0],K=V[1],q=Te(Object(o.useState)(!0),2),$=q[0],X=q[1],J=Te(Object(o.useState)(0),2),Q=J[0],Z=J[1],ee=Te(Object(o.useState)(0),2),te=ee[0],ne=ee[1],ae=Te(Object(o.useState)(null),2),re=ae[0],oe=ae[1],ie=Te(Object(o.useState)(!1),2),le=ie[0],ce=ie[1],ue=Te(Object(o.useState)(1),2),se=ue[0],me=ue[1],fe=Te(Object(o.useState)(!1),2),de=fe[0],Ee=fe[1],Oe=Te(Object(o.useState)(0),2),we=Oe[0],Pe=Oe[1],Ce=Object(o.useRef)([]),Se=Object(o.useRef)([]),Ie=Object(o.useRef)(null),Ae=Te(Object(o.useState)(150),2),De=Ae[0],ke=Ae[1],Ne=Te(Object(o.useState)(0),2),xe=Ne[0],Le=Ne[1],Re=Te(Object(o.useState)(0),2),Me=Re[0],_e=Re[1],Ue=2===L?D:p,Fe=null==M?void 0:M.customizableUI,He=!(S||A||I||_),Ge=Object(l.d)(),We={};Object(o.useEffect)((function(){var e=function(e){Ie.current&&!Ie.current.contains(e.target)&&Ke(Ie.current)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]);var ze=Object(o.useCallback)((function(e,t,n){var a;e.stopPropagation();var r={ArrowLeft:function(){return qe(e,t,-1)},ArrowRight:function(){return qe(e,t,1)},ArrowUp:function(){return qe(e,t,-n)},ArrowDown:function(){return qe(e,t,n)}},o={Enter:function(){return $e(e,t)},Tab:function(){return Ye(t)}};r[e.key]&&(a=r[e.key]()),o[e.key]&&o[e.key](),void 0!==a&&a!==t&&(Pe(a),Ve(Ce.current[a]),Be(Ce.current[t]))}),[Se,Ce]),Ve=function(e){e.tabIndex=0,e.ariaCurrent="page",e.style.outline="var(--focus-visible-outline)",e.focus(),Ie.current=e},Be=function(e){e.tabIndex=-1,e.ariaCurrent=void 0,Ke(e)},Ke=function(e){e.style.outline="none"},Ye=function(e){Ke(Ce.current[e])},qe=function(e,t,n){var a=t+n;return a<0||a>=Ue?t:a},$e=function(e,t){e.preventDefault(),Ve(Ce.current[t]),a.setCurrentPage(t+1),Se.current[t].focusInput()},Xe=Object(o.useCallback)((function(e,t){e.stopPropagation();var n,a={Tab:function(){return Qe(e,t)},Escape:function(){return Je(e,t)}};a[e.key]&&(null===(n=a[e.key])||void 0===n||n.call(a))}),[Ce]),Je=function(e,t){e.preventDefault(),Ve(Ce.current[t])},Qe=function(e,t){var n=t+(e.shiftKey?-1:1);(n<0||n>=Ue)&&(n=t),Pe(n),Ve(Ce.current[n]),n!==t&&Be(Ce.current[t])},Ze=function(e){var t=W.current&&W.current[e]&&W.current[e].element;if(t){var n=e+1,o=a.getPageWidth(n),i=function(e,t){var n,a,r;return e>t?(r=e/De,n=De,a=Math.round(t/r)):(r=t/De,n=Math.round(e/r),a=De),{width:n,height:a}}(o,a.getPageHeight(n)),l=i.width,c=i.height,u=t.querySelector(".annotation-image")||document.createElement("canvas");u.className="annotation-image ".concat(F?"right-to-left":""),u.role="img",u.ariaLabel="".concat(U("action.page")," ").concat(n),u.style.maxWidth="".concat(De,"px"),u.style.maxHeight="".concat(De,"px"),u.style.transform="".concat(F?"translate(50%, -50%)":"translate(-50%, -50%)");var s=u.getContext("2d"),m=1,f=a.getCompleteRotation(n);f<0&&(f+=4);var d=window.Core.getCanvasMultiplier();f%2==0?(u.width=l,u.height=c,m=u.width/o,m/=d):(u.width=c,u.height=l,m=u.height/o,m/=d),t.appendChild(u),a.setAnnotationCanvasTransform(s,m,f);var b={pageNumber:n,overrideCanvas:u},g=t.querySelector(".page-image");if(g)b=je(je({},b),{},{overridePageRotation:f,overridePageCanvas:g}),We[n]||(We[n]=r()(a.drawAnnotations,112)),(0,We[n])(b)}};if(Object(o.useEffect)((function(){var e=function(){X(!1)},t=function(e){e||X(!0)},n=function(){var e;"officeEditor"===(null===(e=a.getDocument())||void 0===e?void 0:e.getType())?K(!0):K(!1),We={},Ge(b.a.setSelectedPageThumbnails([]))},r=function(){z.current&&(a.setCurrentPage(z.current),z.current=null)};return a.addEventListener("beginRendering",e),a.addEventListener("finishedRendering",t),a.addEventListener("documentLoaded",n),a.addEventListener("pageComplete",r),a.getDocument()&&n(),function(){a.removeEventListener("beginRendering",e),a.removeEventListener("finishedRendering",t),a.removeEventListener("documentLoaded",n),a.removeEventListener("pageComplete",r)}}),[]),Object(o.useEffect)((function(){var e=function(e){if(e){var t=Array.from(E);e.removed&&(t=t.filter((function(t){return-1===e.removed.indexOf(t+1)}))),e.moved&&(t=t.map((function(t){return e.moved[t+1]?e.moved[t+1]-1:t})));var n=e.added&&e.added[0]-1<=t[0];1===t.length&&n&&(t=e.added.map((function(e){return e-1}))),Ge(b.a.setSelectedPageThumbnails(t))}};return a.addEventListener("pagesUpdated",e),function(){return a.removeEventListener("pagesUpdated",e)}}),[E]),Object(o.useEffect)((function(){var e;null===(e=H.current)||void 0===e||e.scrollToRow(Math.floor((h-1)/se));var t=function(e){var t=[];e.forEach((function(e){var n=e.PageNumber-1;!e.Listable||t.indexOf(n)>-1||(t.push(n),Ze(n))}))},n=function(e){var t,n=e-1;null===(t=H.current)||void 0===t||t.scrollToRow(Math.floor(n/se))};return a.addEventListener("pageNumberUpdated",n),a.addEventListener("annotationChanged",t),a.addEventListener("annotationHidden",t),function(){a.removeEventListener("pageNumberUpdated",n),a.removeEventListener("annotationChanged",t),a.removeEventListener("annotationHidden",t)}}),[De,se]),Object(o.useEffect)((function(){(S||A)&&(Ge(b.a.setSelectedPageThumbnails([])),Ge(b.a.setThumbnailSelectingPages(!1)))}),[S,A]),g||B||!s&&!t&&!Fe)return null;var et=function(){Ee(!1),oe(null)},tt=function(e,t,n){var a,r=(new Date).getTime();return e<Ue-1&&e>0&&r-xe>=n?(null===(a=H.current)||void 0===a||a.scrollToRow(Math.floor((e+t)/se)),Le(r),e+t):e},nt=function(e,t){if(e.preventDefault(),e.stopPropagation(),j||O){var n=e.target.getBoundingClientRect();ce(se>1?!(e.pageX>n.x+n.width/2):!(e.pageY>n.y+n.height/2)),oe(t);var a=Object(k.a)().querySelector("#virtualized-thumbnails-container").getBoundingClientRect(),r=a.y,o=a.bottom;e.pageY<r+100?_e(tt(t,-1,400)):e.pageY>o-100&&_e(tt(t,1,400))}},at=function(){_e(tt(Me,1,200))},rt=function(){_e(tt(Me,-1,200))},ot=function(){return window.isApryseWebViewerWebComponent?Object(k.a)().host.id:window.frameElement.id},it=function(e,t){_e(t),Ee(!0);var n,r=E.some((function(e){return e===t})),o=r?E.map((function(e){return e+1})):[t+1];Object(he.a)(ve.a.THUMBNAIL_DRAGGED),e.dataTransfer.setData("text",""),o.length>1&&e.dataTransfer.setDragImage(new Image,0,0),O&&w&&(e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("dataTransferWebViewerFrame",ot()),n=o,window.extractedDataPromise=Object(pe.a)(n),window.pagesExtracted=n),r||Ge(b.a.setSelectedPageThumbnails([t])),a.setCurrentPage(t+1)},lt=function(e){e.preventDefault();var t,n=e.dataTransfer.files,r=le?re+1:re+2;f.f||(t=e.dataTransfer.getData("dataTransferWebViewerFrame"));var o,i,l=t&&ot()!==t||n.length,c=h-1;if(O&&l)t&&ot()!==t?Ge((o=t,i=r,function(e){return new Promise((function(t,n){var a=window.parent.document.querySelector("#".concat(o));a||(console.warn("Could not find other instance of WebViewer"),n());var r=a.contentWindow;window.isApryseWebViewerWebComponent&&(r=window);var l=r.extractedDataPromise;l||(console.warn("Could not retrieve data from other instance of WebViewer"),n()),e(b.a.openElement(y.a.LOADING_MODAL)),l.then((function(n){e(ye(n,i,!1)).then((function(n){var a=n.filename,o=n.pages;Object(he.a)(ve.a.DOCUMENT_MERGED,{filename:a,pages:r.pagesExtracted}),e(b.a.closeElement(y.a.LOADING_MODAL)),t({filename:a,pages:o})}))})).catch((function(t){e(b.a.closeElement(y.a.LOADING_MODAL)),n(t)}))}))})):n.length&&Array.from(n).forEach((function(e){Ge(ye(e,r))}));else if(j&&!l&&null!==re){var u=le?re+1:re+2,s=E.some((function(e){return e===c}))?E.map((function(e){return e+1})):[h];z.current=u-s.filter((function(e){return e<u})).length,a.movePages(s,u);for(var m=[],d=0;d<s.length;d++)m.push(z.current+d);Object(he.a)(ve.a.THUMBNAIL_DROPPED,{pageNumbersBeforeMove:s,pagesNumbersAfterMove:m,numberOfPagesMoved:m.length})}oe(null),Ee(!1)},ct=function(e,t,n){st(e)||mt(e)||(W.current[e]={element:t,loaded:!1},G.current.push({pageIndex:e,id:n}))},ut=function(e){var t=ft(e);-1!==t&&G.current.splice(t,1)},st=function(e){var t;return null===(t=W.current[e])||void 0===t?void 0:t.loaded},mt=function(e){return-1!==ft(e)},ft=function(e){return G.current.findIndex((function(t){return t.pageIndex===e}))},dt=function(e){var t,n;!function(e){var t=ft(e);-1!==t&&(a.cancelLoadThumbnail(G.current[t].id),G.current.splice(t,1))}(e);var r=null===(t=W.current[e])||void 0===t||null===(n=t.element)||void 0===n?void 0:n.querySelectorAll("canvas");null!=r&&r.length&&r.forEach((function(e){e.height=0,e.width=0})),We[e]&&We[e].cancel(),W.current[e]=null},bt=function(e){var n=e.index,r=e.key,o=e.style,l=m()({columnsOfThumbnails:se>1,row:!0}),c=!(S||A||I);return i.a.createElement("div",{role:"row","aria-label":"row",className:l,key:r,style:o},new Array(se).fill().map((function(e,r){var o=n*se+r,l=c&&(O||j),u=l&&re===o;return o<Ue?i.a.createElement(i.a.Fragment,{key:o},(se>1||0===o)&&u&&le&&i.a.createElement("div",{key:"placeholder1-".concat(o),className:"thumbnailPlaceholder"}),i.a.createElement("td",{ref:function(e){return Ce.current[o]=e},key:o,role:"gridcell",tabIndex:we===o?0:-1,"aria-current":we===o?"page":void 0,onDragEnd:et,className:"cellThumbContainer",onKeyDown:function(e){return ze(e,o,se)},onContextMenu:function(e){return R&&(n=o,(t=e).preventDefault(),a.setCurrentPage(n+1),E.includes(n)||Ge(b.a.setSelectedPageThumbnails([n])),void(He&&(Ge(b.a.setFlyoutPosition({x:t.pageX,y:t.pageY})),Ge(b.a.openElements([y.a.PAGE_MANIPULATION])))));var t,n},onFocus:function(e){return function(e,t){Ce.current&&Ce.current.includes(e.target)&&Ve(Ce.current[t])}(e,o)}},i.a.createElement(Y,{ref:function(e){return Se.current[o]=e},isDraggable:l,isSelected:E.includes(o),index:o,canLoad:$,onLoad:ct,onRemove:dt,onDragStart:it,onDragOver:nt,onFinishLoading:ut,updateAnnotations:Ze,shouldShowControls:c,thumbnailSize:De,panelSelector:t,parentKeyListener:function(e){return Xe(e,o)}})),u&&!le&&i.a.createElement("div",{key:"placeholder2-".concat(o),className:"thumbnailPlaceholder"})):null})))},gt=function(){me(Math.min(16,Math.max(1,Math.floor(te/De))))},pt=P?Number(De)+50:Number(De)+80,ht={height:"".concat(25,"px")};return i.a.createElement(i.a.Fragment,null,!C&&i.a.createElement("div",{"data-element":"thumbnailsSizeSlider",className:"thumbnail-slider-container"},i.a.createElement(v.a,{img:"icon-zoom-thumb-out",title:"action.zoomOut",hideTooltipShortcut:!0,onClick:function(){De-"50">"50"&&(ke(De-"50"),gt())},dataElement:"zoomThumbOutButton"}),Fe&&i.a.createElement(ge.a,{dataElement:"thumbnailsSizeSlider",property:"zoom",displayProperty:"zoom",min:0,max:1,step:.01,value:De/1e3,getDisplayValue:function(){return De},onSliderChange:function(e,t){var n="1000"*Number(t);n<100&&(n=100),ke(n),gt()},shouldHideSliderTitle:!0,shouldHideSliderValue:!0}),!Fe&&i.a.createElement("input",{role:"slider",type:"range","aria-label":"thumbnail size slider",min:"100",max:"1000",value:De,"aria-valuemin":"100","aria-valuemax":"1000","aria-valuenow":De,onChange:function(e){ke(Number(e.target.value)),gt()},step:"50",className:"thumbnail-slider",id:"thumbnailSize"}),i.a.createElement(v.a,{img:"icon-zoom-thumb-in",title:"action.zoomIn",hideTooltipShortcut:!0,onClick:function(){De+Number("50")<1001&&(ke(De+Number("50")),gt())},dataElement:"zoomThumbInButton"})),i.a.createElement(u.a,{bounds:!0,onResize:function(e){var t=e.bounds;Z(t.height),ne(t.width),me(Math.min(16,Math.max(1,Math.floor(t.width/De))))},key:De},(function(e){var n=e.measureRef;return i.a.createElement("div",{className:"Panel ThumbnailsPanel ".concat(t),id:"virtualized-thumbnails-container","data-element":"thumbnailsPanel",onDrop:lt,ref:n},i.a.createElement("div",{className:"virtualized-thumbnails-container"},de?i.a.createElement("div",{className:"thumbnailAutoScrollArea",onDragOver:rt,style:ht}):"",i.a.createElement(c.c,{ref:H,height:Q,width:te,rowHeight:pt,rowCount:Math.ceil(Ue/se),rowRenderer:bt,overscanRowCount:3,className:m()({thumbnailsList:!0,"right-to-left":F}),scrollToIndex:Math.floor((h-1)/se),role:"grid","aria-label":U("component.thumbnailsPanel"),tabIndex:-1}),de?i.a.createElement("div",{className:"thumbnailAutoScrollArea",onDragOver:at,style:je(je({},ht),{},{bottom:"70px"})}):""))})),i.a.createElement(be,{shouldShowControls:He,parentElement:n||t}))};t.default=Ce}}]);
//# sourceMappingURL=chunk.40.js.map
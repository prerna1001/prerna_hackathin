{"version":3,"sources":["webpack:///./src/ui/src/components/AlignmentPopup/AlignmentPopup.scss?2800","webpack:///./src/ui/src/components/AlignmentPopup/AlignmentPopup.js","webpack:///./src/ui/src/components/AlignmentPopup/AlignmentConfig.js","webpack:///./src/ui/src/components/AlignmentPopup/AlignmentPopupContainer.js","webpack:///./src/ui/src/components/AlignmentPopup/index.js"],"names":["module","exports","propTypes","alignmentConfig","PropTypes","array","alignmentOnClick","func","backToMenuOnClick","distributeConfig","distributeOnClick","isAnnotation","bool","AlignmentPopup","_ref","t","_slicedToArray","useTranslation","renderButtonRow","title","config","onClick","React","createElement","className","map","ActionButton","key","img","icon","alignment","data-testid","classNames","Popup","AlignAnnotationPopup","dataElement","getStartFacingChevronIcon","role","type","tabIndex","onKeyDown","annotationManager","core","getAnnotationManager","_annotationManager$Al","Alignment","StandardAlignmentTypes","LEFT","RIGHT","TOP","BOTTOM","_annotationManager$Al2","CenterAlignmentTypes","CENTER_VERTICAL","CENTER_HORIZONTAL","_annotationManager$Al3","DistributeAlignmentTypes","DISTRIBUTE_VERTICAL","DISTRIBUTE_HORIZONTAL","annotation","object","AlignmentPopupContainer","_useSelector2","useSelector","state","selectors","isElementOpen","DataElements","ANNOTATION_ALIGNMENT_POPUP","getActiveDocumentViewerKey","shallowEqual","isOpen","activeDocumentViewerKey","_useState2","useState","left","top","position","setPosition","popupRef","useRef","dispatch","useDispatch","useCore","useLayoutEffect","setPopupPosition","current","getAnnotationPopupPositionBasedOn","AlignAnnotationPopupContainer","open","closed","undefined","DataElementWrapper","style","_objectSpread","ref","annotManager","selectedAnnotations","getSelectedAnnotations","centerAnnotations","alignAnnotations","actions","closeElement","selectAnnotations","distributeAnnotations"],"mappings":"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","file":"chunks/chunk.57.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport ActionButton from 'components/ActionButton';\nimport { getStartFacingChevronIcon } from 'helpers/rightToLeft';\n\nimport './AlignmentPopup.scss';\n\nconst propTypes = {\n  alignmentConfig: PropTypes.array,\n  alignmentOnClick: PropTypes.func,\n  backToMenuOnClick: PropTypes.func,\n  distributeConfig: PropTypes.array,\n  distributeOnClick: PropTypes.func,\n  isAnnotation: PropTypes.bool,\n};\n\nconst AlignmentPopup = ({\n  alignmentConfig,\n  alignmentOnClick,\n  backToMenuOnClick,\n  distributeConfig,\n  distributeOnClick,\n  isAnnotation\n}) => {\n  const [t] = useTranslation();\n\n  const renderButtonRow = (title, config, onClick) => {\n    return (\n      <div className='button-row-container'>\n        <div>{t(title)}</div>\n        <div className=\"button-row\">\n          {config.map((config) => (\n            <ActionButton\n              key={config.title}\n              className=\"main-menu-button\"\n              title={t(config.title)}\n              img={config.icon}\n              onClick={() => {\n                onClick(config.alignment);\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  const renderTopSection = () => (\n    <div className=\"top-section\">\n      <div className=\"button-row\">\n        <ActionButton\n          className=\"back-to-menu-button\"\n          dataElement=\"backToMenuButton\"\n          title={t('action.backToMenu')}\n          img={getStartFacingChevronIcon()}\n          onClick={backToMenuOnClick}\n        />\n        <div role=\"button\" type=\"button\" tabIndex=\"0\" onClick={backToMenuOnClick} onKeyDown={backToMenuOnClick}>{t('action.backToMenu')}</div>\n      </div>\n    </div>\n  );\n\n  const renderContents = () => (\n    <div className=\"contents\">\n      {renderTopSection()}\n      <div className=\"divider\" />\n      {renderButtonRow('alignmentPopup.alignment', alignmentConfig, alignmentOnClick)}\n      {renderButtonRow('alignmentPopup.distribute', distributeConfig, distributeOnClick)}\n    </div>\n  );\n\n  if (!isAnnotation) {\n    return null;\n  }\n\n  return (\n    <div\n      data-testid=\"alignment-annotation-element\"\n      className={classNames({\n        Popup: true,\n        AlignAnnotationPopup: true,\n        'is-horizontal': true\n      })}\n    >\n      {renderContents()}\n    </div>\n  );\n};\n\nAlignmentPopup.propTypes = propTypes;\n\nexport default AlignmentPopup;","import core from 'core';\n\nconst annotationManager = core.getAnnotationManager();\n\nconst { LEFT, RIGHT, TOP, BOTTOM } = annotationManager.Alignment.StandardAlignmentTypes;\nconst { CENTER_VERTICAL, CENTER_HORIZONTAL } = annotationManager.Alignment.CenterAlignmentTypes;\nconst { DISTRIBUTE_VERTICAL, DISTRIBUTE_HORIZONTAL } = annotationManager.Alignment.DistributeAlignmentTypes;\n\nconst alignmentConfig = [\n  {\n    alignment: LEFT,\n    icon: 'ic-alignment-left',\n    title: 'alignmentPopup.alignLeft',\n  },\n  {\n    alignment: CENTER_HORIZONTAL,\n    icon: 'ic-alignment-center-horizontal',\n    title: 'alignmentPopup.alignHorizontalCenter',\n  },\n  {\n    alignment: RIGHT,\n    icon: 'ic-alignment-right',\n    title: 'alignmentPopup.alignRight',\n  },\n  {\n    alignment: TOP,\n    icon: 'ic-alignment-top',\n    title: 'alignmentPopup.alignTop',\n  },\n  {\n    alignment: CENTER_VERTICAL,\n    icon: 'ic-alignment-center-vertical',\n    title: 'alignmentPopup.alignVerticalCenter',\n  },\n  {\n    alignment: BOTTOM,\n    icon: 'ic-alignment-bottom',\n    title: 'alignmentPopup.alignBottom',\n  }\n];\n\nconst distributeConfig = [\n  {\n    alignment: DISTRIBUTE_VERTICAL,\n    icon: 'ic-distribute-vertical',\n    title: 'alignmentPopup.distributeVertical',\n  },\n  {\n    alignment: DISTRIBUTE_HORIZONTAL,\n    icon: 'ic-distribute-horizontal',\n    title: 'alignmentPopup.distributeHorizontal',\n  }\n];\n\nexport {\n  alignmentConfig,\n  distributeConfig\n};","import actions from 'actions';\nimport classNames from 'classnames';\nimport useCore from 'hooks/useCore';\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { getAnnotationPopupPositionBasedOn } from 'helpers/getPopupPosition';\nimport PropTypes from 'prop-types';\nimport selectors from 'selectors';\n\nimport AlignmentPopup from './AlignmentPopup';\nimport './AlignmentPopup.scss';\nimport DataElementWrapper from '../DataElementWrapper';\nimport DataElements from 'src/constants/dataElement';\nimport { alignmentConfig, distributeConfig } from './AlignmentConfig';\n\nconst propTypes = {\n  annotation: PropTypes.object,\n};\n\nconst AlignmentPopupContainer = ({\n  annotation\n}) => {\n  const [\n    isOpen,\n    activeDocumentViewerKey\n  ] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, DataElements.ANNOTATION_ALIGNMENT_POPUP),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual,\n  );\n\n  const [position, setPosition] = useState({ left: 0, top: 0 });\n  const popupRef = useRef();\n  const dispatch = useDispatch();\n  const { core } = useCore();\n\n  const alignmentOnClick = (alignment) => {\n    const annotManager = core.getAnnotationManager();\n    const selectedAnnotations = annotManager.getSelectedAnnotations();\n    if (alignment === 'centerHorizontal' || alignment === 'centerVertical') {\n      annotManager.Alignment.centerAnnotations(selectedAnnotations, alignment);\n    } else {\n      annotManager.Alignment.alignAnnotations(selectedAnnotations, alignment);\n    }\n    setPopupPosition();\n  };\n\n  const distributeOnClick = (alignment) => {\n    const annotManager = core.getAnnotationManager();\n    const selectedAnnotations = annotManager.getSelectedAnnotations();\n    annotManager.Alignment.distributeAnnotations(selectedAnnotations, alignment);\n    setPopupPosition();\n  };\n\n  const backToMenuOnClick = () => {\n    dispatch(actions.closeElement(DataElements.ANNOTATION_ALIGNMENT_POPUP));\n    const annotManager = core.getAnnotationManager();\n    const selectedAnnotations = annotManager.getSelectedAnnotations();\n    annotManager.selectAnnotations(selectedAnnotations);\n  };\n\n  useLayoutEffect(() => {\n    if (annotation || isOpen) {\n      setPopupPosition();\n    }\n  }, [annotation, isOpen, activeDocumentViewerKey]);\n\n  const setPopupPosition = () => {\n    if (annotation && popupRef.current) {\n      setPosition(getAnnotationPopupPositionBasedOn(annotation, popupRef, activeDocumentViewerKey));\n    }\n  };\n\n  const className = classNames({\n    Popup: true,\n    AlignAnnotationPopupContainer: true,\n    open: isOpen,\n    closed: !isOpen,\n  });\n\n  const isAnnotation = annotation !== undefined;\n\n  return (\n    <DataElementWrapper\n      dataElement={DataElements.ANNOTATION_ALIGNMENT_POPUP}\n      className={className}\n      style={{ ...position }}\n      ref={popupRef}\n    >\n      <AlignmentPopup\n        alignmentConfig={alignmentConfig}\n        alignmentOnClick={alignmentOnClick}\n        backToMenuOnClick={backToMenuOnClick}\n        distributeConfig={distributeConfig}\n        distributeOnClick={distributeOnClick}\n        isAnnotation={isAnnotation}\n      />\n    </DataElementWrapper>\n  );\n};\n\nAlignmentPopupContainer.propTypes = propTypes;\n\nexport default AlignmentPopupContainer;\n","import AlignmentPopupContainer from './AlignmentPopupContainer';\n\nexport default AlignmentPopupContainer;"],"sourceRoot":""}
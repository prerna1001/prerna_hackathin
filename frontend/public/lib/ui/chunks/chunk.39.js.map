{"version":3,"sources":["webpack:///./src/ui/src/components/SignatureModal/InkSignature/InkSignature.scss?0b75","webpack:///./src/ui/src/components/SignatureModal/TextSignature/TextSignature.scss?5bbd","webpack:///./src/ui/src/components/SignatureModal/ImageSignature/ImageSignature.scss?ac0e","webpack:///./src/ui/src/components/SignatureModal/SavedSignatures/SavedSignatures.scss?faa3","webpack:///./src/ui/src/components/SignatureModal/SignatureModal.scss?752c","webpack:///./src/ui/src/components/SignatureModal/InkSignature/InkSignature.js","webpack:///./src/ui/src/components/SignatureModal/InkSignature/index.js","webpack:///./src/ui/src/helpers/cropImageFromCanvas.js","webpack:///./src/ui/src/components/SignatureModal/TextSignature/TextSignature.js","webpack:///./src/ui/src/components/SignatureModal/TextSignature/index.js","webpack:///./src/ui/src/components/SignatureModal/ImageSignature/ImageSignature.js","webpack:///./src/ui/src/components/SignatureModal/ImageSignature/index.js","webpack:///./src/ui/src/components/SignatureModal/SavedSignatures/SavedSignatures.js","webpack:///./src/ui/src/components/SignatureModal/SavedSignatures/index.js","webpack:///./src/ui/src/components/SignatureModal/SignatureModal.js","webpack:///./src/ui/src/components/SignatureModal/index.js"],"names":["module","exports","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","_createForOfIteratorHelper","Array","isArray","_unsupportedIterableToArray","_n","F","s","next","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","push","_iterableToArrayLimit","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","from","test","propTypes","isModalOpen","PropTypes","bool","isTabPanelSelected","disableCreateButton","func","enableCreateButton","isInitialsModeEnabled","InkSignature","_ref","setIt","_ref$isInitialsModeEn","core","useCore","fullSignatureCanvas","useRef","initialsCanvas","fullSignaturePathsRef","initialsPathsRef","useTranslation","_useState4","useState","dimension","setDimension","_useState6","fullSignatureDrawn","setFullSignatureDrawn","_useState8","initialsDrawn","setInitialsDrawn","forceUpdate","it","useEffect","signatureTool","getTool","canvas","current","setSignatureCanvas","multiplier","window","Core","getCanvasMultiplier","getContext","scale","secondCanvas","setInitialsCanvas","clearFullSignatureCanvas","clearInitialsCanvas","_resizeFullSignatureCanvas","_callee","signatureToolArray","_iterator","_step","_signatureTool","_t","_context","getToolsFromAllDocumentViewers","setSignature","setInitials","resizeCanvas","SignatureModes","FULL_SIGNATURE","_resizeInitialsCanvas","_callee2","_iterator2","_step2","_signatureTool2","_t2","_context2","INITIALS","resizeFullSignatureCanvas","resizeInitialsCanvas","_resizeCanvasAsyncCall","_callee3","_signatureTool3","_context3","height","width","resizeCanvasAsyncCall","useCallback","clearSignatureCanvas","handleFinishDrawingFullSignature","_ref2","_callee4","_context4","isEmptySignature","deepCopy","getFullSignatureAnnotation","getPaths","handleFinishDrawingInitials","_ref3","_callee5","_context5","getInitialsAnnotation","paths","pathsCopy","j","Math","Point","x","toolStyles","defaults","initialsContainerStyle","display","React","createElement","Measure","bounds","onResize","_ref4","_ref5","measureRef","className","ref","Swipeable","onSwiping","_ref6","event","stopPropagation","onMouseUp","onTouchEnd","onMouseLeave","onClick","disabled","aria-label","style","Dropdown","id","placeholder","ColorPalette","color","property","onStyleChange","setToolStyles","StrokeColor","handleColorInputChange","overridePalette2","COMMON_COLORS","BASIC_PALETTE","cropImageFromCanvas","index","ctx","pixels","imageData","getImageData","data","sort","b","cut","putImageData","toDataURL","DEFAULT_FONT_COLOR","CANVAS_MULTIPLIER","parseInitialsFromFullSignature","fullSiganture","split","map","join","toUpperCase","getSignatureLength","text","fontSize","fontFamily","font","concat","textSpan","document","visibility","rootNode","getRootNode","isApryseWebViewerWebComponent","appendChild","getElementsByTagName","textContent","signatureWidth","getBoundingClientRect","remove","scaleFontSize","currentFontSize","minFontSize","maxFontSize","FONT_SIZE","floor","measurementReference","overrideMultiplier","undefined","_measurementReference","max","setFontInCanvas","selectedFontFamily","fontColor","_ref$overrideMultipli","fillStyle","textAlign","textBaseline","drawTextInCanvas","clearRect","fillText","TextSignature","_ref2$isInitialsModeE","fonts","useSelector","state","selectors","getSignatureFonts","textSignatureCanvasMultiplier","getTextSignatureQuality","fullSignature","setFullSiganture","initials","isDefaultValue","setIsDefaultValue","_useState0","Annotations","Color","setFontColor","_useState10","setFontSize","inputRef","fullSignatureHiddenCanvasRef","initialsHiddenCanvasRef","hiddenFullSignatureRef","hiddenInitialsRef","_useState12","setSelectedFontFamily","includes","setInitialsInTool","currentUser","getDisplayAuthor","getCurrentUser","_inputRef$current","focus","isIOS","setSelectionRange","select","onUpdateAnnotationPermission","addEventListener","removeEventListener","trim","base64","forEach","tool","handleDropdownSelectionChange","newFontSize","isDisabled","initialsInputStyle","type","onChange","target","replace","toHexString","classNames","items","getCustomItemStyle","item","getKey","translationPrefix","showLabelInList","getDisplayValue","onClickItem","currentSelectionKey","maxHeight","isMobile","dataElement","signatureType","acceptedFileTypes","acceptedFileSize","readImageFile","file","reject","fileReader","FileReader","onload","imageSource","result","some","indexOf","fileSize","size","i18next","readAsDataURL","ImageSignature","_useState2","fullSignatureImage","setFullSignatureImage","fullSignatureFileSize","setFullSignatureFileSize","initialsImage","setInitialsImage","initialsFileSize","setInitialsFileSize","draggingSignatureType","setDraggingSignatureType","fullSignatureErrorMessage","setFullSignatureErrorMessage","initialsErrorMessage","setInitialsErrorMessage","fullSignatureInputRef","initialsInputRef","handleFullSignatureFileChange","readFullSignatureFile","files","handleInitialsFileChange","readInitialsFile","handleDragEnter","preventDefault","handleDragOver","handleDragLeave","parentNode","contains","relatedTarget","handleDragExit","handleFullSignatureFileDrop","dataTransfer","_x","handleInitialsFileDrop","_x2","handleFullSignatureDragEnter","handleFullSignatureDragLeave","handleInitialsDragEnter","handleInitialsDragLeave","renderPrompt","Fragment","hasLimit","fullSignatureFileSizeCheck","initialsFileSizeCheck","fullSignatureContainerClass","mobile","dragging","initialsContainerClass","src","alt","maxWidth","onDragEnter","onDragLeave","onDragOver","onDrop","onDragExit","accept","click","SavedSignatures","selectedIndex","setSelectedIndex","dispatch","useDispatch","_useSelector2","getDisplayedSignatures","getSelectedDisplayedSignatureIndex","isElementDisabled","getSavedInitials","getSelectedDisplayedInitialsIndex","getSignatureMode","getInitialsOffset","displayedSignatures","selectedDisplayedSignatureIndex","isSignatureDeleteButtonDisabled","savedInitials","selectedDisplayedInitialsIndex","signatureMode","initialsOffset","deleteSignatureAndInitials","isFullSignature","initialsIndex","skipInitial","actions","setInitialsOffset","deleteSavedInitials","setSelectedDisplayedInitialsIndex","hidePreview","err","setToolMode","defaultTool","deleteSavedSignature","setSelectedDisplayedSignatureIndex","displayedIntials","empty","signature","key","active","checked","imgSrc","data-element","Icon","glyph","SignatureModal","DataElements","SIGNATURE_MODAL","isElementOpen","getActiveToolName","getActiveDocumentViewerKey","getIsInitialsModeEnabled","SAVED_SIGNATURES_TAB","getSelectedTab","isOpen","activeToolName","activeDocumentViewerKey","isSavedTabDisabled","selectedTab","createButtonDisabled","setCreateButtonDisabled","useDidUpdate","closeElements","SIGNATURE_OVERLAY","PRINT_MODAL","LOADING_MODAL","PROGRESS_MODAL","ERROR_MODAL","closeModal","clearLocation","closeElement","createSignatures","createFullSignature","createInitials","saveSignatures","hasLocation","addSignature","showPreview","_iterator3","_step3","saveInitials","isEmptyInitialsSignature","addInitials","showInitialsPreview","setSignatureMode","annotation","_iterator4","_step4","_t3","modalClass","Modal","open","closed","isSavedTabSelected","ModalWrapper","title","closeHandler","onCloseClick","swipeToClose","onMouseDown","Tabs","Tab","TabPanel","useFocusOnClose"],"mappings":"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","file":"chunks/chunk.39.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Measure from 'react-measure';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport setToolStyles from 'helpers/setToolStyles';\nimport { Swipeable } from 'react-swipeable';\nimport ColorPalette from 'components/ColorPalette';\nimport Dropdown from 'components/Dropdown';\nimport SignatureModes from 'constants/signatureModes';\nimport useCore from 'hooks/useCore';\nimport { COMMON_COLORS, BASIC_PALETTE } from 'constants/commonColors';\n\nimport './InkSignature.scss';\n\nconst useForceUpdate = () => {\n  const [, setIt] = useState(false);\n  return () => setIt((it) => !it);\n};\n\nconst propTypes = {\n  isModalOpen: PropTypes.bool,\n  isTabPanelSelected: PropTypes.bool,\n  disableCreateButton: PropTypes.func,\n  enableCreateButton: PropTypes.func,\n  isInitialsModeEnabled: PropTypes.bool,\n};\n\nconst InkSignature = ({\n  isModalOpen,\n  isTabPanelSelected,\n  disableCreateButton,\n  enableCreateButton,\n  isInitialsModeEnabled = false\n}) => {\n  const { core } = useCore();\n  const fullSignatureCanvas = useRef();\n  const initialsCanvas = useRef();\n  // the ref holds the path points of the underlying freehand annotation\n  // when users switch to a different tab the underlying signature annotation will change\n  // so this ref is used for setting the current uderlying annotation back when users switch back to the ink tab\n  const fullSignaturePathsRef = useRef();\n  const initialsPathsRef = useRef();\n  // the ref holds an id that will be used to check if the newly added signature annotation is the same as the freehand annotation that's drawn in the canvas\n  const [t] = useTranslation();\n  const [dimension, setDimension] = useState({});\n  const [fullSignatureDrawn, setFullSignatureDrawn] = useState(false);\n  const [initialsDrawn, setInitialsDrawn] = useState(false);\n\n  const forceUpdate = useForceUpdate();\n\n  useEffect(() => {\n    const signatureTool = core.getTool('AnnotationCreateSignature');\n    const canvas = fullSignatureCanvas.current;\n\n    signatureTool.setSignatureCanvas(canvas);\n    const multiplier = window.Core.getCanvasMultiplier();\n    canvas.getContext('2d').scale(multiplier, multiplier);\n\n    // Now set the initials canvas\n    const secondCanvas = initialsCanvas.current;\n    signatureTool.setInitialsCanvas(secondCanvas);\n    secondCanvas.getContext('2d').scale(multiplier, multiplier);\n  }, []);\n\n  useEffect(() => {\n    if (isModalOpen) {\n      clearFullSignatureCanvas();\n      clearInitialsCanvas();\n    }\n  }, [isModalOpen]);\n\n  useEffect(() => {\n    async function resizeFullSignatureCanvas() {\n      if (isModalOpen && isTabPanelSelected) {\n        const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\n        for (const signatureTool of signatureToolArray) {\n          signatureTool.setSignature(fullSignaturePathsRef.current);\n          signatureTool.setInitials(initialsPathsRef.current);\n          // use resizeCanvas here mainly for redawing the underlying signature annotation to make it show on the canvas\n          await signatureTool.resizeCanvas(SignatureModes.FULL_SIGNATURE);\n        }\n      }\n    }\n\n\n    async function resizeInitialsCanvas() {\n      if (isModalOpen && isTabPanelSelected && isInitialsModeEnabled) {\n        const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\n        for (const signatureTool of signatureToolArray) {\n          signatureTool.setInitials(initialsPathsRef.current);\n          await signatureTool.resizeCanvas(SignatureModes.INITIALS);\n        }\n      }\n    }\n\n    function checkEnableCreateButton() {\n      if (isInitialsModeEnabled) {\n        (fullSignaturePathsRef.current && initialsPathsRef.current) ? enableCreateButton() : disableCreateButton();\n      } else {\n        fullSignaturePathsRef.current ? enableCreateButton() : disableCreateButton();\n      }\n    }\n\n    resizeFullSignatureCanvas();\n    resizeInitialsCanvas();\n    checkEnableCreateButton();\n  }, [isTabPanelSelected, isModalOpen, isInitialsModeEnabled]);\n\n  useEffect(() => {\n    async function resizeCanvasAsyncCall() {\n      if (dimension.height && dimension.width) {\n        const signatureTool = core.getTool('AnnotationCreateSignature');\n        await signatureTool.resizeCanvas();\n\n        if (isInitialsModeEnabled) {\n          await signatureTool.resizeCanvas(SignatureModes.INITIALS);\n        }\n      }\n    }\n    resizeCanvasAsyncCall();\n  }, [dimension, isInitialsModeEnabled]);\n\n  useEffect(() => {\n    if (fullSignatureDrawn && (!isInitialsModeEnabled || initialsDrawn)) {\n      enableCreateButton();\n    } else {\n      disableCreateButton();\n    }\n  }, [initialsDrawn, fullSignatureDrawn, isInitialsModeEnabled]);\n\n  const clearFullSignatureCanvas = useCallback(() => {\n    const signatureTool = core.getTool('AnnotationCreateSignature');\n    signatureTool.clearSignatureCanvas();\n    fullSignaturePathsRef.current = null;\n    setFullSignatureDrawn(false);\n  }, []);\n\n  const clearInitialsCanvas = useCallback(() => {\n    const signatureTool = core.getTool('AnnotationCreateSignature');\n    signatureTool.clearInitialsCanvas();\n    initialsPathsRef.current = null;\n    setInitialsDrawn(false);\n  }, []);\n\n  const handleFinishDrawingFullSignature = async () => {\n    const signatureTool = core.getTool('AnnotationCreateSignature');\n    if (!(await signatureTool.isEmptySignature())) {\n      // need to deep copy the paths because it will be modified\n      // when the annotation is added to the document\n      // we want to keep the unmodified paths so that users can keep drawing on the canvas\n      fullSignaturePathsRef.current = deepCopy(signatureTool.getFullSignatureAnnotation().getPaths());\n      setFullSignatureDrawn(true);\n    }\n  };\n\n  const handleFinishDrawingInitials = async () => {\n    const signatureTool = core.getTool('AnnotationCreateSignature');\n    const initialsAnnotation = signatureTool.getInitialsAnnotation();\n    if (initialsAnnotation) {\n      // need to deep copy the paths because it will be modified\n      // when the annotation is added to the document\n      // we want to keep the unmodified paths so that users can keep drawing on the canvas\n      initialsPathsRef.current = deepCopy(signatureTool.getInitialsAnnotation().getPaths());\n      setInitialsDrawn(true);\n    }\n  };\n\n  const handleColorInputChange = (property, value) => {\n    setToolStyles('AnnotationCreateSignature', property, value);\n    const signatureTool = core.getTool('AnnotationCreateSignature');\n    if (signatureTool.getFullSignatureAnnotation()) {\n      signatureTool.getFullSignatureAnnotation().StrokeColor = value;\n      signatureTool.resizeCanvas(SignatureModes.FULL_SIGNATURE);\n    }\n\n    if (signatureTool.getInitialsAnnotation()) {\n      signatureTool.getInitialsAnnotation().StrokeColor = value;\n      signatureTool.resizeCanvas(SignatureModes.INITIALS);\n    }\n    // hack for tool styles for signature not being on state\n    forceUpdate();\n  };\n\n  const deepCopy = (paths) => {\n    const pathsCopy = [];\n    for (let i = 0; i < paths.length; ++i) {\n      for (let j = 0; j < paths[i].length; ++j) {\n        if (!pathsCopy[i]) {\n          pathsCopy[i] = [];\n        }\n        pathsCopy[i][j] = new window.Core.Math.Point(paths[i][j].x, paths[i][j].y);\n      }\n    }\n\n    return pathsCopy;\n  };\n\n  const signatureTool = core.getTool('AnnotationCreateSignature');\n  const toolStyles = signatureTool.defaults;\n  const initialsContainerStyle = isInitialsModeEnabled ? {} : { display: 'none' };\n\n  return (\n    <Measure bounds onResize={({ bounds }) => setDimension(bounds)}>\n      {({ measureRef }) => (\n        <div className=\"ink-signature\" ref={measureRef}>\n          <Swipeable\n            onSwiping={({ event }) => event.stopPropagation()}\n            className=\"canvas-colorpalette-container\"\n          >\n            <div className='signature-and-initials-container'>\n              <div className='signature-input full-signature'>\n                <canvas\n                  className=\"ink-signature-canvas\"\n                  onMouseUp={handleFinishDrawingFullSignature}\n                  onTouchEnd={handleFinishDrawingFullSignature}\n                  onMouseLeave={handleFinishDrawingFullSignature}\n                  ref={fullSignatureCanvas}\n                />\n                <div className=\"signature-input-footer\">\n                  <div className=\"signature-prompt\">\n                    {t('option.signatureModal.drawSignature')}\n                  </div>\n                  <button\n                    className=\"footer-signature-clear\"\n                    onClick={clearFullSignatureCanvas}\n                    disabled={!fullSignatureDrawn}\n                    aria-label={t('action.clearSignature')}\n                  >\n                    {t('action.clear')}\n                  </button>\n                </div>\n              </div>\n              <div className='signature-input initials' style={initialsContainerStyle}>\n                <canvas\n                  className=\"ink-signature-canvas\"\n                  onMouseUp={handleFinishDrawingInitials}\n                  onTouchEnd={handleFinishDrawingInitials}\n                  onMouseLeave={handleFinishDrawingInitials}\n                  ref={initialsCanvas}\n                />\n                <div className=\"signature-input-footer\">\n                  <div className=\"signature-prompt\">\n                    {t('option.signatureModal.drawInitial')}\n                  </div>\n                  <button\n                    className=\"footer-signature-clear\"\n                    onClick={clearInitialsCanvas}\n                    disabled={!initialsDrawn}\n                    aria-label={t('action.clearInitial')}\n                  >\n                    {t('action.clear')}\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div className=\"colorpalette-clear-container\">\n              <div className=\"signature-style-options\">\n                <Dropdown\n                  id=\"ink-signature-font-dropdown\"\n                  disabled={true}\n                  placeholder={'Text Styles'}\n                />\n                <div className=\"placeholder-dropdown\"></div>\n                <div className=\"divider\"></div>\n                <ColorPalette\n                  color={toolStyles['StrokeColor']}\n                  property=\"StrokeColor\"\n                  onStyleChange={(property, value) => handleColorInputChange(property, value)}\n                  /* eslint-disable-next-line custom/no-hex-colors */\n                  overridePalette2={[COMMON_COLORS['black'], BASIC_PALETTE[12], BASIC_PALETTE[7]]}\n                />\n              </div>\n            </div>\n          </Swipeable>\n        </div>\n      )}\n    </Measure>\n  );\n};\n\nInkSignature.propTypes = propTypes;\n\nexport default InkSignature;\n","import InkSignature from './InkSignature';\n\nexport default InkSignature;","\n// Crops the image more accurately by removing white space from all side of the image.\nfunction cropImageFromCanvas(canvas) {\n  const ctx = canvas.getContext('2d');\n  let width = canvas.width;\n  let height = canvas.height;\n  const pixels = { x: [], y: [] };\n  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n  let x;\n  let y;\n  let index;\n\n  for (y = 0; y < height; y++) {\n    for (x = 0; x < width; x++) {\n      index = (y * width + x) * 4;\n      if (imageData.data[index + 3] > 0) {\n        pixels.x.push(x);\n        pixels.y.push(y);\n      }\n    }\n  }\n  pixels.x.sort(function(a, b) {\n    return a - b;\n  });\n  pixels.y.sort(function(a, b) {\n    return a - b;\n  });\n  const n = pixels.x.length - 1;\n\n  width = 1 + pixels.x[n] - pixels.x[0];\n  height = 1 + pixels.y[n] - pixels.y[0];\n  const cut = ctx.getImageData(pixels.x[0], pixels.y[0], width, height);\n\n  canvas.width = width;\n  canvas.height = height;\n  ctx.putImageData(cut, 0, 0);\n\n  return canvas.toDataURL();\n}\n\nexport default cropImageFromCanvas;","import React, { useState, useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport ColorPalette from 'components/ColorPalette';\nimport Dropdown from 'components/Dropdown';\nimport useCore from 'hooks/useCore';\nimport { isIOS, isMobile } from 'helpers/device';\nimport cropImageFromCanvas from 'helpers/cropImageFromCanvas';\nimport selectors from 'selectors';\nimport { useTranslation } from 'react-i18next';\nimport { COMMON_COLORS, BASIC_PALETTE } from 'constants/commonColors';\n\nimport './TextSignature.scss';\nimport getRootNode from 'helpers/getRootNode';\n\nconst propTypes = {\n  isModalOpen: PropTypes.bool,\n  isTabPanelSelected: PropTypes.bool,\n  disableCreateButton: PropTypes.func,\n  enableCreateButton: PropTypes.func,\n  isInitialsModeEnabled: PropTypes.bool,\n};\n\nconst FONT_SIZE = 72;\nconst TYPED_SIGNATURE_FONT_SIZE = (FONT_SIZE * 2) / 3;\nconst MAX_SIGNATURE_LENGTH = 350;\nconst DEFAULT_FONT_COLOR = COMMON_COLORS['black'];\nconst CANVAS_MULTIPLIER = window.Core.getCanvasMultiplier();\nconst TEXT_CLIP_PADDING = 100;\n\nconst useForceUpdate = () => {\n  const [, setIt] = useState(false);\n  return () => setIt((it) => !it);\n};\n\nconst parseInitialsFromFullSignature = (fullSiganture) => {\n  return fullSiganture?.split(' ').map((x) => x[0]).join('').toUpperCase();\n};\n\nconst getSignatureLength = (text, fontSize, fontFamily) => {\n  const font = `${fontSize}px ${fontFamily}`;\n  const textSpan = document.createElement('span');\n  textSpan.id = 'textSpan';\n  textSpan.style.display = 'inline-block';\n  textSpan.style.visibility = 'hidden';\n  textSpan.style.font = font;\n  const rootNode = getRootNode();\n  if (window.isApryseWebViewerWebComponent) {\n    rootNode.appendChild(textSpan);\n  } else {\n    rootNode.getElementsByTagName('body')[0].appendChild(textSpan);\n  }\n\n  textSpan.textContent = text;\n\n  const signatureWidth = textSpan.getBoundingClientRect().width;\n  textSpan.remove();\n  return signatureWidth;\n};\n\nconst scaleFontSize = (text, fontFamily) => {\n  let minFontSize = 0;\n  let maxFontSize = TYPED_SIGNATURE_FONT_SIZE;\n  let currentFontSize;\n\n  while (minFontSize <= maxFontSize) {\n    currentFontSize = Math.floor((minFontSize + maxFontSize) / 2);\n\n    const signatureWidth = getSignatureLength(text, currentFontSize, fontFamily);\n    if (signatureWidth > MAX_SIGNATURE_LENGTH) {\n      maxFontSize = currentFontSize - 1;\n    } else {\n      minFontSize = currentFontSize + 1;\n    }\n  }\n  return currentFontSize;\n};\n\nconst resizeCanvas = (canvas, measurementReference, overrideMultiplier = 0) => {\n  let { width, height } = measurementReference.current.getBoundingClientRect();\n  width += TEXT_CLIP_PADDING;\n  height += TEXT_CLIP_PADDING;\n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n  canvas.width = width * Math.max(overrideMultiplier, CANVAS_MULTIPLIER);\n  canvas.height = height * Math.max(overrideMultiplier, CANVAS_MULTIPLIER);\n};\n\nconst setFontInCanvas = ({ canvas, text, selectedFontFamily, fontColor, overrideMultiplier = 0 }) => {\n  const ctx = canvas.getContext('2d');\n  const fontSize = scaleFontSize(text, selectedFontFamily);\n  ctx.fillStyle = fontColor;\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.font = `${fontSize * Math.max(overrideMultiplier, CANVAS_MULTIPLIER)}px ${selectedFontFamily}`;\n};\n\nconst drawTextInCanvas = (canvas, text) => {\n  const ctx = canvas.getContext('2d');\n  const { width, height } = canvas;\n  ctx.clearRect(0, 0, width, height);\n  ctx.fillText(text, width / 2, height / 2);\n};\n\nconst TextSignature = ({\n  isModalOpen,\n  isTabPanelSelected,\n  disableCreateButton,\n  enableCreateButton,\n  isInitialsModeEnabled = false,\n}) => {\n  const { core } = useCore();\n  const fonts = useSelector((state) => selectors.getSignatureFonts(state));\n  const textSignatureCanvasMultiplier = useSelector((state) => selectors.getTextSignatureQuality(state));\n  const [fullSignature, setFullSiganture] = useState('');\n  const [initials, setInitials] = useState('');\n  const [isDefaultValue, setIsDefaultValue] = useState(true);\n  const [fontColor, setFontColor] = useState(new window.Core.Annotations.Color(DEFAULT_FONT_COLOR));\n  const [fontSize, setFontSize] = useState(TYPED_SIGNATURE_FONT_SIZE);\n  const inputRef = useRef();\n  const fullSignatureHiddenCanvasRef = useRef();\n  const initialsHiddenCanvasRef = useRef();\n  const hiddenFullSignatureRef = useRef();\n  const hiddenInitialsRef = useRef();\n  const [t] = useTranslation();\n\n  const [selectedFontFamily, setSelectedFontFamily] = useState(fonts[0]);\n\n  const forceUpdate = useForceUpdate();\n\n  // Create button is only enabled when there's a signature\n  // if initials are enabled, then those must also be filled in\n  useEffect(() => {\n    if (fullSignature?.length > 0 && (!isInitialsModeEnabled || initials)) {\n      enableCreateButton();\n    } else {\n      disableCreateButton();\n    }\n  }, [initials, fullSignature, isInitialsModeEnabled]);\n\n  useEffect(() => {\n    // this can happen when an user added a new signature font, select it and then removed it\n    // in this case we just assume there's at least one font and set the active index to 0\n    if (!fonts.includes(selectedFontFamily)) {\n      setSelectedFontFamily(fonts[0]);\n    }\n  }, [selectedFontFamily, fonts]);\n\n  useEffect(() => {\n    const initialsCanvas = initialsHiddenCanvasRef.current;\n\n    if (isTabPanelSelected) {\n      resizeCanvas(initialsCanvas, hiddenInitialsRef);\n      setFontInCanvas({\n        canvas: initialsCanvas,\n        text: initials,\n        selectedFontFamily,\n        fontColor,\n      });\n      drawTextInCanvas(initialsCanvas, initials);\n\n      if (isModalOpen) {\n        setInitialsInTool();\n      }\n    }\n  }, [isTabPanelSelected, initials, fonts, fontColor, selectedFontFamily]);\n\n  useEffect(() => {\n    const fullSignatureCanvas = fullSignatureHiddenCanvasRef.current;\n\n    if (isTabPanelSelected) {\n      resizeCanvas(fullSignatureCanvas, hiddenFullSignatureRef, textSignatureCanvasMultiplier);\n      setFontInCanvas({\n        canvas: fullSignatureCanvas,\n        text: fullSignature,\n        selectedFontFamily,\n        fontColor,\n        overrideMultiplier: textSignatureCanvasMultiplier,\n      });\n      drawTextInCanvas(fullSignatureCanvas, fullSignature);\n      if (isModalOpen) {\n        setSignature();\n      }\n    }\n  }, [isTabPanelSelected, fullSignature, fonts, fontColor, selectedFontFamily]);\n\n  useEffect(() => {\n    setFontColor(fontColor);\n    if (isModalOpen && isTabPanelSelected) {\n      const currentUser = core.getDisplayAuthor(core.getCurrentUser());\n      setFullSiganture(currentUser);\n      setInitials(parseInitialsFromFullSignature(currentUser));\n      setSignature();\n      if (fullSignature?.length > 0 && (!isInitialsModeEnabled || initials)) {\n        enableCreateButton();\n      }\n    }\n  }, [isModalOpen, isTabPanelSelected]);\n\n  useEffect(() => {\n    if (isTabPanelSelected) {\n      inputRef.current?.focus();\n\n      if (isIOS) {\n        inputRef.current.setSelectionRange(0, 9999);\n      } else {\n        inputRef.current.select();\n      }\n    }\n  }, [isTabPanelSelected]);\n\n  useEffect(() => {\n    const onUpdateAnnotationPermission = () => {\n      if (isDefaultValue) {\n        const currentUser = core.getDisplayAuthor(core.getCurrentUser());\n        setFullSiganture(currentUser);\n        setInitials(parseInitialsFromFullSignature(currentUser));\n        enableCreateButton();\n      }\n    };\n\n    core.addEventListener('updateAnnotationPermission', onUpdateAnnotationPermission);\n    return () => {\n      core.removeEventListener('updateAnnotationPermission', onUpdateAnnotationPermission);\n    };\n  }, [isDefaultValue]);\n\n  const setSignature = () => {\n    const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\n    const canvas = fullSignatureHiddenCanvasRef.current;\n\n    const signatureValue = fullSignature || '';\n    if (signatureValue.trim()) {\n      const base64 = cropImageFromCanvas(canvas);\n      signatureToolArray.forEach((tool) => tool.setSignature(base64));\n    } else {\n      signatureToolArray.forEach((tool) => tool.setSignature(null));\n    }\n  };\n\n  const setInitialsInTool = () => {\n    const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\n    const canvas = initialsHiddenCanvasRef.current;\n\n    const initialsValue = initials || '';\n    if (initialsValue.trim()) {\n      const base64 = cropImageFromCanvas(canvas);\n      signatureToolArray.forEach((tool) => tool.setInitials(base64));\n    } else {\n      signatureToolArray.forEach((tool) => tool.setInitials(null));\n    }\n  };\n\n  const handleFullSignatureChange = (e) => {\n    setIsDefaultValue(false);\n    // Use regex instead of 'trimStart' for IE11 compatibility\n    const value = e.target.value.replace(/^\\s+/g, '');\n    setSignature();\n    setFullSiganture(value);\n    setInitials(parseInitialsFromFullSignature(value));\n    const newFontSize = scaleFontSize(value, selectedFontFamily);\n    setFontSize(newFontSize);\n  };\n\n  const handleInitialsChange = (e) => {\n    setIsDefaultValue(false);\n    // Use regex instead of 'trimStart' for IE11 compatibility\n    const initials = e.target.value.replace(/^\\s+/g, '');\n    setSignature();\n    setInitials(initials);\n  };\n\n  const handleColorInputChange = (property, value) => {\n    setFontColor(value);\n    // hack for tool styles for signature not being on state\n    // Note from ADBG : But why tho?\n    forceUpdate();\n  };\n\n  const handleDropdownSelectionChange = (font) => {\n    setSelectedFontFamily(font);\n    const newFontSize = scaleFontSize(fullSignature, font);\n    setFontSize(newFontSize);\n  };\n\n  // These elements are hidden from the user but are used as references to measure\n  // how the text fits, and then resize the canvas accordingly\n  const renderHiddenSignatureElements = () => {\n    return (\n      <div\n        className={classNames({\n          'text-signature-text': true,\n        })}\n        style={{ fontFamily: selectedFontFamily, fontSize: FONT_SIZE, color: fontColor.toHexString() }}\n      >\n        <div\n          className=\"text-container\"\n          ref={hiddenFullSignatureRef}\n        >\n          {fullSignature}\n        </div>\n        <div\n          className=\"text-container\"\n          ref={hiddenInitialsRef}\n        >\n          {initials}\n        </div>\n      </div>\n    );\n  };\n\n  // Renders the font options if initials and text signature are occupied\n  const renderFontOptions = () => {\n    const isInitialsModeEnabledAndEmpty = isInitialsModeEnabled && initials === '';\n    if (fullSignature === '' && (isInitialsModeEnabledAndEmpty || !isInitialsModeEnabled)) {\n      return (\n        <Dropdown\n          id='text-signature-font-dropdown'\n          disabled={true}\n          placeholder={t('option.signatureModal.fontStyle')}\n        />\n      );\n    }\n    return (\n      <Dropdown\n        id=\"text-signature-font-dropdown\"\n        items={fonts.map((font) => ({ font, value: `${fullSignature} ${isInitialsModeEnabled ? initials : ''}` }))}\n        getCustomItemStyle={(item) => ({ fontFamily: item.font })}\n        getKey={(item) => item.font}\n        translationPrefix='option.signatureModal.textSignature'\n        showLabelInList\n        getDisplayValue={(item) => {\n          return item.value || item.font;\n        }}\n        onClickItem={handleDropdownSelectionChange}\n        currentSelectionKey={selectedFontFamily || fonts[0]}\n        maxHeight={isMobile() ? 80 : null}\n        dataElement=\"text-signature-font-dropdown\"\n      />\n    );\n  };\n\n  const isDisabled = !(isModalOpen && isTabPanelSelected);\n  const initialsInputStyle = isInitialsModeEnabled ? {} : { display: 'none' };\n\n  return (\n    <div className=\"text-signature\">\n      <div className=\"signature-and-initials-container\">\n        <div className=\"signature-input full-signature\">\n          <label>\n            <input\n              className=\"text-signature-input\"\n              ref={inputRef}\n              aria-label={t('option.signatureModal.typeSignature')}\n              type=\"text\"\n              value={fullSignature}\n              onChange={handleFullSignatureChange}\n              style={{ fontFamily: selectedFontFamily || fonts, fontSize, color: fontColor.toHexString() }}\n              disabled={isDisabled}\n            />\n          </label>\n          <div className=\"signature-input-footer\">\n            <div className='signature-prompt'>\n              {t('option.signatureModal.typeSignature')}\n            </div>\n            <button\n              className=\"footer-signature-clear\"\n              aria-label={t('action.clearSignature')}\n              onClick={() => {\n                setFullSiganture('');\n                inputRef.current.focus();\n              }}\n              disabled={isDisabled || fullSignature.length === 0}\n            >\n              {t('action.clear')}\n            </button>\n          </div>\n        </div>\n        <div className=\"signature-input initials\" style={initialsInputStyle}>\n          <label>\n            <input\n              className=\"text-signature-input\"\n              type=\"text\"\n              value={initials}\n              aria-label={t('option.signatureModal.typeInitial')}\n              onChange={handleInitialsChange}\n              style={{ fontFamily: selectedFontFamily || fonts, fontSize, color: fontColor.toHexString() }}\n              disabled={isDisabled}\n            />\n          </label>\n          <div className=\"signature-input-footer\">\n            <div className='signature-prompt'>\n              {t('option.signatureModal.typeInitial')}\n            </div>\n            <button\n              className=\"footer-signature-clear\"\n              aria-label={t('action.clearInitial')}\n              onClick={() => setInitials('')}\n              disabled={isDisabled || initials.length === 0}\n            >\n              {t('action.clear')}\n            </button>\n          </div>\n        </div>\n      </div>\n      {renderHiddenSignatureElements()}\n      <canvas ref={fullSignatureHiddenCanvasRef} />\n      <canvas ref={initialsHiddenCanvasRef} />\n      <div className=\"colorpalette-clear-container\">\n        <div className=\"signature-style-options\">\n          {renderFontOptions()}\n          <div className=\"placeholder-dropdown\"></div>\n          <div className=\"divider\"></div>\n          <ColorPalette\n            color={fontColor}\n            property=\"fontColor\"\n            onStyleChange={(property, value) => handleColorInputChange(property, value)}\n            /* eslint-disable-next-line custom/no-hex-colors */\n            overridePalette2={[COMMON_COLORS['black'], BASIC_PALETTE[12], BASIC_PALETTE[7]]}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nTextSignature.propTypes = propTypes;\n\nexport default TextSignature;\n","import TextSignature from './TextSignature';\n\nexport default TextSignature;","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { isMobile } from 'helpers/device';\nimport classNames from 'classnames';\nimport i18next from 'i18next';\nimport useCore from 'hooks/useCore';\n\nimport './ImageSignature.scss';\n\nconst propTypes = {\n  isModalOpen: PropTypes.bool,\n  isTabPanelSelected: PropTypes.bool,\n  disableCreateButton: PropTypes.func,\n  enableCreateButton: PropTypes.func,\n  isInitialsModeEnabled: PropTypes.bool,\n};\n\nconst signatureType = {\n  FULL_SIGNATURE: 'fullSignature',\n  INITIALS: 'initials',\n};\nconst acceptedFileTypes = ['png', 'jpg', 'jpeg'];\nlet acceptedFileSize = null;\n\nfunction readImageFile(file) {\n  return new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n\n    fileReader.onload = (event) => {\n      const imageSource = event.target.result;\n      const isValidType = acceptedFileTypes.some(\n        (type) => imageSource.indexOf(`image/${type}`) !== -1,\n      );\n\n      if (isValidType) {\n        resolve({\n          imageSource,\n          fileSize: file.size,\n        });\n      } else {\n        reject(i18next.t('message.imageSignatureAcceptedFileTypes', {\n          acceptedFileTypes: acceptedFileTypes.join(', '),\n        }));\n      }\n    };\n\n    fileReader.readAsDataURL(file);\n  });\n}\n\n\nconst ImageSignature = ({\n  isModalOpen,\n  isTabPanelSelected,\n  disableCreateButton,\n  enableCreateButton,\n  isInitialsModeEnabled = false,\n}) => {\n  const { core } = useCore();\n  const [fullSignatureImage, setFullSignatureImage] = useState(null);\n  const [fullSignatureFileSize, setFullSignatureFileSize] = useState(null);\n  const [initialsImage, setInitialsImage] = useState(null);\n  const [initialsFileSize, setInitialsFileSize] = useState(null);\n  const [draggingSignatureType, setDraggingSignatureType] = useState('');\n  const [fullSignatureErrorMessage, setFullSignatureErrorMessage] = useState(null);\n  const [initialsErrorMessage, setInitialsErrorMessage] = useState(null);\n  const fullSignatureInputRef = useRef();\n  const initialsInputRef = useRef();\n  const [t] = useTranslation();\n\n  useEffect(() => {\n    const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\n    acceptedFileSize = signatureToolArray[0]['ACCEPTED_FILE_SIZE'];\n    if (!isModalOpen) {\n      setFullSignatureImage(null);\n      setInitialsImage(null);\n      setInitialsFileSize(null);\n      setInitialsFileSize(null);\n    } else if (isModalOpen && isTabPanelSelected) {\n      signatureToolArray.forEach((signatureTool) => signatureTool.setSignature(fullSignatureImage, fullSignatureFileSize));\n      signatureToolArray.forEach((signatureTool) => signatureTool.setInitials(initialsImage, initialsFileSize));\n      (fullSignatureImage && (!isInitialsModeEnabled || initialsImage)) ? enableCreateButton() : disableCreateButton();\n    }\n  }, [fullSignatureImage, initialsImage, isTabPanelSelected, isModalOpen, initialsFileSize, fullSignatureFileSize, isInitialsModeEnabled]);\n\n  const handleFullSignatureFileChange = (event) => {\n    readFullSignatureFile(event.target.files[0]);\n  };\n\n  const handleInitialsFileChange = (event) => {\n    readInitialsFile(event.target.files[0]);\n  };\n\n  const handleDragEnter = useCallback((event, signatureType) => {\n    event.preventDefault();\n    setDraggingSignatureType(signatureType);\n  }, []);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n  }, []);\n\n  const handleDragLeave = useCallback((event) => {\n    event.preventDefault();\n\n    if (!event.target.parentNode.contains(event.relatedTarget)) {\n      setDraggingSignatureType(null);\n    }\n  }, []);\n\n  const handleDragExit = useCallback((event) => {\n    event.preventDefault();\n    setDraggingSignatureType(null);\n  }, []);\n\n  const handleFullSignatureFileDrop = (event) => {\n    event.preventDefault();\n    setDraggingSignatureType(null);\n    const { files } = event.dataTransfer;\n\n    if (files.length) {\n      readFullSignatureFile(files[0]);\n    }\n  };\n\n  const readFullSignatureFile = async (file) => {\n    try {\n      const result = await readImageFile(file);\n      const { imageSource, fileSize } = result;\n      setFullSignatureErrorMessage('');\n      setFullSignatureImage(imageSource);\n      setFullSignatureFileSize(fileSize);\n    } catch (errorMessage) {\n      setFullSignatureErrorMessage(errorMessage);\n    }\n  };\n\n  const handleInitialsFileDrop = (event) => {\n    event.preventDefault();\n    setDraggingSignatureType(null);\n    const { files } = event.dataTransfer;\n\n    if (files.length) {\n      readInitialsFile(files[0]);\n    }\n  };\n\n  const readInitialsFile = async (file) => {\n    try {\n      const result = await readImageFile(file);\n      const { imageSource, fileSize } = result;\n      setInitialsErrorMessage('');\n      setInitialsImage(imageSource);\n      setInitialsFileSize(fileSize);\n    } catch (errorMessage) {\n      setInitialsErrorMessage(errorMessage);\n    }\n  };\n\n  const handleFullSignatureDragEnter = useCallback((event) => {\n    handleDragEnter(event, signatureType.FULL_SIGNATURE);\n  }, [handleDragEnter]);\n\n  const handleFullSignatureDragLeave = useCallback((event) => {\n    handleDragLeave(event, signatureType.FULL_SIGNATURE);\n  }, [handleDragLeave]);\n\n\n  const handleInitialsDragEnter = useCallback((event) => {\n    handleDragEnter(event, signatureType.INITIALS);\n  }, [handleDragEnter]);\n\n  const handleInitialsDragLeave = useCallback((event) => {\n    handleDragLeave(event, signatureType.INITIALS);\n  }, [handleDragLeave]);\n\n  const renderPrompt = () => {\n    if (isMobile()) {\n      return (\n        <div className=\"image-signature-separator\">\n          {t('option.signatureModal.selectImage')}\n        </div>\n      );\n    }\n    return (\n      <>\n        <div className=\"image-signature-dnd\">\n          {t('option.signatureModal.dragAndDrop')}\n        </div>\n        <div className=\"image-signature-separator\">\n          {t('option.signatureModal.or')}\n        </div>\n      </>\n    );\n  };\n\n  const renderFullSignatureImage = () => (<img src={fullSignatureImage} alt={t('option.signatureModal.imageSignature')} style={{ maxWidth: '100%', maxHeight: '100%' }} />);\n\n  const renderFullSignaturePicker = () => (\n    <div\n      className={fullSignatureContainerClass}\n      onDragEnter={handleFullSignatureDragEnter}\n      onDragLeave={handleFullSignatureDragLeave}\n      onDragOver={handleDragOver}\n      onDrop={handleFullSignatureFileDrop}\n      onDragExit={handleDragExit}\n    >\n      {renderPrompt()}\n      <div className=\"image-signature-upload\">\n        <input\n          ref={fullSignatureInputRef}\n          id=\"upload\"\n          type=\"file\"\n          accept={acceptedFileTypes.map((type) => `.${type}`).join(',')}\n          onChange={handleFullSignatureFileChange}\n          disabled={!(isModalOpen && isTabPanelSelected)}\n        />\n        <button\n          onClick={() => fullSignatureInputRef.current.click()}\n          className=\"pick-image-button\"\n        >\n          {t('option.signatureModal.pickImage')}\n        </button>\n      </div>\n      {fullSignatureErrorMessage && (\n        <div className=\"image-signature-error\">{fullSignatureErrorMessage}</div>\n      )}\n    </div>\n  );\n\n  const renderInitialsImage = () => (<img src={initialsImage} alt={t('option.signatureModal.imageInitial')} style={{ maxWidth: '100%', maxHeight: '100%' }} />);\n\n  const renderInitialsPicker = () => (\n    <div\n      className={initialsContainerClass}\n      onDragEnter={handleInitialsDragEnter}\n      onDragLeave={handleInitialsDragLeave}\n      onDragOver={handleDragOver}\n      onDrop={handleInitialsFileDrop}\n      onDragExit={handleDragExit}\n    >\n      {renderPrompt()}\n      <div className=\"image-signature-upload\">\n        <input\n          ref={initialsInputRef}\n          id=\"upload\"\n          type=\"file\"\n          accept={acceptedFileTypes.map((type) => `.${type}`).join(',')}\n          onChange={handleInitialsFileChange}\n          disabled={!(isModalOpen && isTabPanelSelected)}\n        />\n        <button\n          onClick={() => initialsInputRef.current.click()}\n          className=\"pick-image-button\"\n        >\n          {t('option.signatureModal.pickInitialsFile')}\n        </button>\n      </div>\n      {initialsErrorMessage && (\n        <div className=\"image-signature-error\">{initialsErrorMessage}</div>\n      )}\n    </div>\n  );\n\n  const hasLimit = typeof acceptedFileSize === 'number' && acceptedFileSize > 0;\n  const fullSignatureFileSizeCheck = !hasLimit || fullSignatureFileSize < acceptedFileSize;\n  const initialsFileSizeCheck = !hasLimit || initialsFileSize < acceptedFileSize;\n  const fullSignatureContainerClass = classNames('image-signature-upload-container', { mobile: isMobile(), dragging: draggingSignatureType === signatureType.FULL_SIGNATURE });\n  const initialsContainerClass = classNames('image-signature-upload-container', { mobile: isMobile(), dragging: draggingSignatureType === signatureType.INITIALS });\n  const initialsInputStyle = isInitialsModeEnabled ? {} : { display: 'none' };\n  return (\n    <div className=\"image-signature\">\n      <div className=\"signature-and-initials-container\">\n        <div className=\"signature-input image full-signature\">\n          {fullSignatureImage && fullSignatureFileSizeCheck ?\n            renderFullSignatureImage() :\n            renderFullSignaturePicker()\n          }\n        </div>\n        <div className=\"signature-input image initials\" style={initialsInputStyle}>\n          {initialsImage && initialsFileSizeCheck ?\n            renderInitialsImage() :\n            renderInitialsPicker()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nImageSignature.propTypes = propTypes;\n\nexport default ImageSignature;\n","import ImageSignature from './ImageSignature';\n\nexport default ImageSignature;","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport './SavedSignatures.scss';\nimport SignatureModes from 'constants/signatureModes';\nimport defaultTool from 'constants/defaultTool';\nimport Icon from 'components/Icon';\nimport { useTranslation } from 'react-i18next';\nimport useCore from 'hooks/useCore';\nimport classNames from 'classnames';\n\n\nconst SavedSignatures = ({ selectedIndex, setSelectedIndex }) => {\n  const { core } = useCore();\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const [\n    displayedSignatures,\n    selectedDisplayedSignatureIndex,\n    isSignatureDeleteButtonDisabled,\n    savedInitials,\n    selectedDisplayedInitialsIndex,\n    signatureMode,\n    initialsOffset,\n  ] = useSelector(\n    (state) => [\n      selectors.getDisplayedSignatures(state),\n      selectors.getSelectedDisplayedSignatureIndex(state),\n      selectors.isElementDisabled(state, 'defaultSignatureDeleteButton'),\n      selectors.getSavedInitials(state),\n      selectors.getSelectedDisplayedInitialsIndex(state),\n      selectors.getSignatureMode(state),\n      selectors.getInitialsOffset(state),\n    ]\n  );\n\n  const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\n\n  const deleteSignatureAndInitials = async (index) => {\n    const isFullSignature = signatureMode === SignatureModes.FULL_SIGNATURE;\n    const initialsIndex = index - initialsOffset;\n    const skipInitial = initialsIndex < 0;\n    if (!skipInitial) {\n      signatureToolArray[0].deleteSavedInitials(initialsIndex);\n      const isDeletingSelectedInitials = selectedDisplayedInitialsIndex === initialsIndex && !skipInitial;\n      if (isDeletingSelectedInitials) {\n        dispatch(actions.setSelectedDisplayedInitialsIndex(0));\n        for (const signatureTool of signatureToolArray) {\n          signatureTool.hidePreview();\n        }\n        core.setToolMode(defaultTool);\n      }\n    } else {\n      dispatch(actions.setInitialsOffset(initialsOffset - 1));\n    }\n    signatureToolArray[0].deleteSavedSignature(index);\n    const isDeletingSelectedSignature = selectedDisplayedSignatureIndex === index;\n    if (isDeletingSelectedSignature) {\n      dispatch(actions.setSelectedDisplayedSignatureIndex(0));\n      for (const signatureTool of signatureToolArray) {\n        signatureTool.hidePreview();\n      }\n      core.setToolMode(defaultTool);\n    } else if (isFullSignature ? index < selectedDisplayedSignatureIndex : initialsIndex < selectedDisplayedInitialsIndex) {\n      dispatch(actions.setSelectedDisplayedSignatureIndex(selectedDisplayedSignatureIndex - 1));\n    }\n  };\n\n  const displayedIntials = new Array(initialsOffset).concat(savedInitials);\n\n  return (\n    <div className={classNames('SavedSignatures', { empty: !displayedSignatures || displayedSignatures.length < 1 })}>\n      {displayedSignatures.length ?\n        displayedSignatures.map((signature, index) => <div\n          key={index}\n          className={classNames('signature-row', { active: selectedIndex === index, 'no-initials': !displayedIntials?.[index] })}\n          onClick={() => setSelectedIndex(index)}\n        >\n          <div className=\"inputContainer\">\n            <input type='radio' onChange={() => setSelectedIndex(index)} checked={index === selectedIndex} />\n            <div className=\"contentContainer\">\n              <div className=\"imgContainer\">\n                <img alt={t('option.toolsOverlay.signatureAltText')} src={displayedSignatures[index].imgSrc} />\n              </div>\n              {displayedIntials?.[index] && <div className=\"imgContainer\">\n                <img alt={t('option.toolsOverlay.signatureAltText')} src={displayedIntials[index].imgSrc} />\n              </div>}\n              {!isSignatureDeleteButtonDisabled && (\n                <button\n                  className=\"icon-button\"\n                  data-element=\"defaultSignatureDeleteButton\"\n                  onClick={() => deleteSignatureAndInitials(index)}\n                >\n                  <Icon glyph=\"icon-delete-line\" />\n                </button>\n              )}\n            </div>\n          </div>\n          <div className=\"labelContainer\">\n            <div className=\"signatureLabel\">{t('option.type.signature')}</div>\n            {displayedIntials?.[index] && <div className=\"intialsLabel\">{t('option.type.initials')}</div>}\n          </div>\n        </div>\n        )\n        :\n        <div className='emptyListContainer'>\n          {t('option.signatureModal.noSignatures')}\n        </div>\n      }\n    </div>\n  );\n};\n\nexport default SavedSignatures;\n","import SavedSignatures from './SavedSignatures';\n\nexport default SavedSignatures;","import React, { useCallback, useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Tabs, Tab, TabPanel } from 'components/Tabs';\nimport InkSignature from 'components/SignatureModal/InkSignature';\nimport TextSignature from 'components/SignatureModal/TextSignature';\nimport ImageSignature from 'components/SignatureModal/ImageSignature';\nimport SavedSignatures from 'components/SignatureModal/SavedSignatures';\n\nimport useCore from 'hooks/useCore';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport SignatureModes from 'constants/signatureModes';\nimport DataElements from 'constants/dataElement';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport ModalWrapper from 'components/ModalWrapper';\nimport useFocusOnClose from 'hooks/useFocusOnClose';\n\nimport './SignatureModal.scss';\n\nconst SignatureModal = () => {\n  const { core } = useCore();\n  const [\n    isDisabled,\n    isOpen,\n    activeToolName,\n    signatureMode,\n    activeDocumentViewerKey,\n    isInitialsModeEnabled,\n    isSavedTabDisabled,\n    selectedTab,\n    displayedSignatures,\n    savedInitials,\n  ] = useSelector((state) => [\n    selectors.isElementDisabled(state, DataElements.SIGNATURE_MODAL),\n    selectors.isElementOpen(state, DataElements.SIGNATURE_MODAL),\n    selectors.getActiveToolName(state),\n    selectors.getSignatureMode(state),\n    selectors.getActiveDocumentViewerKey(state),\n    selectors.getIsInitialsModeEnabled(state),\n    selectors.isElementDisabled(state, DataElements.SAVED_SIGNATURES_TAB),\n    selectors.getSelectedTab(state, DataElements.SIGNATURE_MODAL),\n    selectors.getDisplayedSignatures(state),\n    selectors.getSavedInitials(state),\n  ]);\n\n  const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\n  const [createButtonDisabled, setCreateButtonDisabled] = useState(true);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n\n  const dispatch = useDispatch();\n  const [t] = useTranslation();\n\n  // Hack to close modal if hotkey to open other tool is used.\n  useDidUpdate(() => {\n    if (activeToolName !== 'AnnotationCreateSignature') {\n      dispatch(\n        actions.closeElements([\n          DataElements.SIGNATURE_MODAL,\n          DataElements.SIGNATURE_OVERLAY\n        ]),\n      );\n    }\n  }, [dispatch, activeToolName]);\n\n  useEffect(() => {\n    if (isOpen) {\n      dispatch(\n        actions.closeElements([\n          DataElements.PRINT_MODAL,\n          DataElements.LOADING_MODAL,\n          DataElements.PROGRESS_MODAL,\n          DataElements.ERROR_MODAL,\n        ]),\n      );\n    }\n  }, [dispatch, isOpen]);\n\n  const closeModal = () => {\n    for (const signatureTool of signatureToolArray) {\n      signatureTool.clearLocation();\n      signatureTool.setSignature(null);\n      signatureTool.setInitials(null);\n    }\n    dispatch(actions.closeElement(DataElements.SIGNATURE_MODAL));\n  };\n\n  const createSignatures = async () => {\n    createFullSignature();\n\n    if (isInitialsModeEnabled) {\n      createInitials();\n    }\n  };\n\n  const createFullSignature = async () => {\n    signatureToolArray[0].saveSignatures(signatureToolArray[0].getFullSignatureAnnotation());\n    for (let i = 1; i < signatureToolArray.length; i++) {\n      await signatureToolArray[i].setSignature(signatureToolArray[0].getFullSignatureAnnotation());\n    }\n\n    const signatureTool = signatureToolArray[activeDocumentViewerKey - 1];\n\n    if (!(await signatureTool.isEmptySignature())) {\n      core.setToolMode('AnnotationCreateSignature');\n\n      if (signatureMode === SignatureModes.FULL_SIGNATURE) {\n        if (signatureTool.hasLocation()) {\n          await signatureTool.addSignature();\n        } else {\n          for (const signatureTool of signatureToolArray) {\n            await signatureTool.showPreview();\n          }\n        }\n\n        dispatch(actions.closeElement(DataElements.SIGNATURE_MODAL));\n      }\n    }\n  };\n\n  const createInitials = async () => {\n    signatureToolArray[0].saveInitials(signatureToolArray[0].getInitialsAnnotation());\n    for (let i = 1; i < signatureToolArray.length; i++) {\n      await signatureToolArray[i].saveInitials(signatureToolArray[0].getInitialsAnnotation());\n    }\n\n    const signatureTool = signatureToolArray[activeDocumentViewerKey - 1];\n    if (!(await signatureTool.isEmptyInitialsSignature())) {\n      core.setToolMode('AnnotationCreateSignature');\n\n      if (signatureMode === SignatureModes.INITIALS) {\n        if (signatureTool.hasLocation()) {\n          await signatureTool.addInitials();\n        } else {\n          for (const signatureTool of signatureToolArray) {\n            await signatureTool.showInitialsPreview();\n          }\n        }\n      }\n\n      dispatch(actions.closeElement(DataElements.SIGNATURE_MODAL));\n      // back to the default mode\n      dispatch(actions.setSignatureMode(SignatureModes.FULL_SIGNATURE));\n    }\n  };\n\n  const setSignature = async (index) => {\n    const isFullSignature = signatureMode === SignatureModes.FULL_SIGNATURE;\n    dispatch(actions[isFullSignature ? 'setSelectedDisplayedSignatureIndex' : 'setSelectedDisplayedInitialsIndex'](index));\n    const { annotation } = isFullSignature ? displayedSignatures[index] : savedInitials[index];\n    core.setToolMode('AnnotationCreateSignature');\n    for (const signatureTool of signatureToolArray) {\n      await signatureTool[isFullSignature ? 'setSignature' : 'setInitials'](annotation);\n      if (signatureTool.hasLocation()) {\n        await signatureTool[isFullSignature ? 'addSignature' : 'addInitials']();\n      } else {\n        await signatureTool[isFullSignature ? 'showPreview' : 'showInitialsPreview']();\n      }\n    }\n    dispatch(actions.closeElement(DataElements.SIGNATURE_MODAL));\n  };\n\n  const disableCreateButton = useCallback(() => {\n    setCreateButtonDisabled(true);\n  }, [createButtonDisabled]);\n\n  const enableCreateButton = useCallback(() => {\n    setCreateButtonDisabled(false);\n  }, [createButtonDisabled]);\n\n  const modalClass = classNames({\n    Modal: true,\n    SignatureModal: true,\n    open: isOpen,\n    closed: !isOpen,\n  });\n  const isSavedTabSelected = selectedTab === 'savedSignaturePanelButton';\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className={modalClass}\n      data-element={DataElements.SIGNATURE_MODAL}\n    >\n      <ModalWrapper\n        title={t('option.signatureModal.modalName')}\n        closeHandler={closeModal}\n        onCloseClick={closeModal}\n        isOpen={isOpen}\n        swipeToClose\n      >\n        <div\n          className={classNames('container', { 'include-initials': isInitialsModeEnabled })}\n          onMouseDown={(e) => e.stopPropagation()}\n        >\n          <div className=\"swipe-indicator\" />\n          <Tabs id=\"signatureModal\">\n            <div className=\"tabs-header-container\">\n              <div className=\"tab-list\">\n                {!isSavedTabDisabled &&\n                  <>\n                    <Tab dataElement=\"savedSignaturePanelButton\">\n                      <button className=\"tab-options-button\">\n                        {t('option.type.saved')}\n                      </button>\n                    </Tab>\n                    <div className=\"tab-options-divider\" />\n                  </>\n                }\n                <Tab dataElement=\"inkSignaturePanelButton\">\n                  <button className=\"tab-options-button\">\n                    {t('action.draw')}\n                  </button>\n                </Tab>\n                <div className=\"tab-options-divider\" />\n                <Tab dataElement=\"textSignaturePanelButton\">\n                  <button className=\"tab-options-button\">\n                    {t('action.type')}\n                  </button>\n                </Tab>\n                <div className=\"tab-options-divider\" />\n                <Tab dataElement=\"imageSignaturePanelButton\">\n                  <button className=\"tab-options-button\">\n                    {t('action.upload')}\n                  </button>\n                </Tab>\n              </div>\n            </div>\n            {!isSavedTabDisabled && <TabPanel dataElement=\"savedSignaturePanel\">\n              <SavedSignatures {...{ selectedIndex, setSelectedIndex }} />\n            </TabPanel>}\n            <TabPanel dataElement=\"inkSignaturePanel\">\n              <InkSignature\n                isModalOpen={isOpen}\n                enableCreateButton={enableCreateButton}\n                disableCreateButton={disableCreateButton}\n                isInitialsModeEnabled={isInitialsModeEnabled}\n              />\n            </TabPanel>\n            <TabPanel dataElement=\"textSignaturePanel\">\n              <TextSignature\n                isModalOpen={isOpen}\n                enableCreateButton={enableCreateButton}\n                disableCreateButton={disableCreateButton}\n                isInitialsModeEnabled={isInitialsModeEnabled}\n              />\n            </TabPanel>\n            <TabPanel dataElement=\"imageSignaturePanel\">\n              <ImageSignature\n                isModalOpen={isOpen}\n                enableCreateButton={enableCreateButton}\n                disableCreateButton={disableCreateButton}\n                isInitialsModeEnabled={isInitialsModeEnabled}\n              />\n            </TabPanel>\n            <div className=\"footer\">\n              <button className=\"signature-create\" onClick={useFocusOnClose(isSavedTabSelected ? () => setSignature(selectedIndex) : createSignatures)}\n                disabled={isSavedTabSelected ? (!isSavedTabSelected || !displayedSignatures.length || !isOpen) : (!(isOpen) || createButtonDisabled)}\n                title={isInitialsModeEnabled ? t('message.signatureRequired') : ''}>\n                {t(isSavedTabSelected ? 'action.apply' : 'action.create')}\n              </button>\n            </div>\n          </Tabs>\n        </div>\n      </ModalWrapper>\n    </div>\n  );\n};\n\nexport default SignatureModal;\n","import SignatureModal from './SignatureModal';\n\nexport default SignatureModal;"],"sourceRoot":""}
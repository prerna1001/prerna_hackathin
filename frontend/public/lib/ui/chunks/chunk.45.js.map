{"version":3,"sources":["webpack:///./src/ui/src/components/ListSeparator/ListSeparator.js","webpack:///./src/ui/src/components/ListSeparator/index.js","webpack:///./src/ui/src/components/ListSeparator/ListSeparator.scss?675b","webpack:///./src/ui/src/helpers/mapValidationResponseToTranslation.js","webpack:///./src/ui/src/components/ModularComponents/IndexPanel/IndexPanel.scss?14d3","webpack:///./src/ui/src/components/ModularComponents/IndexPanelContent/IndexPanelContent.js","webpack:///./src/ui/src/components/ModularComponents/IndexPanelContent/index.js","webpack:///./src/ui/src/components/ModularComponents/IndexPanel/IndexPanel.js","webpack:///./src/ui/src/components/ModularComponents/IndexPanel/IndexPanelContainer.js","webpack:///./src/ui/src/components/ModularComponents/IndexPanel/index.js"],"names":["propTypes","renderContent","PropTypes","func","children","node","isBoldHeader","bool","ListSeparator","props","content","React","createElement","className","classNames","memo","module","exports","_ref","errorType","isMultiSelectionMode","fieldName","string","widgetId","icon","setSelected","isActive","handleDeletion","isSubLevel","childWidgets","array","selectingWidgets","IndexPanelContent","forwardRef","ref","defaultFiledName","core","useCore","t","_slicedToArray","useTranslation","_useState2","useState","isDefault","setIsDefault","_useState4","isEditing","setIsEditing","_useState6","setFieldName","_useState8","isValid","setIsValid","_useState0","validationMessage","setValidationMessage","inputRef","useRef","dispatch","useDispatch","onSaveFieldName","validationResponse","formFieldCreationManager","getFormFieldCreationManager","validatedResponse","widget","getAnnotationById","forEach","child","mapValidationResponseToTranslation","onCloseRenaming","useEffect","current","focus","select","flyoutSelector","concat","DataElements","BOOKMARK_OUTLINE_FLYOUT","currentFlyout","useSelector","state","selectors","getFlyout","contextMenuMoreButtonOptions","moreOptionsDataElement","flyoutToggleElement","contentMenuFlyoutOptions","shouldHideDeleteButton","type","handleOnClick","val","menuTypes","OPENFORMFIELDPANEL","actions","openElement","FORM_FIELD_PANEL","RENAME","DELETE","checkboxOptions","id","checked","onChange","e","target","key","PanelListItem","iconGlyph","labelHeader","enableMoreOptionsContextMenuFlyout","onDoubleClick","onClick","map","getDataWithKey","mapAnnotationToKey","Id","includes","Input","name","aria-label","value","onKeyDown","stopPropagation","fillWidth","onBlur","relatedTarget","preventDefault","messageText","message","Button","label","isSubmitType","disabled","displayName","widgets","arrayOf","object","isRequired","IndexPanel","_useSelector2","isElementOpen","INDEX_PANEL","isElementDisabled","isInDesktopOnlyMode","isOpen","isDisabled","setMultiSelectionMode","setSelectingWidgets","showIndexPanel","isMobile","isMobileSize","listRef","containerRef","singleSelectedNoteId","selectedWidgets","getSelectedAnnotations","filter","annot","window","Core","Annotations","WidgetAnnotation","length","scrollToRow","onAnnotationSelected","annotations","action","_toConsumableArray","deselectedWidgets","prevSelectedWidgets","addEventListener","removeEventListener","element","parent","parentRect","getBoundingClientRect","childRect","top","clientHeight","isElementViewable","scrollIntoView","behavior","block","inline","dataToRender","reduce","arr","_step","_iterator","_createForOfIteratorHelper","s","n","done","err","f","field","getField","push","constructRadioWidgetGroupByPageNum","sortedPageNumbers","Object","keys","sort","a","b","deleteAnnotations","handleSetSelected","selectWidgetsId","childrenWidgetIds","annots","deselectAllAnnotations","selectAnnotations","jumpToAnnotation","handleMultiSelection","force","arguments","undefined","isSelected","selectAnnotation","handleSingleSelection","NoFields","Icon","glyph","_step2","_iterator2","isRadioGroupSelected","ids","generateRefList","closeIndexPanel","closeElement","DataElementWrapper","dataElement","pageNumber","img","parentDataElement","IndexPanelContainer","_props$parentDataElem","shallowEqual","setWidgets","annotationChangedListener","defaultWidgets","getAnnotationsList","passProps","_extends"],"mappings":"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","file":"chunks/chunk.45.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './ListSeparator.scss';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  renderContent: PropTypes.func,\n  children: PropTypes.node,\n  isBoldHeader: PropTypes.bool,\n};\n\nconst ListSeparator = (function(props) {\n  const content = props.renderContent ? props.renderContent() : props.children;\n  const isBoldHeader = props.isBoldHeader;\n  return <h4 className={classNames(\n    'ListSeparator',\n    { 'bold-header': isBoldHeader },\n  )}>{content}</h4>;\n});\n\nListSeparator.propTypes = propTypes;\n\nexport default React.memo(ListSeparator);\n","import ListSeparator from './ListSeparator';\n\nexport default ListSeparator;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","export default ({ errorType }) => {\n  switch (errorType) {\n    case 'empty':\n      return 'formField.formFieldPopup.invalidField.empty';\n    case 'duplicate':\n      return 'formField.formFieldPopup.invalidField.duplicate';\n  }\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","import React, { forwardRef, useEffect, useState, useRef, } from 'react';\nimport './IndexPanelContent.scss';\nimport actions from 'actions';\nimport Button from 'components/Button';\nimport useCore from 'hooks/useCore';\nimport Input from 'components/Input';\nimport mapValidationResponseToTranslation from 'src/helpers/mapValidationResponseToTranslation';\nimport { getDataWithKey, mapAnnotationToKey } from 'constants/map';\nimport PropTypes from 'prop-types';\nimport DataElements from 'constants/dataElement';\nimport { useTranslation } from 'react-i18next';\nimport PanelListItem from 'src/components/PanelListItem';\nimport { menuTypes } from 'helpers/outlineFlyoutHelper';\nimport selectors from 'selectors';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst propTypes = {\n  isMultiSelectionMode: PropTypes.bool,\n  fieldName: PropTypes.string,\n  widgetId: PropTypes.string,\n  icon: PropTypes.string,\n  setSelected: PropTypes.func,\n  isActive: PropTypes.bool,\n  handleDeletion: PropTypes.func,\n  isSubLevel: PropTypes.bool,\n  childWidgets: PropTypes.array,\n  selectingWidgets: PropTypes.array,\n};\n\nconst IndexPanelContent = forwardRef(({\n  isSubLevel,\n  isMultiSelectionMode,\n  fieldName: defaultFiledName,\n  widgetId,\n  icon,\n  setSelected,\n  isActive,\n  handleDeletion,\n  childWidgets,\n  selectingWidgets,\n}, ref) => {\n  const { core } = useCore();\n\n  const [t] = useTranslation();\n  const [isDefault, setIsDefault] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [fieldName, setFieldName] = useState(defaultFiledName);\n  const [isValid, setIsValid] = useState(true);\n  const [validationMessage, setValidationMessage] = useState('');\n  const inputRef = useRef();\n  const dispatch = useDispatch();\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if ((isEditing)) {\n        onSaveFieldName();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCloseRenaming();\n    }\n  };\n\n\n  const handleFieldNameChange = (e) => {\n    setIsValid(true);\n    setFieldName(e.target.value);\n  };\n\n  const onSaveFieldName = () => {\n    const formFieldCreationManager = core.getFormFieldCreationManager();\n    let validatedResponse = null;\n    let validationResponse = null;\n    if (!widgetId) {\n      childWidgets.forEach((child) => {\n        validatedResponse = formFieldCreationManager.setFieldName(child, fieldName);\n      });\n    } else {\n      const widget = core.getAnnotationById(widgetId);\n      validatedResponse = formFieldCreationManager.setFieldName(widget, fieldName);\n    }\n    setIsValid(validatedResponse.isValid);\n    validationResponse = mapValidationResponseToTranslation(validatedResponse);\n    setValidationMessage(validationResponse);\n    if (validatedResponse.isValid) {\n      onCloseRenaming();\n    }\n  };\n\n  const onCloseRenaming = () => {\n    isEditing && setFieldName(defaultFiledName);\n    setIsEditing(false);\n    setIsValid(true);\n  };\n\n  const handleOnBlur = (e) => {\n    const isClickBtn = e.relatedTarget && (e.relatedTarget.className.includes('index-panel-save-button') ||\n    e.relatedTarget.className.includes('index-panel-cancel-button'));\n    if (isClickBtn) {\n      e.preventDefault();\n      return;\n    }\n    onCloseRenaming();\n  };\n\n  useEffect(() => {\n    if (fieldName !== defaultFiledName) {\n      setFieldName(defaultFiledName);\n    }\n  }, [defaultFiledName]);\n\n  useEffect(() => {\n    if (isEditing) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n    if (!isEditing) {\n      setIsDefault(true);\n    } else {\n      setIsDefault(false);\n    }\n  }, [isEditing]);\n\n\n  const flyoutSelector = `${DataElements.BOOKMARK_OUTLINE_FLYOUT}-${widgetId}`;\n  const currentFlyout = useSelector((state) => selectors.getFlyout(state, flyoutSelector));\n\n  const handleOnClick = (val) => {\n    switch (val) {\n      case menuTypes.OPENFORMFIELDPANEL:\n        dispatch(actions.openElement(DataElements.FORM_FIELD_PANEL));\n        setSelected(widgetId, true);\n        break;\n      case menuTypes.RENAME:\n        setIsEditing(true);\n        break;\n      case menuTypes.DELETE:\n        if (!widgetId) {\n          childWidgets.forEach((child) => {\n            handleDeletion(child['Id']);\n          });\n          return;\n        }\n        handleDeletion(widgetId);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const contextMenuMoreButtonOptions = {\n    moreOptionsDataElement: `index-panel-more-button-${widgetId}`,\n    flyoutToggleElement: flyoutSelector,\n  };\n\n  const contentMenuFlyoutOptions = {\n    shouldHideDeleteButton: false,\n    currentFlyout,\n    flyoutSelector,\n    type: widgetId ? 'indexPanel' : 'indexPanel.folder',\n    handleOnClick,\n  };\n\n  const checkboxOptions = {\n    id: widgetId,\n    checked: isActive,\n    onChange: (e) => {\n      if (!widgetId) {\n        setSelected(widgetId, e.target.checked, childWidgets);\n        return;\n      }\n      setSelected(widgetId, e.target.checked);\n    },\n    'aria-label': 'index panel checkbox',\n    'aria-checked': isActive,\n  };\n\n  const renderContent = (widget) => {\n    const icon = getDataWithKey(mapAnnotationToKey(widget)).icon;\n    const { fieldName, Id } = widget;\n    return (\n      <IndexPanelContent\n        key={Id}\n        isMultiSelectionMode={isMultiSelectionMode}\n        fieldName={fieldName}\n        icon={icon}\n        widgetId={Id}\n        setSelected={setSelected}\n        isActive={selectingWidgets.includes(Id)}\n        handleDeletion={handleDeletion}\n        isSubLevel={true}\n      />\n    );\n  };\n\n  return (\n    <div\n      className=\"index-drag-container\"\n      key={widgetId}\n      ref={ref}\n    >\n      {isDefault && <PanelListItem\n        iconGlyph={icon}\n        labelHeader={isSubLevel ? widgetId : defaultFiledName}\n        enableMoreOptionsContextMenuFlyout={true}\n        onDoubleClick={() => setIsEditing(true)}\n        onClick={() => !isMultiSelectionMode && setSelected(widgetId)}\n        contextMenuMoreButtonOptions={contextMenuMoreButtonOptions}\n        contentMenuFlyoutOptions={contentMenuFlyoutOptions}\n        checkboxOptions={isMultiSelectionMode && checkboxOptions || null}\n        isActive={isActive}\n      >\n        {childWidgets?.map((widget) => {\n          return renderContent(widget);\n        })}\n      </PanelListItem>}\n      {isEditing && (\n        <div className='index-panel-single-container'>\n          <div className=\"index-panel-label-row\">\n            <div className='index-panel_content-container'>\n              <Input\n                type=\"text\"\n                name=\"field-name\"\n                ref={inputRef}\n                className=\"index-panel-outline-input index-panel-text-input\"\n                aria-label={t('action.name')}\n                value={fieldName}\n                onKeyDown={handleKeyDown}\n                onChange={handleFieldNameChange}\n                fillWidth=\"false\"\n                onBlur={handleOnBlur}\n                messageText={!isValid ? t(validationMessage) : ''}\n                message={!isValid ? 'warning' : 'default'}\n              />\n            </div>\n            <div className=\"index-panel-editing-controls\">\n              <Button\n                className=\"index-panel-cancel-button\"\n                label={t('action.cancel')}\n                onClick={onCloseRenaming}\n              />\n              <Button\n                className=\"index-panel-save-button\"\n                label={t('action.save')}\n                isSubmitType\n                onClick={onSaveFieldName}\n                disabled={!isValid || fieldName === defaultFiledName}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nIndexPanelContent.displayName = 'IndexPanelContent';\nIndexPanelContent.propTypes = propTypes;\n\nexport default IndexPanelContent;\n","import IndexPanelContent from './IndexPanelContent';\n\nexport default IndexPanelContent;","import React, {\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport selectors from 'selectors';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport useCore from 'hooks/useCore';\nimport actions from 'actions';\nimport Icon from 'components/Icon';\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport IndexPanelContent from 'components/ModularComponents/IndexPanelContent';\nimport DataElements from 'constants/dataElement';\nimport { getDataWithKey, mapAnnotationToKey } from 'constants/map';\nimport { isMobileSize } from 'helpers/getDeviceSize';\nimport ListSeparator from '../../ListSeparator';\n\nconst propTypes = {\n  widgets: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nconst IndexPanel = ({ widgets }) => {\n  const { core } = useCore();\n  const [\n    isOpen,\n    isDisabled,\n    isInDesktopOnlyMode,\n  ] = useSelector((state) => [\n    selectors.isElementOpen(state, DataElements.INDEX_PANEL),\n    selectors.isElementDisabled(state, DataElements.INDEX_PANEL),\n    selectors.isInDesktopOnlyMode(state),\n  ]);\n\n  const [t] = useTranslation();\n  const [isMultiSelectionMode, setMultiSelectionMode] = useState(false);\n  const [selectingWidgets, setSelectingWidgets] = useState([]);\n  const showIndexPanel = !isDisabled && isOpen;\n  const isMobile = isMobileSize();\n  const dispatch = useDispatch();\n  const listRef = useRef({});\n  const containerRef = useRef();\n  const singleSelectedNoteId = useRef(-1);\n\n  useEffect(() => {\n    const selectedWidgets = core.getSelectedAnnotations().filter((annot) => annot instanceof window.Core.Annotations.WidgetAnnotation).map((widget) => widget.Id);\n    setSelectingWidgets(selectedWidgets);\n    if (selectedWidgets.length) {\n      singleSelectedNoteId.current = selectedWidgets[0];\n    }\n  }, []);\n\n  useEffect(() => {\n    if (selectingWidgets.length && singleSelectedNoteId.current !== -1) {\n      scrollToRow(singleSelectedNoteId.current);\n    } else {\n      singleSelectedNoteId.current = -1;\n    }\n  }, [selectingWidgets]);\n\n  const onAnnotationSelected = (annotations, action) => {\n    if (action === 'selected') {\n      const selectedWidgets = annotations.filter((annot) => annot instanceof window.Core.Annotations.WidgetAnnotation)\n        .map((widget) => widget.Id);\n      setSelectingWidgets([...selectedWidgets]);\n      if (selectedWidgets.length) {\n        singleSelectedNoteId.current = selectedWidgets[0];\n      }\n    } else if (action === 'deselected') {\n      const deselectedWidgets = annotations.filter((annot) => annot instanceof window.Core.Annotations.WidgetAnnotation).map((widget) => widget.Id);\n      setSelectingWidgets((prevSelectedWidgets) => prevSelectedWidgets.filter((id) => !deselectedWidgets.includes(id)));\n    }\n  };\n\n  useEffect(() => {\n    core.addEventListener('annotationSelected', onAnnotationSelected);\n\n    return () => {\n      core.removeEventListener('annotationSelected', onAnnotationSelected);\n    };\n  }, [isMultiSelectionMode]);\n\n  const isElementViewable = (element) => {\n    const parent = containerRef.current;\n    if (!parent) {\n      return false;\n    }\n    const parentRect = parent.getBoundingClientRect();\n    const childRect = element.getBoundingClientRect();\n\n    return (\n      childRect.top >= parentRect.top &&\n      childRect.top <= parentRect.top + parent.clientHeight\n    );\n  };\n\n  const scrollToRow = (key) => {\n    const child = listRef.current[key];\n    if (!child) {\n      return;\n    }\n    const isViewable = isElementViewable(child);\n    if (!isViewable) {\n      child.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n    }\n  };\n\n  const constructRadioWidgetGroupByPageNum = (widget) => {\n    const field = widget.getField();\n    const childWidgets = [];\n    const widgets = field?.widgets || [];\n    widgets.forEach((child) => {\n      if (child['PageNumber'] !== widget['PageNumber']) {\n        return;\n      }\n      childWidgets.push(child);\n    });\n    if (childWidgets.length <= 1) {\n      return widget;\n    }\n    const newWidget = {\n      'fieldName': widget['fieldName'],\n      'Id': null,\n      'PageNumber': widget['PageNumber'],\n      childWidgets,\n    };\n    return newWidget;\n  };\n\n  const dataToRender = widgets.reduce((arr, widget) => {\n    if (!arr[widget['PageNumber']]) {\n      arr[widget['PageNumber']] = [];\n    }\n    for (const childWidget of arr[widget['PageNumber']]) {\n      if (childWidget['fieldName'] === widget['fieldName']) {\n        return arr;\n      }\n    }\n    widget = constructRadioWidgetGroupByPageNum(widget);\n    arr[widget['PageNumber']].push(widget);\n    return arr;\n  }, {});\n\n  const sortedPageNumbers = Object.keys(dataToRender).sort((a, b) => a - b);\n\n  const handleDeletion = (widgetId) => {\n    if (widgetId) {\n      core.deleteAnnotations([core.getAnnotationById(widgetId)]);\n      return;\n    }\n    const widgets = selectingWidgets.map((id) => core.getAnnotationById(id));\n    core.deleteAnnotations(widgets);\n  };\n\n  const handleSingleSelection = (id, force = false) => {\n    const isSelected = selectingWidgets.includes(id);\n    const widget = core.getAnnotationById(id);\n    core.deselectAllAnnotations();\n    if (isSelected && !force) {\n      setSelectingWidgets([]);\n      return;\n    }\n    setSelectingWidgets([id]);\n    core.selectAnnotation(core.getAnnotationById(id));\n    core.jumpToAnnotation(widget);\n  };\n\n  const handleEditButtonClick = () => {\n    setMultiSelectionMode(true);\n    setSelectingWidgets([]);\n    core.deselectAllAnnotations();\n    singleSelectedNoteId.current = -1;\n  };\n\n  const handleDoneButtonClick = () => {\n    setMultiSelectionMode(false);\n    setSelectingWidgets([]);\n    core.deselectAllAnnotations();\n    singleSelectedNoteId.current = -1;\n  };\n\n  const handleMultiSelection = (id, val, widgets) => {\n    let selectWidgetsId = [];\n    if (!id) {\n      const childrenWidgetIds = widgets.map((widget) => widget['Id']);\n      selectWidgetsId = val ? [...childrenWidgetIds, ...selectingWidgets] : selectingWidgets.filter((widgetId) => !childrenWidgetIds.includes(widgetId));\n    } else {\n      selectWidgetsId = val ? [id, ...selectingWidgets] : selectingWidgets.filter((widgetId) => widgetId !== id);\n    }\n    setSelectingWidgets(selectWidgetsId);\n    const annots = selectWidgetsId.map((widgetId) => core.getAnnotationById(widgetId));\n    core.deselectAllAnnotations();\n    core.selectAnnotations(annots);\n    if (val) {\n      const widget = core.getAnnotationById(id || widgets[0]['Id']);\n      core.jumpToAnnotation(widget);\n    }\n  };\n\n  const handleSetSelected = (id, val, widgets) => {\n    singleSelectedNoteId.current = id;\n    if (!isMultiSelectionMode) {\n      handleSingleSelection(id, val);\n      return;\n    }\n    handleMultiSelection(id, val, widgets);\n  };\n\n  const generateRefList = (element, id, ids) => {\n    if (!id) {\n      ids.forEach((Id) => {\n        listRef.current[Id] = element;\n      });\n    } else {\n      listRef.current[id] = element;\n    }\n  };\n\n  const NoFields = (\n    <div className=\"no-fields\">\n      <div>\n        <Icon className=\"empty-icon\" glyph=\"illustration - empty state - outlines\" />\n      </div>\n      <div className=\"msg\">{t('formField.indexPanel.notFields')}</div>\n    </div>\n  );\n\n  const showFields = () => (sortedPageNumbers.map((pageNumber) => {\n    return (\n      <ul className=\"index-page-container\" key={pageNumber}>\n        <ListSeparator renderContent={() => `${t('option.shared.page')} ${pageNumber}`} />\n        {dataToRender[pageNumber].map(renderContent)}\n      </ul>\n    );\n  }));\n\n  const isRadioGroupSelected = (widgets) => {\n    for (const widget of widgets) {\n      if (!selectingWidgets.includes(widget['Id'])) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const renderContent = (widget) => {\n    const fieldName = widget['fieldName'];\n    const icon = widget.childWidgets ? 'ic-folder-open' : getDataWithKey(mapAnnotationToKey(widget)).icon;\n    const widgetId = widget['Id'];\n    const childWidgets = widget.childWidgets || null;\n    const isActive = widgetId ? selectingWidgets.includes(widgetId) : isRadioGroupSelected(childWidgets);\n    const childrenWidgetIds = childWidgets ? childWidgets.map((child) => child['Id']) : [];\n    return (\n      <IndexPanelContent\n        key={widget['Id']}\n        ref={(element) => generateRefList(element, widgetId, childrenWidgetIds)}\n        isMultiSelectionMode={isMultiSelectionMode}\n        fieldName={fieldName}\n        icon={icon}\n        widgetId={widgetId}\n        setSelected={handleSetSelected}\n        isActive={isActive}\n        handleDeletion={handleDeletion}\n        childWidgets={childWidgets}\n        selectingWidgets={selectingWidgets}\n      />\n    );\n  };\n\n  const closeIndexPanel = () => {\n    dispatch(actions.closeElement(DataElements.INDEX_PANEL));\n  };\n\n  const renderMobileCloseButton = () => {\n    return (\n      <div className=\"close-container\">\n        <button className=\"close-icon-container\" onClick={closeIndexPanel}>\n          <Icon glyph=\"ic_close_black_24px\" className=\"close-icon\" />\n        </button>\n      </div>\n    );\n  };\n\n  return !showIndexPanel ?\n    null :\n    (\n      <div className='index-panel-container'>\n        <DataElementWrapper\n          className='index-panel-header'\n          dataElement='index-panel-header'\n        >\n          {!isInDesktopOnlyMode && isMobile && renderMobileCloseButton()}\n          <DataElementWrapper\n            className=\"title-container\"\n            dataElement=\"index-panel-title-container\"\n          >\n            <DataElementWrapper\n              className=\"fields-counter\"\n              dataElement=\"index-panel-fields-counter\"\n            >\n              <span>{t('formField.indexPanel.formFieldList')}</span> ({widgets.length})\n\n            </DataElementWrapper>\n            <DataElementWrapper\n              dataElement=\"form-field-multi-select\"\n            >\n              {!isMultiSelectionMode &&\n                <Button\n                  className=\"field-control-button\"\n                  label={t('action.edit')}\n                  disabled={widgets.length === 0}\n                  onClick={handleEditButtonClick}\n                />\n              }\n              {isMultiSelectionMode &&\n                <Button\n                  className=\"field-control-button\"\n                  label={t('option.bookmarkOutlineControls.done')}\n                  onClick={handleDoneButtonClick}\n                />\n              }\n            </DataElementWrapper>\n          </DataElementWrapper>\n        </DataElementWrapper>\n\n        <DataElementWrapper\n          className=\"IndexPanel\"\n          dataElement=\"index-panel\"\n          ref={containerRef}\n        >\n          {widgets.length ? showFields() : NoFields}\n        </DataElementWrapper>\n        {isMultiSelectionMode && <DataElementWrapper\n          className=\"index-panel-footer\"\n          dataElement=\"index-panel-footer\"\n        >\n          <Button\n            className=\"multi-selection-button\"\n            img=\"icon-delete-line\"\n            disabled={selectingWidgets.length === 0}\n            onClick={() => handleDeletion()}\n          />\n        </DataElementWrapper>}\n      </div>\n    );\n};\n\nIndexPanel.propTypes = propTypes;\n\nexport default IndexPanel;","import React,\n{\n  useEffect,\n  useState\n} from 'react';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport './IndexPanel.scss';\nimport useCore from 'hooks/useCore';\nimport DataElements from 'constants/dataElement';\nimport IndexPanel from './IndexPanel';\nimport PropTypes from 'prop-types';\nimport selectors from 'selectors';\n\nconst propTypes = {\n  parentDataElement: PropTypes.string,\n  dataElement: PropTypes.string.isRequired,\n};\n\nfunction IndexPanelContainer(props) {\n  const { parentDataElement = undefined, dataElement } = props;\n  const { core } = useCore();\n  const [\n    isOpen,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, parentDataElement || dataElement || DataElements.INDEX_PANEL),\n    ],\n    shallowEqual,\n  );\n  const [widgets, setWidgets] = useState([]);\n\n  useEffect(() => {\n    const annotationChangedListener = () => {\n      const defaultWidgets = core.getAnnotationsList().filter((annot) => annot instanceof window.Core.Annotations.WidgetAnnotation);\n      setWidgets(defaultWidgets);\n    };\n\n    core.addEventListener('annotationChanged', annotationChangedListener);\n    return () => {\n      core.removeEventListener('annotationChanged', annotationChangedListener);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isOpen) {\n      const defaultWidgets = core.getAnnotationsList().filter((annot) => annot instanceof window.Core.Annotations.WidgetAnnotation);\n      setWidgets(defaultWidgets);\n    } else {\n      setWidgets([]);\n    }\n  }, [isOpen]);\n\n  const passProps = {\n    widgets,\n  };\n\n  return (\n    <IndexPanel {...props} {...passProps} />\n  );\n}\n\nIndexPanelContainer.propTypes = propTypes;\n\nexport default IndexPanelContainer;\n","import IndexPanelContainer from './IndexPanelContainer';\n\nexport default IndexPanelContainer;\n"],"sourceRoot":""}
(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[41],{1503:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(49),n(62);var o=function(e,t){var n=e.getDisplayModeObject().getVisiblePages().includes(t.PageNumber);return e.isContinuousDisplayMode()||!e.isContinuousDisplayMode()&&n}},1529:function(e,t,n){"use strict";n(8),n(54);var o=n(4),a=n(35),i=n(2),r=n(51),l=n(186);function c(){}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){return o.a.isWebViewerServerDocument()?u(e,a,n):s(e,t,a,n)}};var u=function(e,t,n){return o.a.applyRedactions(e,n).then((function(e){if(e&&e.url)return Object(l.a)(t,{filename:"redacted.pdf",includeAnnotations:!0,externalURL:e.url});console.warn("WebViewer Server did not return a valid result")}))},s=function(e,t,n,l){var c={message:a.a.t("warning.redaction.applyMessage"),title:a.a.t("warning.redaction.applyTile"),confirmBtnText:a.a.t("action.apply"),onConfirm:function(){return o.a.applyRedactions(e,l).then((function(){t()})).catch((function(e){return Object(r.b)(e)})),Promise.resolve()}};return n(i.a.showWarningMessage(c))}},1530:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1562:function(e,t,n){"use strict";n(9),n(10),n(14),n(31),n(27),n(21),n(20),n(12),n(22),n(32),n(18),n(16),n(29),n(23),n(8),n(17),n(19),n(11),n(30),n(13);var o=n(0),a=n.n(o),i=n(1),r=n.n(i),l=n(6),c=n(208),u=n(307),s=n(321),d=n(82),f=n(33),p=n(1482),m=n(115),b=n(45),O=n(318),y=n(2),E=n(3),v=n(5),g=n(485);n(1530);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var P={annotations:r.a.array.isRequired,style:r.a.object.isRequired,properties:r.a.object.isRequired,isRedaction:r.a.bool,isFreeText:r.a.bool,isEllipse:r.a.bool,hasBackToMenu:r.a.bool,onBackToMenu:r.a.func},T=function(e){var t=e.annotations,n=e.style,i=e.isRedaction,r=e.isFreeText,h=e.isEllipse,w=e.isMeasure,P=e.colorMapKey,T=e.showLineStyleOptions,C=e.properties,N=e.hideSnapModeCheckbox,j=e.onResize,k=e.hasBackToMenu,F=e.onBackToMenu,D=Object(f.a)().core,I=S(Object(l.e)((function(e){return[E.a.isElementDisabled(e,v.a.ANNOTATION_STYLE_POPUP),E.a.isToolDefaultStyleUpdateFromAnnotationPopupEnabled(e),E.a.getActiveDocumentViewerKey(e)]})),3),M=I[0],_=I[1],R=I[2],L=Object(l.d)(),B=S(Object(u.a)(),1)[0],x=S(Object(o.useState)(C.isAutoSizeFont),2),U=x[0],z=x[1],W=function(e,n,o){o&&V();var a=D.getAnnotationManager(R);t.forEach((function(t){t[e]=n,"StrokeThickness"===e&&Object(O.a)(t),a.redrawAnnotation(t),t instanceof window.Core.Annotations.WidgetAnnotation&&t.refresh()}))},G=function(e,n){t.forEach((function(t){D.setAnnotationStyles(t,A({},e,n),R),_&&Object(m.a)(t.ToolName,e,n),"FontSize"!==e&&"Font"!==e||Object(O.a)(t)}))},V=function(e,n){t.forEach((function(t){D.setAnnotationStyles(t,A({},e,n),R),_&&Object(m.a)(t.ToolName,e,n)}))},K=function(e,n){t.forEach((function(t){D.updateAnnotationRichTextStyle(t,A({},e,n),R)}))},H=function(e,n){t.forEach((function(t){var o="";if("start"===e)t.setStartStyle(n),o="StartLineStyle";else if("end"===e)t.setEndStyle(n),o="EndLineStyle";else if("middle"===e){var a=n.split(","),i=a.shift();t.Style=i,t.Dashes=a,o="StrokeStyle"}_&&Object(m.a)(t.ToolName,o,n),D.getAnnotationManager(R).redrawAnnotation(t)})),D.getAnnotationManager(R).trigger("annotationChanged",[t,"modify",{}])},Y=function(e){Object(b.k)()&&e.target===e.currentTarget&&L(y.a.closeElement(v.a.ANNOTATION_POPUP))},q=Object(p.a)("Popup AnnotationStylePopup",e);return M?null:a.a.createElement(c.a,{onResize:function(){j&&j()}},(function(e){var o=e.measureRef;return a.a.createElement("div",{className:q,"data-element":v.a.ANNOTATION_STYLE_POPUP,onClick:Y,ref:o},k&&a.a.createElement("div",{className:"back-to-menu-container","data-element":v.a.ANNOTATION_STYLE_POPUP_BACK_BUTTON_CONTAINER},a.a.createElement(d.a,{className:"back-to-menu-button",dataElement:v.a.ANNOTATION_STYLE_POPUP_BACK_BUTTON,label:B("action.backToMenu"),img:"icon-chevron-left",onClick:F})),a.a.createElement(s.a,{hideSnapModeCheckbox:N,colorMapKey:P,style:n,isFreeText:r,isFreeTextAutoSize:U,onFreeTextSizeToggle:function(){return Object(g.a)(t[0],z,U)},isEllipse:h,isMeasure:w,onStyleChange:V,onSliderChange:W,onPropertyChange:G,disableSeparator:!0,properties:C,onRichTextStyleChange:K,isRedaction:i,showLineStyleOptions:T,onLineStyleChange:H}))}))};T.propTypes=P;var C=T;t.a=C},1692:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1744:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1851:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(14),n(81),n(27),n(21),n(49),n(20),n(12),n(22),n(18),n(26),n(16),n(40),n(23),n(41),n(37),n(42),n(8),n(54),n(17),n(19),n(62),n(11),n(30),n(13);var o=n(0),a=n.n(o),i=n(6),r=n(1),l=n.n(r),c=n(103),u=n.n(c),s=n(175),d=n(33),f=n(231),p=n(1529),m=n(45),b=n(307),O=n(220),y=n(497),E=n(39),v=n(148),g=n(2),h=n(3),A=n(5),S=n(64),w=n(24),P=n(7),T=(n(31),n(38),n(36),n(32),n(29),n(47),n(46),n(48),n(185)),C=n.n(T),N=n(15),j=n.n(N),k=n(326),F=n(82),D=n(1562);function I(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(n,o,a,i){var c=o&&o.prototype instanceof l?o:l,u=Object.create(c.prototype);return M(u,"_invoke",function(n,o,a){var i,l,c,u=0,s=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,c=e,f.n=n,r}};function p(n,o){for(l=n,c=o,t=0;!d&&u&&!a&&t<s.length;t++){var a,i=s[t],p=f.p,m=i[2];n>3?(a=m===o)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((a=n<2&&p<i[1])?(l=0,f.v=o,f.n=i[1]):p<m&&(a=n<3||i[0]>o||o>m)&&(i[4]=n,i[5]=o,f.n=m,l=0))}if(a||n>1)return r;throw d=!0,o}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&p(s,m),l=s,c=m;(t=l<2?e:c)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,c)):f.n=c:f.v=c);try{if(u=2,i){if(l||(a="next"),t=i[a]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);i=e}else if((t=(d=f.n<0)?c:n.call(o,f))!==r)break}catch(t){i=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,i),!0),u}var r={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][o]?t(t([][o]())):(M(t={},o,(function(){return this})),t),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,M(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,M(d,"constructor",u),M(u,"constructor",c),c.displayName="GeneratorFunction",M(u,a,"GeneratorFunction"),M(d),M(d,a,"Generator"),M(d,o,(function(){return this})),M(d,"toString",(function(){return"[object Generator]"})),(I=function(){return{w:i,m:f}})()}function M(e,t,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(M=function(e,t,n,o){if(t)a?a(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n;else{var i=function(t,n){M(e,t,(function(e){return this._invoke(t,n,e)}))};i("next",0),i("throw",1),i("return",2)}})(e,t,n,o)}function _(e,t,n,o,a,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,a)}var R=function(e){var t=e.onClick,n=e.annotation,i=e.onDatePickerShow,r=Object(o.useRef)(null),l=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e;return function(){var o,a=(o=I().m((function o(){return I().w((function(o){for(;;)switch(o.n){case 0:return o.n=1,window.Core.createDatePicker({field:r.current,onClick:t,container:l.current,format:n.getDateFormat()});case 1:e=o.v,i(!0);case 2:return o.a(2)}}),o)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=o.apply(e,t);function r(e){_(i,n,a,r,l,"next",e)}function l(e){_(i,n,a,r,l,"throw",e)}r(void 0)}))});return function(){return a.apply(this,arguments)}}()(),function(){e.destroy(),e=null,i(!1)}}),[]),a.a.createElement("div",{"data-element":"datePickerContainer"},a.a.createElement("div",{ref:r}),a.a.createElement("div",{ref:l}))};R.propTypes={onClick:l.a.func.isRequired,annotation:l.a.object.isRequired,onDatePickerShow:l.a.func.isRequired};var L=R,B=n(1676),x=(n(137),n(136),n(106)),U=n(72),z=n(120),W=n(419);n(1744);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var K=window.Core.Scale,H=function(e){var t=e.Measure.axis[0].factor;switch(e.Scale[1][1]){case"ft-in":return e.getLineLength()*t/12;case"in":default:return e.getLineLength()*t}},Y={annotation:l.a.shape({Scale:l.a.arrayOf(l.a.array)})},q=function(e){var t,n,r=e.annotation,l=G(Object(b.a)(),1)[0],c=Object(d.a)().core,u=Object(i.d)(),s=G(Object(i.e)((function(e){return[h.a.getMeasurementUnits(e),h.a.getCalibrationInfo(e)]}),i.c),2),f=s[0],p=s[1],m=p.tempScale,O=p.isFractionalUnit,y=p.defaultUnit,E=G(Object(o.useState)(""),2),v=E[0],A=E[1],S=Object(o.useRef)(null),w=(null===(t=new K(m).worldScale)||void 0===t?void 0:t.unit)||"mm",P=O?f.to.filter((function(e){return W.e.includes(e)})):f.to,T=!W.e.includes(w),C=O||"ft-in"===w?"text":"number",N=j()("input-field",{"invalid-value":!(m&&(null===(n=new K(m).worldScale)||void 0===n?void 0:n.value)>0)}),k=function(e,t){var n,o=H(r),a=r.Scale,i=o/a[1][0],l=[a[0][0]*i,a[0][1]],c="pt"===(n=t)?"pt":W.m.includes(n)?"mm":"in",s=Object(W.c)(l[0],l[1],c);u(g.a.updateCalibrationInfo({tempScale:"".concat(s," ").concat(c," = ").concat(e," ").concat(t),isFractionalUnit:O}))},F=function(e){var t;k(e,null===(t=new K(m).worldScale)||void 0===t?void 0:t.unit)},D=function(){var e,t,n=null===(e=new K(m).worldScale)||void 0===e?void 0:e.value;t=O||"ft-in"===w?K.getFormattedValue(n,w,O?1/64:1e-4,!1,!0):"".concat(n),A(t||"")},I=Object(o.useRef)(m);return Object(o.useEffect)((function(){I.current=m}),[m]),Object(o.useEffect)((function(){if(r){var e=H(r),t=r.Scale[1][1];y?k(Object(W.c)(e,t,y),y):k(e,t)}var n=function(e,t){if("modify"===t&&1===e.length&&e[0]===r){var n,o=H(r),a=r.Scale[1][1],i=null===(n=new K(I.current).worldScale)||void 0===n?void 0:n.unit;i?k(Object(W.c)(o,a,i),i):k(o,a)}};return c.addEventListener("annotationChanged",n),function(){c.removeEventListener("annotationChanged",n),c.deleteAnnotations([r])}}),[r]),Object(o.useEffect)((function(){(null==S?void 0:S.current)!==document.activeElement&&D()}),[m,O]),a.a.createElement("div",{className:"CalibrationPopup","data-element":"calibrationPopup"},a.a.createElement("label",{className:"calibration-popup-label",id:"calibration-popup-label",htmlFor:"calibration-popup-value"},l("option.measurement.scaleModal.units")),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{id:"calibration-popup-value",className:N,ref:S,type:C,value:v,min:"0",onChange:function(e){A(e.target.value);var t=e.target.value.trim();if(O){if("in"===w){if(W.k.test(t)){var n=Object(W.p)(t);if(n>0)return void F(n)}}else if("ft-in"===w&&W.g.test(t)){var o=Object(W.o)(t);if(o>0)return void F(o)}}else if("ft-in"===w&&W.f.test(t)){var a=Object(W.n)(t);if(a>0)return void F(a)}else if(W.d.test(t)){var i=parseFloat(t)||0;return void F(i)}F(0)},onBlur:function(){D()},placeholder:O?W.i[w]:"ft-in"===w?W.i["ft-in decimal"]:""}),a.a.createElement(z.a,{content:"option.measurement.scaleModal.displayUnits"},a.a.createElement("div",{className:"input-field"},a.a.createElement(U.a,{id:"calibration-popup-units",dataElement:"calibrationUnits",items:P,currentSelectionKey:w,onClickItem:function(e){var t;k(null===(t=new K(m).worldScale)||void 0===t?void 0:t.value,e)},labelledById:"calibration-popup-label"})))),a.a.createElement(z.a,{content:l("option.measurement.scaleModal.fractionUnitsTooltip")},a.a.createElement("div",null,a.a.createElement(x.a,{isSwitch:!0,leftLabel:!0,label:l("option.measurement.scaleModal.fractionalUnits"),disabled:T,checked:O,id:"calibration-popup-fractional-units",className:"pop-switch",onChange:function(){u(g.a.updateCalibrationInfo({tempScale:m,isFractionalUnit:!O}))}}))))};q.propTypes=Y;var $=q,J=n(56);n(1692);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=X(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var oe={isMobile:l.a.bool,isIE:l.a.bool,isOpen:l.a.bool,isRightClickMenu:l.a.bool,isNotesPanelOpenOrActive:l.a.bool,isRichTextPopupOpen:l.a.bool,isLinkModalOpen:l.a.bool,isWarningModalOpen:l.a.bool,isContextMenuPopupOpen:l.a.bool,isVisible:l.a.bool,focusedAnnotation:l.a.object,popupRef:l.a.any,position:l.a.object,showViewFileButton:l.a.bool,onViewFile:l.a.func,showCommentButton:l.a.bool,onCommentAnnotation:l.a.func,isDateFreeTextCanEdit:l.a.bool,isDatePickerOpen:l.a.bool,handleDateChange:l.a.func,onDatePickerShow:l.a.func,isCalibrationPopupOpen:l.a.bool,showEditStyleButton:l.a.bool,isStylePopupOpen:l.a.bool,hideSnapModeCheckbox:l.a.bool,openEditStylePopup:l.a.func,closeEditStylePopup:l.a.func,annotationStyle:l.a.object,onResize:l.a.func,showContentEditButton:l.a.bool,onEditContent:l.a.func,openContentEditDeleteWarningModal:l.a.func,showClearSignatureButton:l.a.bool,onClearAppearanceSignature:l.a.func,showRedactionButton:l.a.bool,onApplyRedaction:l.a.func,showGroupButton:l.a.bool,onGroupAnnotations:l.a.func,showUngroupButton:l.a.bool,onUngroupAnnotations:l.a.func,showFormFieldButton:l.a.bool,onOpenFormField:l.a.func,showDeleteButton:l.a.bool,onDeleteAnnotation:l.a.func,showLinkButton:l.a.bool,hasAssociatedLink:l.a.bool,linkAnnotationToURL:l.a.func,showFileDownloadButton:l.a.bool,downloadFileAttachment:l.a.func,showAudioPlayButton:l.a.bool,handlePlaySound:l.a.func,showCalibrateButton:l.a.bool,onOpenCalibration:l.a.func,showAlignButton:l.a.bool,onOpenAlignmentModal:l.a.func,customizableUI:l.a.bool,toggleStylePanel:l.a.func,isInReadOnlyMode:l.a.bool},ae=function(e){var t,n,i=e.isMobile,r=e.isIE,l=e.isOpen,c=e.isRightClickMenu,u=e.isNotesPanelOpenOrActive,s=e.isRichTextPopupOpen,d=e.isLinkModalOpen,f=e.isWarningModalOpen,p=e.isContextMenuPopupOpen,m=e.isVisible,O=e.focusedAnnotation,y=e.popupRef,E=e.position,v=e.showViewFileButton,g=e.onViewFile,h=e.showCommentButton,S=e.onCommentAnnotation,P=e.isDateFreeTextCanEdit,T=e.isDatePickerOpen,N=e.handleDateChange,I=e.onDatePickerShow,M=e.isCalibrationPopupOpen,_=e.showEditStyleButton,R=e.isStylePopupOpen,x=e.hideSnapModeCheckbox,U=e.openEditStylePopup,z=e.closeEditStylePopup,W=e.annotationStyle,G=e.onResize,V=e.showContentEditButton,K=e.onEditContent,H=e.openContentEditDeleteWarningModal,Y=e.showClearSignatureButton,q=e.onClearAppearanceSignature,X=e.showRedactionButton,Q=e.onApplyRedaction,ee=e.showGroupButton,ne=e.onGroupAnnotations,oe=e.showUngroupButton,ae=e.onUngroupAnnotations,ie=e.showFormFieldButton,re=e.onOpenFormField,le=e.showDeleteButton,ce=e.onDeleteAnnotation,ue=e.showLinkButton,se=e.hasAssociatedLink,de=e.linkAnnotationToURL,fe=e.showFileDownloadButton,pe=e.downloadFileAttachment,me=e.showAudioPlayButton,be=e.handlePlaySound,Oe=e.showCalibrateButton,ye=e.onOpenCalibration,Ee=e.showAlignButton,ve=e.onOpenAlignmentModal,ge=e.customizableUI,he=e.toggleStylePanel,Ae=e.isInReadOnlyMode,Se=te(Object(b.a)(),1)[0],we=te(Object(o.useState)(!1),2),Pe=we[0],Te=we[1],Ce=P?"action.changeDate":"action.comment",Ne=P?"icon-tool-fill-and-sign-calendar":"icon-header-chat-line",je=!Ae&&O instanceof window.Core.Annotations.Model3DAnnotation&&!i,ke=O instanceof window.Core.Annotations.RectangleAnnotation,Fe=O instanceof window.Core.Annotations.EllipseAnnotation,De=O instanceof window.Core.Annotations.PolygonAnnotation,Ie=O instanceof window.Core.Annotations.FreeTextAnnotation&&(O.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeText||O.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeTextCallout),Me=O instanceof window.Core.Annotations.RedactionAnnotation,_e=Object(J.g)(O),Re=!!O.Measure,Le=Object(J.e)(Object(J.j)(O.ToolName)).hasLineEndings,Be=!window.isApryseWebViewerWebComponent||(null===(t=document.activeElement)||void 0===t?void 0:t.shadowRoot)===Object(w.a)(),xe="solid",Ue=null===(n=O.isContentEditPlaceholder)||void 0===n?void 0:n.call(O),ze=O instanceof window.Core.Annotations.SignatureWidgetAnnotation&&O.fieldFlags.get(window.Core.Annotations.WidgetFlags.READ_ONLY);try{xe="dash"===O.Style?"".concat(O.Style,",").concat(O.Dashes):O.Style}catch(e){console.error(e)}var We={};if(Le&&(We={StartLineStyle:O.getStartStyle(),EndLineStyle:O.getEndStyle(),StrokeStyle:xe}),(ke||Fe||De)&&(We={StrokeStyle:xe}),Ie){var Ge,Ve,Ke,He,Ye,qe,$e,Je,Xe,Qe,Ze,et=O.getRichTextStyle(),tt=O.isAutoSizeFont(),nt=O.getCalculatedFontSize();We={Font:O.Font,FontSize:O.FontSize,TextAlign:O.TextAlign,TextVerticalAlign:O.TextVerticalAlign,bold:null!==(Ge="bold"===(null==et||null===(Ve=et[0])||void 0===Ve?void 0:Ve["font-weight"]))&&void 0!==Ge&&Ge,italic:null!==(Ke="italic"===(null==et||null===(He=et[0])||void 0===He?void 0:He["font-style"]))&&void 0!==Ke&&Ke,underline:(null==et||null===(Ye=et[0])||void 0===Ye||null===(qe=Ye["text-decoration"])||void 0===qe?void 0:qe.includes("underline"))||(null==et||null===($e=et[0])||void 0===$e||null===(Je=$e["text-decoration"])||void 0===Je?void 0:Je.includes("word")),strikeout:null!==(Xe=null==et||null===(Qe=et[0])||void 0===Qe||null===(Ze=Qe["text-decoration"])||void 0===Ze?void 0:Ze.includes("line-through"))&&void 0!==Xe&&Xe,StrokeStyle:xe,isAutoSizeFont:tt,calculatedFontSize:nt}}Me&&(We={OverlayText:O.OverlayText,Font:O.Font,FontSize:O.FontSize,TextAlign:O.TextAlign});var ot=a.a.createElement("div",{className:j()({Popup:!0,AnnotationPopup:!0,open:l,closed:!l,stylePopupOpen:R,"is-vertical":c,"is-horizontal":!c}),ref:y,"data-element":A.a.ANNOTATION_POPUP,style:Z(Z({},E),{},{visibility:m||void 0===m?"visible":"hidden"})},function(){switch(!0){case R:return a.a.createElement(D.a,{annotations:[O],style:W,isOpen:l,onResize:G,isFreeText:Ie,isEllipse:Fe,isRedaction:Me,isMeasure:Re,colorMapKey:_e,showLineStyleOptions:Le,properties:We,hideSnapModeCheckbox:x,hasBackToMenu:c,onBackToMenu:z});case T:return a.a.createElement(L,{onClick:N,annotation:O,onDatePickerShow:I});case M:return a.a.createElement($,{annotation:O});case Pe&&O instanceof window.Core.Annotations.Model3DAnnotation:return a.a.createElement("div",{className:"shortCuts3D"},a.a.createElement("div",{className:"closeButton",onClick:function(){return Te(!1)}},"x"),a.a.createElement("div",{className:"row"},Se("action.rotate3D")," ",a.a.createElement("span",null,Se("shortcut.rotate3D"))),a.a.createElement("div",{className:"row"},Se("action.zoom")," ",a.a.createElement("span",null,Se("shortcut.zoom3D"))));default:return a.a.createElement(k.a,{locked:l&&Be&&!s&&!u&&!d&&!f&&!Ie&&!p},a.a.createElement("div",{className:"container"},a.a.createElement(B.a,{dataElement:A.a.ANNOTATION_POPUP,childrenClassName:"main-menu-button"},v&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"viewFileButton",label:c?"action.viewFile":"",title:c?"":"action.viewFile",img:"icon-view",onClick:g}),h&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"annotationCommentButton",label:c?Ce:"",title:c?"":Ce,img:Ne,onClick:S}),_&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"annotationStyleEditButton",label:c?"action.style":"",title:c?"":"action.style",img:"icon-menu-style-line",onClick:ge?he:U}),V&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"annotationContentEditButton",label:c?"action.edit":"",title:c?"":"action.edit",img:"ic_edit_page_24px",onClick:K}),Y&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"annotationClearSignatureButton",label:!ze&&c?"action.clearSignature":"",title:ze?"action.readOnlySignature":c?"":"action.clearSignature",img:"icon-delete-line",onClick:q,isNotClickableSelector:function(){return ze}}),X&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"annotationRedactButton",label:c?"action.apply":"",title:c?"":"action.apply",img:"ic_check_black_24px",onClick:Q}),ee&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"annotationGroupButton",label:c?"action.group":"",title:c?"":"action.group",img:"group-annotations-icon",onClick:ne}),oe&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"annotationUngroupButton",label:c?"action.ungroup":"",title:c?"":"action.ungroup",img:"ungroup-annotations-icon",onClick:ae}),Ee&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"openAlignmentButton",label:c?"alignmentPopup.alignment":"",title:c?"":"alignmentPopup.alignment",img:"ic-alignment-main",onClick:ve}),ie&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"formFieldEditButton",label:c?"action.formFieldEdit":"",title:c?"":"action.formFieldEdit",img:"icon-edit-form-field",onClick:re}),le&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"annotationDeleteButton",label:c?"action.delete":"",title:c?"":"action.delete",img:"icon-delete-line",onClick:Ue?H:ce}),Oe&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:A.a.CALIBRATION_POPUP_BUTTON,label:c?"action.calibrate":"",title:c?"":"action.calibrate",img:"calibrate",onClick:ye}),ue&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"linkButton",label:c?"tool.Link":"",title:c?"":"tool.Link",img:se?"icon-tool-unlink":"icon-tool-link",onClick:de}),fe&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"fileAttachmentDownload",label:c?"action.fileAttachmentDownload":"",title:c?"":"action.fileAttachmentDownload",img:"icon-download",onClick:function(){return pe(O)}}),je&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"shortCutKeysFor3D",label:c?"action.viewShortCutKeysFor3D":"",title:c?"":"action.viewShortCutKeysFor3D",img:"icon-keyboard",onClick:function(){return Te(!0)}}),me&&a.a.createElement(F.a,{className:"main-menu-button",dataElement:"playSoundButton",label:c?"action.playAudio":"",title:c?"":"action.playAudio",img:"ic_play_24px",onClick:function(){return be(O)}}))))}}());return r||i?ot:a.a.createElement(C.a,{cancel:".Button, .cell, .sliders-container svg, select, button, input"},ot)};ae.propTypes=oe;var ie=ae,re=n(1503);function le(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(n,o,a,i){var c=o&&o.prototype instanceof l?o:l,u=Object.create(c.prototype);return ce(u,"_invoke",function(n,o,a){var i,l,c,u=0,s=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,c=e,f.n=n,r}};function p(n,o){for(l=n,c=o,t=0;!d&&u&&!a&&t<s.length;t++){var a,i=s[t],p=f.p,m=i[2];n>3?(a=m===o)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((a=n<2&&p<i[1])?(l=0,f.v=o,f.n=i[1]):p<m&&(a=n<3||i[0]>o||o>m)&&(i[4]=n,i[5]=o,f.n=m,l=0))}if(a||n>1)return r;throw d=!0,o}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&p(s,m),l=s,c=m;(t=l<2?e:c)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,c)):f.n=c:f.v=c);try{if(u=2,i){if(l||(a="next"),t=i[a]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);i=e}else if((t=(d=f.n<0)?c:n.call(o,f))!==r)break}catch(t){i=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,i),!0),u}var r={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][o]?t(t([][o]())):(ce(t={},o,(function(){return this})),t),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,ce(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,ce(d,"constructor",u),ce(u,"constructor",c),c.displayName="GeneratorFunction",ce(u,a,"GeneratorFunction"),ce(d),ce(d,a,"Generator"),ce(d,o,(function(){return this})),ce(d,"toString",(function(){return"[object Generator]"})),(le=function(){return{w:i,m:f}})()}function ce(e,t,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(ce=function(e,t,n,o){if(t)a?a(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n;else{var i=function(t,n){ce(e,t,(function(e){return this._invoke(t,n,e)}))};i("next",0),i("throw",1),i("return",2)}})(e,t,n,o)}function ue(e,t,n,o,a,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,a)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){ue(i,o,a,r,l,"next",e)}function l(e){ue(i,o,a,r,l,"throw",e)}r(void 0)}))}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var pe=window.Core.Tools.ToolNames,me=window.Core.Annotations,be={focusedAnnotation:l.a.object,selectedMultipleAnnotations:l.a.bool,canModify:l.a.bool,focusedAnnotationStyle:l.a.object,isStylePopupOpen:l.a.bool,setIsStylePopupOpen:l.a.func,isDatePickerOpen:l.a.bool,setDatePickerOpen:l.a.func,isDatePickerMount:l.a.bool,setDatePickerMount:l.a.func,hasAssociatedLink:l.a.bool,includesFormFieldAnnotation:l.a.bool,stylePopupRepositionFlag:l.a.bool,setStylePopupRepositionFlag:l.a.func,closePopup:l.a.func,widgetThatOpenedPopupRef:l.a.object},Oe=function(e){var t=e.focusedAnnotation,n=e.selectedMultipleAnnotations,r=e.canModify,l=e.focusedAnnotationStyle,c=e.isStylePopupOpen,T=e.setIsStylePopupOpen,C=e.isDatePickerOpen,N=e.setDatePickerOpen,j=e.isDatePickerMount,k=e.setDatePickerMount,F=e.hasAssociatedLink,D=e.includesFormFieldAnnotation,I=e.stylePopupRepositionFlag,M=e.setStylePopupRepositionFlag,_=e.closePopup,R=e.widgetThatOpenedPopupRef,L=Object(d.a)().core,B=Object(i.e)((function(e){return h.a.isElementDisabled(e,A.a.ANNOTATION_POPUP)})),x=Object(i.e)((function(e){return h.a.isElementOpen(e,A.a.ANNOTATION_POPUP)})),U=Object(i.e)((function(e){return h.a.isElementOpen(e,A.a.CONTEXT_MENU_POPUP)})),z=Object(i.e)(h.a.isRightClickAnnotationPopupEnabled),W=Object(i.e)((function(e){return h.a.isElementDisabled(e,A.a.NOTES_PANEL)})),G=Object(i.e)((function(e){return h.a.isElementDisabled(e,A.a.ANNOTATION_STYLE_POPUP)})),V=Object(i.e)((function(e){return h.a.isElementDisabled(e,A.a.INLINE_COMMENT_POPUP)})),K=Object(i.e)((function(e){return h.a.isElementOpen(e,A.a.NOTES_PANEL)})),H=Object(i.e)((function(e){return h.a.isElementOpen(e,A.a.LINK_MODAL)})),Y=Object(i.e)((function(e){return h.a.isElementOpen(e,A.a.WARNING_MODAL)})),q=Object(i.e)((function(e){return h.a.isElementOpen(e,"richTextPopup")})),$=Object(i.e)(h.a.getIsMultiTab),J=Object(i.e)(h.a.getTabManager),X=Object(i.e)(h.a.getTabs),Q=Object(i.e)(h.a.getNotesInLeftPanel),Z=Object(i.e)((function(e){return h.a.isElementOpen(e,A.a.LEFT_PANEL)})),ee=Object(i.e)(h.a.getActiveLeftPanel),te=Object(i.e)(h.a.getActiveDocumentViewerKey),ne=Object(i.e)(h.a.isAnyCustomPanelOpen),oe=Object(i.e)(h.a.getFeatureFlags),ae=Object(i.e)((function(e){return h.a.isElementOpen(e,A.a.STYLE_PANEL)})),ce=Object(i.e)((function(e){return h.a.isElementDisabled(e,A.a.STYLE_PANEL)})),ue=Object(i.e)((function(e){return h.a.getIsPanelInFlyout(e,P.k.STYLE_PANEL,[A.a.MULTI_SELECT_STYLE_PANEL_FLYOUT])})),fe=Object(i.e)((function(e){return h.a.isElementOpen(e,null==ue?void 0:ue.dataElement)})),be=de(Object(b.a)(),1)[0],ye=Object(i.d)(),Ee=de(Object(o.useState)({left:0,top:0}),2),ve=Ee[0],ge=Ee[1],he=de(Object(o.useState)(!1),2),Ae=he[0],Se=he[1],we=de(Object(o.useState)(!1),2),Pe=we[0],Te=we[1],Ce=Object(o.useRef)(),Ne=!z||L.isAnnotationSelected(t,te),je=L.getAnnotationManager(te),ke=oe.customizableUI;Object(v.a)(Ce,Object(o.useCallback)((function(e){var t,n=Object(w.a)().querySelector('[data-element="'.concat(A.a.NOTES_PANEL,'"]')),o=null==n?void 0:n.contains(e.target),a=null===(t=Object(w.a)().querySelector(".LinkModal.open"))||void 0===t?void 0:t.contains(e.target),i=Object(w.a)().querySelector("[data-element=".concat(null==ue?void 0:ue.dataElement,"]")),r=null==i?void 0:i.contains(e.target),l=Object(O.b)(),c=Object(O.d)(),u=Object(O.c)();o||a||r||c||u||l||(z?_():ye(g.a.closeElement(A.a.ANNOTATION_POPUP)))}),[z]));var Fe=u()((function(){Oe&&function(){var e=L.getDisplayModeObject().getVisiblePages(),n=Object(re.a)(L,t);if(Ce.current&&n&&t)ge(Object(f.c)(t,Ce,te));else if(!W&&!n){var o=L.getSelectedAnnotations().find((function(t){return e.includes(t.PageNumber)}));ge(Object(f.c)(o,Ce,te))}}()}),16,{trailing:!0,leading:!1}),De=u()((function(){Oe&&Se(Ne)}),32,{trailing:!0,leading:!1});Object(o.useEffect)((function(){return window.addEventListener("resize",Fe),function(){window.removeEventListener("resize",Fe)}}),[]),Object(o.useLayoutEffect)((function(){(t||c||j)&&(Fe(),Se(!1),De())}),[t,c,j,r,te]),Object(o.useEffect)((function(){t&&t.ToolName===pe.CALIBRATION_MEASUREMENT&&Te(!0)}),[t]),Object(o.useEffect)((function(){(x||q)&&ye(g.a.closeElement(A.a.INLINE_COMMENT_POPUP))}),[x,q]);var Ie=!!Object(E.a)("webviewerServerURL",null)?window.Core.SupportedFileFormats.SERVER:window.Core.SupportedFileFormats.CLIENT,Me=t instanceof me.FileAttachmentAnnotation&&$&&Ie.includes(window.Core.mimeTypeToExtension[t.getFileMetadata().mimeType]),_e=Object(o.useCallback)(se(le().m((function e(){var n,o,a,i,r;return le().w((function(e){for(;;)switch(e.n){case 0:if(J&&$){e.n=1;break}return e.a(2,console.warn("Can't open file in non-multi-tab mode"));case 1:if(n=t.getFileMetadata(),!(o=X.find((function(e){return e.options.filename===n.filename})))){e.n=3;break}return e.n=2,J.setActiveTab(o.id,!0);case 2:return e.a(2);case 3:return a=J,e.n=4,t.getFileData();case 4:return i=e.v,r={extension:window.Core.mimeTypeToExtension[n.mimeType],filename:n.filename,saveCurrentActiveTabState:!0,setActive:!0},e.n=5,a.addTab.call(a,i,r);case 5:return e.a(2)}}),e)}))),[J,t,X,$]);if(Object(o.useEffect)((function(){var e=Ce.current;if(e&&null!=R&&R.current){var n=R.current.getAssociatedSignatureAnnotation(),o=function(e){var o;("Escape"===e.key&&x&&(e.preventDefault(),e.stopPropagation(),n===t&&je.deselectAnnotation(t,te),_()),r&&("Delete"===e.key||"Backspace"===e.key)&&x)&&(e.preventDefault(),e.stopPropagation(),null!=R&&null!==(o=R.current)&&void 0!==o&&o.isSignedByAppearance()?R.current.clearSignature(je):n&&je.deleteAnnotation(n,te),_())};return e.addEventListener("keydown",o,!0),function(){return e.removeEventListener("keydown",o,!0)}}}),[Ce,x,R,t,_,je,te]),B||!t)return null;var Re=L.getSelectedAnnotations(te),Le=Re.length,Be=Le>1,xe=t instanceof me.FreeTextAnnotation&&!!t.getDateFormat()&&L.canModifyContents(t,te),Ue=L.getNumberOfGroups(Re,te),ze=Ue>1,We=1===Ue&&Le>1&&Ne,Ge=t instanceof me.SignatureWidgetAnnotation&&t.isSignedByAppearance(),Ve=L.getIsReadOnly(),Ke=(!W||!V)&&(!Be||Be&&!Ne)&&t.ToolName!==pe.CROP&&!D&&!t.isContentEditPlaceholder()&&!Ge,He=r&&Be&&!Object(m.k)(),Ye=Object.keys(l).length>0,qe=[pe.CROP,pe.VIDEO_REDACTION,pe.VIDEO_AND_AUDIO_REDACTION,pe.AUDIO_REDACTION],$e=r&&Ye&&(!G||ke)&&(!Be||We||Be&&!Ne)&&!qe.includes(t.ToolName)&&!(t instanceof me.Model3DAnnotation)&&!t.isContentEditPlaceholder()&&!Ge&&!(t instanceof me.PushButtonWidgetAnnotation),Je=t instanceof me.EllipseAnnotation||!L.isFullPDFEnabled(),Xe=t.isContentEditPlaceholder()&&t.getContentEditType()===window.Core.ContentEdit.Types.TEXT,Qe=function(){var e=se(le().m((function e(){return le().w((function(e){for(;;)switch(e.n){case 0:je.trigger("annotationDoubleClicked",t),ye(g.a.closeElement(A.a.ANNOTATION_POPUP));case 1:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=r&&Ge&&!it,et=L.isAnnotationRedactable(t,te)&&!Be&&!D,tt=Re.find((function(e){return!e.InReplyTo})),nt=r&&Ne&&ze&&!D,ot=We,at=L.getFormFieldCreationManager(te).isInFormFieldCreationMode(),it=D&&at&&!(t instanceof me.PushButtonWidgetAnnotation),rt=r&&!Ze,lt=function(){Ne?L.deleteAnnotations(L.getSelectedAnnotations(te),void 0,te):L.deleteAnnotations([t],void 0,te),_()},ct=[pe.CROP,pe.SIGNATURE,pe.REDACTION,pe.REDACTION2,pe.REDACTION3,pe.REDACTION4,pe.STICKY,pe.STICKY2,pe.STICKY3,pe.STICKY4],ut=r&&!ct.includes(t.ToolName)&&!D&&!t.isContentEditPlaceholder()&&!(t instanceof me.SoundAnnotation)&&!Ge,st=r&&t.Measure&&t instanceof me.LineAnnotation,dt=t instanceof me.FileAttachmentAnnotation,ft=function(){var e=se(le().m((function e(t){var n,o,a;return le().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,t.getFullFileMetadata();case 1:n=e.v,o=n.fileData,a=n.fileName,Object(s.saveAs)(o,a);case 2:return e.a(2)}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=!m.e&&!n&&t instanceof me.SoundAnnotation&&t.hasAudioData(),mt=K||Q&&Z&&"notesPanel"===ee||ne||at;return a.a.createElement(ie,{isMobile:Object(m.k)(),isIE:m.e,isOpen:x,isRightClickMenu:z,isNotesPanelOpenOrActive:mt,isRichTextPopupOpen:q,isLinkModalOpen:H,isWarningModalOpen:Y,isContextMenuPopupOpen:U,isVisible:Ae,popupRef:Ce,position:ve,focusedAnnotation:t,multipleAnnotationsSelected:Be,showViewFileButton:Me,onViewFile:_e,showCommentButton:Ke,onCommentAnnotation:function(){if(xe)N(!0);else{ye(g.a.closeElement("searchPanel")),ye(g.a.closeElement("redactionPanel"));var e=L.getContentEditManager(te);e.isInContentEditMode()&&(ye(g.a.closeElement("textEditingPanel")),e.endContentEditMode()),ye(g.a.triggerNoteEditing()),V?(ye(g.a.openElement(A.a.NOTES_PANEL)),ye(g.a.closeElement(A.a.ANNOTATION_POPUP))):(K||ye(g.a.openElement(A.a.INLINE_COMMENT_POPUP)),_())}},isDateFreeTextCanEdit:xe,isDatePickerOpen:C,handleDateChange:function(e){je.setNoteContents(t,e),je.updateAnnotation(t)},onDatePickerShow:function(e){k(e)},isCalibrationPopupOpen:Pe,showEditStyleButton:$e,isStylePopupOpen:c,hideSnapModeCheckbox:Je,openEditStylePopup:function(){return T(!0)},closeEditStylePopup:function(){return T(!1)},annotationStyle:l,onResize:function(){M(!I)},showContentEditButton:Xe,onEditContent:Qe,openContentEditDeleteWarningModal:function(){var e={message:be("option.contentEdit.deletionModal.message"),title:be("option.contentEdit.deletionModal.title"),confirmBtnText:be("action.ok"),onConfirm:function(){return lt()}};ye(g.a.showWarningMessage(e))},showClearSignatureButton:Ze,onClearAppearanceSignature:function(){t.clearSignature(je),_()},showRedactionButton:et,onApplyRedaction:function(){ye(Object(p.a)(t,void 0,te)),ye(g.a.closeElement(A.a.ANNOTATION_POPUP))},showGroupButton:nt,onGroupAnnotations:function(){L.groupAnnotations(tt,Re,te)},showUngroupButton:ot,onUngroupAnnotations:function(){L.ungroupAnnotations(Re,te)},showFormFieldButton:it,onOpenFormField:function(){_(),ke?(ye(g.a.disableElement(S.b)),ye(g.a.closeElement(A.a.FORM_FIELD_EDIT_POPUP))):ye(g.a.disableElement(A.a.ANNOTATION_POPUP,S.b)),ye(g.a.openElement(A.a.FORM_FIELD_EDIT_POPUP)),ye(g.a.openElement(A.a.FORM_FIELD_PANEL))},showDeleteButton:rt,onDeleteAnnotation:lt,showLinkButton:ut,hasAssociatedLink:F,linkAnnotationToURL:function(){F?((Ne?Re:[t]).forEach((function(e){Object(y.a)(e).forEach((function(t,n){je.ungroupAnnotations([t]),e instanceof me.TextHighlightAnnotation&&0===e.Opacity&&0===n?je.deleteAnnotations([e,t],null,!0):je.deleteAnnotation(t,null,!0)}))})),_()):ye(g.a.openElement(A.a.LINK_MODAL))},showFileDownloadButton:dt,downloadFileAttachment:ft,showAudioPlayButton:pt,handlePlaySound:function(e){ye(g.a.setActiveSoundAnnotation(e)),ye(g.a.triggerResetAudioPlaybackPosition(!0)),ye(g.a.openElement("audioPlaybackPopup"))},showCalibrateButton:st,onOpenCalibration:function(){ye(g.a.closeElement(A.a.ANNOTATION_POPUP)),ye(g.a.openElement(A.a.CALIBRATION_MODAL))},customizableUI:ke,toggleStylePanel:function(){ae||ce||ue||ye(g.a.openElement(A.a.STYLE_PANEL)),ue&&ye(fe?g.a.closeElement(ue.dataElement):g.a.openFlyout(ue.dataElement,"annotationStyleEditButton")),ue||_()},isStylePanelOpen:ae,isInReadOnlyMode:Ve,showAlignButton:He,onOpenAlignmentModal:function(){ye(g.a.openElement(A.a.ANNOTATION_ALIGNMENT_POPUP)),_()}})};Oe.propTypes=be;var ye=Oe;t.default=ye}}]);
//# sourceMappingURL=chunk.41.js.map
(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[55],{1697:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1762:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1852:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(14),n(27),n(21),n(20),n(12),n(22),n(18),n(26),n(16),n(40),n(23),n(41),n(42),n(8),n(54),n(1524),n(17),n(19),n(11),n(30),n(13),n(94);var a=n(0),r=n.n(a),o=n(2),i=n(3),c=n(6),l=n(5),s=n(33),u=n(170),d=n(250),m=n(306),f=(n(38),n(29),n(37),n(15)),p=n.n(f),b=n(1),g=n.n(b),y=n(1482),h=n(585),v=(n(31),n(36),n(81),n(49),n(32),n(1523),n(57),n(47),n(46),n(48),n(112),n(87),n(62),n(111),n(136),n(194)),E=n(322),O=n(4),C=n(1437),P=n(44),w=n(601),k=["Arial","Times New Roman","Tahoma ","Trebuchet MS","Courier","Verdana","Georgia","Palatino","Comic Sans MS","Arial Black","Impact"],S=(n(1762),n(383)),j=n(61),T=n(72),I=n(45);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var l=a&&a.prototype instanceof c?a:c,s=Object.create(l.prototype);return L(s,"_invoke",function(n,a,r){var o,c,l,s=0,u=r||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,c=0,l=e,m.n=n,i}};function f(n,a){for(c=n,l=a,t=0;!d&&s&&!r&&t<u.length;t++){var r,o=u[t],f=m.p,p=o[2];n>3?(r=p===a)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(c=0,m.v=a,m.n=o[1]):f<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,m.n=p,c=0))}if(r||n>1)return i;throw d=!0,a}return function(r,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),c=u,l=p;(t=c<2?e:l)||!d;){o||(c?c<3?(c>1&&(m.n=-1),f(c,l)):m.n=l:m.v=l);try{if(s=2,o){if(c||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=e}else if((t=(d=m.n<0)?l:n.call(a,m))!==i)break}catch(t){o=e,c=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,r,o),!0),s}var i={};function c(){}function l(){}function s(){}t=Object.getPrototypeOf;var u=[][a]?t(t([][a]())):(L(t={},a,(function(){return this})),t),d=s.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,L(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,L(d,"constructor",s),L(s,"constructor",l),l.displayName="GeneratorFunction",L(s,r,"GeneratorFunction"),L(d),L(d,r,"Generator"),L(d,a,(function(){return this})),L(d,"toString",(function(){return"[object Generator]"})),(F=function(){return{w:o,m:m}})()}function L(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(L=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){L(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,n,a)}function W(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){W(o,a,r,i,c,"next",e)}function c(e){W(o,a,r,i,c,"throw",e)}i(void 0)}))}}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,B(a.key),a)}}function x(e,t,n){return t=M(t),function(e,t){if(t&&("object"==N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],M(e).constructor):t.apply(e,n))}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=N(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}var U={CENTER:"center",TOP_LEFT:"topLeft",TOP_RIGHT:"topRight",TOP_CENTER:"topCenter",BOT_LEFT:"bottomLeft",BOT_RIGHT:"bottomRight",BOT_CENTER:"bottomCenter"},z="fontSize",H="text",Q="color",q="opacity",Y="font",K="isBolded",J="isItalic",$="isUnderlined",X=G(G(G(G(G(G(G(G(G({},"location",U.CENTER),z,48),H,""),Q,new window.Core.Annotations.Color(228,66,52)),q,100),Y,k[0]),K,!1),J,!1),$,!1),Z=G(G(G(G(G(G(G({},U.CENTER,"diagonal"),U.TOP_LEFT,"headerLeft"),U.TOP_RIGHT,"headerRight"),U.TOP_CENTER,"headerCenter"),U.BOT_LEFT,"footerLeft"),U.BOT_RIGHT,"footerRight"),U.BOT_CENTER,"footerCenter"),ee=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(n=x(this,t,[e]),"handleWatermarkOnVisibilityChanged",(function(){n.props.isVisible?n.setState({locationSettings:n.state.previousLocationSettings},D(F().m((function e(){return F().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,O.a.getWatermark();case 1:n.preExistingWatermark=e.v,n.addWatermarks();case 2:return e.a(2)}}),e)})))):(n.removeWatermarkCreatedByModal(),O.a.setWatermark(n.preExistingWatermark))})),G(n,"addWatermarks",(function(){var e=n.createWatermarks(),t=n.props.t;O.a.setWatermark(e);var a=O.a.getPageHeight(n.props.pageIndexToView+1),r=300/O.a.getPageWidth(n.props.pageIndexToView+1),o=300/a,i=Math.min(o,r),c=n.props.pageIndexToView+1;O.a.getDocument().loadCanvas({pageNumber:c,zoom:i,drawComplete:function(e){var a=n.canvasContainerRef.current.childNodes;a&&a.length>0&&n.canvasContainerRef.current.removeChild(a[0]),e.style.border=n.canvasContainerRef.current.style.border,e.style.height=n.canvasContainerRef.current.style.height,e.style.backgroundColor=n.canvasContainerRef.current.style.backgroundColor,e.setAttribute("role","img"),e.setAttribute("aria-label","".concat(t("action.page")," ").concat(c)),n.canvasContainerRef.current.appendChild(e)}})})),G(n,"constructWatermarkOption",(function(e){var t=[];return e.isBolded&&t.push(O.a.getFontStyles().BOLD),e.isItalic&&t.push(O.a.getFontStyles().ITALIC),e.isUnderlined&&t.push(O.a.getFontStyles().UNDERLINE),{fontSize:e.fontSize,fontFamily:e.font,color:e.color.toString(),opacity:e.opacity,text:e.text,fontStyles:t}})),G(n,"createWatermarks",(function(){var e={};return Object.keys(U).forEach((function(t){var a=n.constructWatermarkOption(n.state.locationSettings[t]);e[Z[U[t]]]=a})),e})),G(n,"removeWatermarkCreatedByModal",(function(){O.a.setWatermark({})})),G(n,"closeModal",(function(){n.props.modalClosed()})),G(n,"handleInputChange",(function(e,t){var a=A({},n.state.locationSettings),r=n.getCurrentSelectedLocation();a[r]=A(A({},a[r]),{},G({},e,t)),n.setState({locationSettings:a},(function(){n.addWatermarks()}))})),G(n,"resetForm",(function(e){e.preventDefault();var t=n.resetLocationSettings();n.setState({locationSettings:t},(function(){return n.addWatermarks()}))})),G(n,"onOkPressed",(function(){n.setState({previousLocationSettings:n.state.locationSettings},(function(){n.props.modalClosed();var e=n.createWatermarks();n.props.formSubmitted(e)}))})),G(n,"setColorPaletteVisibility",(function(e){n.setState({isColorPaletteVisible:e})})),G(n,"onLocationChanged",(function(e){var t=A({},n.state.locationSettings);Object.keys(t).forEach((function(n){var a=t[n];a=A(A({},a),{},{isSelected:e===n}),t[n]=a})),n.setState({locationSettings:t},(function(){n.addWatermarks()}))})),G(n,"resetLocationSettings",(function(){var e={};return Object.keys(U).forEach((function(t){var n=A(A({},Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(X),X))),{},{isSelected:U[t]===X.location});e[t]=n})),e})),G(n,"initializeLocationSettings",(function(){var e=n.resetLocationSettings();return n.props.watermarkLocations&&Object.keys(U).forEach((function(t){var a,r,o=U[t],i=null!==(a=n.props.watermarkLocations[Z[o]])&&void 0!==a&&a;if(i){var c=n.constructWatermarkOption(i);e[t].text=c.text;var l=i.color.slice(5).replace(")","").split(","),s=new window.Core.Annotations.Color(l[0],l[1],l[2],l[3]);e[t].color=s,e[t].opacity=c.opacity,e[t].fontSize=c.fontSize,i.fontStyles&&(e[t].isBolded=i.fontStyles.includes("BOLD"),e[t].isItalic=i.fontStyles.includes("ITALIC"),e[t].isUnderlined=i.fontStyles.includes("UNDERLINE"));var u=null!==(r=i.fontFamily)&&void 0!==r&&r;u&&0!==u.trim().length||(e[t]=X.font)}})),e})),G(n,"getKeyByValue",(function(e,t){return Object.keys(e).find((function(n){return e[n]===t}))})),G(n,"getCurrentSelectedLocation",(function(){return Object.keys(n.state.locationSettings).find((function(e){return n.state.locationSettings[e].isSelected}))})),G(n,"onColorChanged",(function(e){var t=n.getCurrentSelectedLocation(),a=n.state.locationSettings[t];a[Q]=new window.Core.Annotations.Color(e.R,e.G,e.B);var r=A({},n.state.locationSettings);a[H]||Object.keys(U).forEach((function(t){var n=r[t];n[H]||(n[Q]=new window.Core.Annotations.Color(e.R,e.G,e.B))})),n.setState({locationSettings:r},(function(){n.addWatermarks()}))}));var a=n.initializeLocationSettings();return n.preExistingWatermark=void 0,n.state={isColorPaletteVisible:!1,locationSettings:a,previousLocationSettings:a,lockFocus:!1},n.canvasContainerRef=r.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(t,e),function(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidUpdate",value:function(e){var t=this;O.a.addEventListener("documentLoaded",this.closeModal),this.props.isVisible!==e.isVisible&&(this.props.isVisible?this.setState({lockFocus:!0}):this.setState({lockFocus:!1}),this.setState({isColorPaletteVisible:!1},(function(){return t.handleWatermarkOnVisibilityChanged()})))}},{key:"render",value:function(){var e=this;if(!this.props.isVisible)return null;var t=this.props,n=t.t,a=t.isCustomizableUI,o=this.getCurrentSelectedLocation(),i=this.state.locationSettings[o],c=i[Q].toHexString(),l=Object(I.k)()?160:314,s=Object(I.k)()?328:314;return r.a.createElement(j.a,{className:"Modal Watermark",id:"watermarkModal","data-element":"watermarkModal"},r.a.createElement(S.a,{isOpen:this.state.lockFocus,title:"option.watermark.addWatermark",closeButtonDataElement:"watermarkModalCloseButton",onCloseClick:this.closeModal,swipeToClose:!0,closeHandler:this.closeModal},r.a.createElement("div",{className:"swipe-indicator"}),r.a.createElement("div",{className:"form-content-container"},r.a.createElement("div",{className:"canvas-container",ref:this.canvasContainerRef}),r.a.createElement("div",{className:"watermark-settings"},r.a.createElement("form",{id:"form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{className:"section-label print-quality-section-label",htmlFor:"location",id:"watermark-location-dropdown-label"},n("option.watermark.location")),r.a.createElement(T.a,{id:"location",labelledById:"watermark-location-dropdown-label",dataElement:"watermarkLocation",items:Object.keys(U),getTranslationLabel:function(e){return n("option.watermark.locations.".concat(U[e]))},currentSelectionKey:o,onClickItem:this.onLocationChanged,width:s}),r.a.createElement("div",{className:"separator divider"})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{htmlFor:"textInput"},n("option.watermark.text")),r.a.createElement("input",{className:"text-input",id:"textInput",value:i[H],onChange:function(t){return e.handleInputChange(H,t.target.value)},type:"text"})),r.a.createElement("div",{className:"font-form-fields"},r.a.createElement("div",{className:"form-font-type"},r.a.createElement("label",{htmlFor:"fonts",id:"watermark-font-dropdown-label"},n("option.watermark.font")),r.a.createElement(T.a,{id:"fonts",labelledById:"watermark-font-dropdown-label",dataElement:"watermarkFont",items:k,currentSelectionKey:i[Y],onClickItem:function(t){return e.handleInputChange(Y,t)},width:l})),r.a.createElement("div",{className:"form-font-size"},r.a.createElement("label",{htmlFor:"fontSize"},n("option.watermark.size")),r.a.createElement(w.a,{fontSize:i[z],key:"fontSize",fontUnit:"pt",onFontSizeChange:function(t){return e.handleInputChange(z,Number.parseInt(t))},maxFontSize:1600,initialFontValue:1,initialMaxFontValue:512,width:l}))),r.a.createElement("div",{className:"form-field opacity-slider",id:"opacitySlider"},r.a.createElement(E.a,{dataElement:"watermarkOpacitySlider",property:"Opacity",displayProperty:"opacity",min:0,max:100,step:1,value:i[q],getDisplayValue:function(e){return"".concat(Math.round(e),"%")},withInputField:a,inputFieldType:"number",onSliderChange:function(t,n){return e.handleInputChange(q,Math.round(100*n))},getLocalValue:function(e){return parseInt(e)/100}})),r.a.createElement("div",{className:"form-field"},r.a.createElement("label",null,n("option.watermark.style")),r.a.createElement("div",{className:"style-container"},r.a.createElement(P.a,{id:"currentColorCell",className:"colorSelect ".concat("#FFFFFF"===c?"white-color":""),ariaLabel:"colorSelectButton",style:{backgroundColor:c},onClick:function(){return e.setColorPaletteVisibility(!e.state.isColorPaletteVisible)}}),r.a.createElement("div",{className:"style-container"},r.a.createElement(P.a,{dataElement:"boldText",img:"icon-text-bold",isActive:i[K],onClick:function(){return e.handleInputChange(K,!i[K])},ariaLabel:n("option.richText.bold")}),r.a.createElement(P.a,{dataElement:"italicizeText",img:"icon-text-italic",isActive:i[J],onClick:function(){return e.handleInputChange(J,!i[J])},ariaLabel:n("option.richText.italic")}),r.a.createElement(P.a,{dataElement:"underlineText",img:"icon-text-underline",isActive:i[$],onClick:function(){return e.handleInputChange($,!i[$])},ariaLabel:n("option.richText.underline")}))),this.state.isColorPaletteVisible&&r.a.createElement("div",{className:"Popup StylePopup",id:"stylePopup",onClick:function(){return e.setColorPaletteVisibility(!1)}},r.a.createElement(v.a,{color:i[Q],property:"TextColor",onStyleChange:function(t,n){e.onColorChanged(n),e.setColorPaletteVisibility(!1)}})))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"reset-settings",id:"reset",onClick:this.resetForm},n("option.watermark.resetAllSettings")),r.a.createElement(P.a,{className:"add-watermark button",id:"submit",onClick:this.onOkPressed},n("action.add")))))}}])}(r.a.PureComponent);G(ee,"propTypes",{isVisible:g.a.bool,pageIndexToView:g.a.number,watermarkLocations:g.a.object,modalClosed:g.a.func,formSubmitted:g.a.func,t:g.a.func.isRequired,isCustomizableUI:g.a.bool});var te=Object(C.a)()(ee),ne=n(106),ae=n(307),re=n(483),oe=n(90),ie=n(164),ce=(n(1697),n(476)),le=n(1639);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var de=function(e){var t=e.isDisabled,n=e.isOpen,u=e.isApplyWatermarkDisabled,d=e.isFullAPIEnabled,m=e.currentPage,f=e.printQuality,b=e.isGrayscale,v=e.setIsGrayscale,E=e.pageRange,O=e.onPageRangeChange,C=e.hasPageNumberError,w=e.onError,k=e.hasSpecifiedPages,I=e.specifiedPages,N=e.setSpecifiedPages,R=e.isCurrentViewDisabled,A=e.includeAnnotations,F=e.setIncludeAnnotations,L=e.includeComments,W=e.setIncludeComments,D=e.isWatermarkModalVisible,_=e.setIsWatermarkModalVisible,x=e.watermarkModalOptions,M=e.existingWatermarksRef,V=e.setAllowWatermarkModal,G=e.closePrintModal,B=e.createPagesAndPrint,U=e.pagesToPrint,z=e.setPagesToPrint,H=e.count,Q=e.isPrinting,q=e.layoutMode,Y=e.useEmbeddedPrint,K=Object(s.a)().core;de.propTypes={isDisabled:g.a.bool,isOpen:g.a.bool,isApplyWatermarkDisabled:g.a.bool,isFullAPIEnabled:g.a.bool,currentPage:g.a.number,printQuality:g.a.number,isGrayscale:g.a.bool,setIsGrayscale:g.a.func,pageRange:g.a.string,onPageRangeChange:g.a.func,hasPageNumberError:g.a.bool,onError:g.a.func,hasSpecifiedPages:g.a.bool,specifiedPages:g.a.arrayOf(g.a.number),setSpecifiedPages:g.a.func,isCurrentViewDisabled:g.a.bool,includeAnnotations:g.a.bool,setIncludeAnnotations:g.a.func,includeComments:g.a.bool,setIncludeComments:g.a.func,isWatermarkModalVisible:g.a.bool,setIsWatermarkModalVisible:g.a.func,watermarkModalOptions:g.a.object,existingWatermarksRef:g.a.object,setAllowWatermarkModal:g.a.func,closePrintModal:g.a.func,createPagesAndPrint:g.a.func,pagesToPrint:g.a.array,setPagesToPrint:g.a.func,count:g.a.number,isPrinting:g.a.bool,layoutMode:g.a.string,useEmbeddedPrint:g.a.bool};var J=Object(c.d)(),$=se(Object(ae.a)(),1)[0],X=Object(a.useRef)(),Z=se(Object(a.useState)(!1),2),ee=Z[0],ue=Z[1],me=Q||E===le.a.SPECIFY&&(C||!k),fe=Object(c.e)((function(e){var t;return null===(t=i.a.getFeatureFlags(e))||void 0===t?void 0:t.customizableUI})),pe={1:"".concat($("option.print.qualityNormal")),2:"".concat($("option.print.qualityHigh"))},be=function(e){_(e)},ge=Object(y.a)("Modal PrintModal",{isOpen:n}),ye=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"specifyPagesInput",className:"specifyPagesChoiceLabel"},r.a.createElement("span",null,$("option.print.specifyPages")),E===le.a.SPECIFY&&r.a.createElement("span",{className:"specifyPagesExampleLabel"},"- ",$("option.thumbnailPanel.multiSelectPagesExample"))),E===le.a.SPECIFY&&r.a.createElement("div",{className:p()("page-number-input-container",{error:C})},r.a.createElement(re.a,{id:"specifyPagesInput",selectedPageNumbers:I,pageCount:K.getTotalPages(),onSelectedPageNumbersChange:N,onError:w})));Object(a.useEffect)((function(){he()}),[E,I,K]);var he=function(){var e=[];if(E===le.a.ALL||E===le.a.CURRENT_VIEW&&ee)for(var t=1;t<=K.getTotalPages();t++)e.push(t);else if(E===le.a.CURRENT_PAGE){var n=K.getTotalPages();switch(q){case h.a.FacingCover:case h.a.FacingCoverContinuous:1===m||m===n&&n%2==0?e.push(m):e=m%2?[m-1,m]:[m,m+1];break;case h.a.FacingContinuous:case h.a.Facing:m===n&&n%2==1?e.push(m):e=m%2?[m,m+1]:[m-1,m];break;default:e.push(m)}}else E===le.a.SPECIFY?e=I:E===le.a.CURRENT_VIEW&&(e=[m]);z(e)};Object(a.useEffect)((function(){return he(),K.getWatermark().then((function(e){V(null==e||0===Object.keys(e).length),M.current=e})),function(){K.setWatermark(M.current),_(!1)}}),[K]),Object(a.useEffect)((function(){"xod"!==K.getDocument().getType()&&Y?ue(!0):ue(!1)}),[Y,K]);var ve=Object(oe.a)((function(){Q||be(!0)})),Ee=Object(ie.a)((function(e){J(o.a.setWatermarkModalOptions(e))}),"applyWatermark");return t?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{isVisible:!(!n||!D),pageIndexToView:m-1,modalClosed:be,formSubmitted:Ee,watermarkLocations:x,isCustomizableUI:fe}),r.a.createElement("div",{className:ge,"data-element":l.a.PRINT_MODAL},r.a.createElement(S.a,{isOpen:n&&!D,title:"option.print.printSettings",containerOnClick:function(e){return e.stopPropagation()},onCloseClick:G,closeButtonDataElement:"printModalCloseButton",swipeToClose:!0,closeHandler:G},r.a.createElement("div",{className:"swipe-indicator"}),Q&&r.a.createElement("div",{className:"spinner-container"},r.a.createElement(ce.a,{inPanel:!0,width:"40px",height:"40px"})),!Q&&r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"section-label"},"".concat($("option.print.pages"))),r.a.createElement("form",{className:"settings-form",onChange:O,onSubmit:B},r.a.createElement(ne.a,{dataElement:"allPagesPrintOption",checked:E===le.a.ALL,value:le.a.ALL,id:"all-pages",name:"pages",radio:!0,label:$("option.print.all"),disabled:Q,center:!0}),r.a.createElement(ne.a,{dataElement:"currentPagePrintOption",checked:E===le.a.CURRENT_PAGE,value:le.a.CURRENT_PAGE,id:"current-page",name:"pages",radio:!0,label:$("option.print.current"),disabled:Q,center:!0}),r.a.createElement(ne.a,{dataElement:"currentViewPrintOption",checked:E===le.a.CURRENT_VIEW,value:le.a.CURRENT_VIEW,id:"current-view",name:"pages",radio:!0,label:$("option.print.view"),disabled:R,center:!0,title:$("option.print.printCurrentDisabled")}),r.a.createElement(ne.a,{dataElement:"customPagesPrintOption",checked:E===le.a.SPECIFY,value:le.a.SPECIFY,id:"custom-pages",name:"pages",className:"specify-pages-choice",radio:!0,label:ye,disabled:Q,center:!0}),r.a.createElement(ne.a,{dataElement:"annotationsPrintOption",id:"include-annotations",name:"annotations",label:$("option.print.includeAnnotations"),disabled:Q,onChange:function(){return F((function(e){return!e}))},checked:A,center:!0}),ee&&r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{dataElement:"grayscalePrintOption",id:"print-grayscale",name:"grayscale",label:$("option.print.printGrayscale"),disabled:Q,onChange:function(){return v((function(e){return!e}))},checked:b,center:!0}),r.a.createElement(ne.a,{dataElement:"commentsPrintOption",ref:X,id:"include-comments",name:"comments",label:$("option.print.includeComments"),onChange:function(){return W((function(e){return!e}))},disabled:Q,checked:L,center:!0}))),!ee&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{dataElement:"grayscalePrintOption",id:"print-grayscale",name:"grayscale",label:$("option.print.printGrayscale"),disabled:Q,onChange:function(){return v((function(e){return!e}))},checked:b,center:!0}),r.a.createElement(ne.a,{dataElement:"commentsPrintOption",ref:X,id:"include-comments",name:"comments",label:$("option.print.includeComments"),onChange:function(){return W((function(e){return!e}))},disabled:Q,checked:L,center:!0})))),!ee&&r.a.createElement(j.a,{className:"section",dataElement:l.a.PRINT_QUALITY},r.a.createElement("label",{className:"section-label print-quality-section-label",htmlFor:"printQualityOptions",id:"print-quality-options-label"},"".concat($("option.print.pageQuality"))),r.a.createElement(T.a,{id:"printQualityOptions",labelledById:"print-quality-options-label",dataElement:"printQualityOptions",items:Object.keys(pe),getDisplayValue:function(e){return pe[e]},onClickItem:function(e){J(o.a.setPrintQuality(Number(e)))},currentSelectionKey:null==f?void 0:f.toString(),width:274})),r.a.createElement("div",{className:"total"},Q?r.a.createElement("div",null,"".concat($("message.processing")," ").concat(H,"/").concat(U.length)):r.a.createElement("div",null,$("message.printTotalPageCount",{count:U.length}))),!u&&r.a.createElement(j.a,{className:"section watermark-section",dataElement:l.a.PRINT_WATERMARK},r.a.createElement("div",{className:"section-label"},$("option.watermark.title")),r.a.createElement(P.a,{dataElement:"applyWatermark",className:"apply-watermark",disabled:Q,onClick:ve},$("option.watermark.addNew")))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"buttons"},r.a.createElement(P.a,{disabled:me,className:"button",onClick:B,label:$("action.print"),ariaLabel:$("action.print")})))))},me=de;function fe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var l=a&&a.prototype instanceof c?a:c,s=Object.create(l.prototype);return pe(s,"_invoke",function(n,a,r){var o,c,l,s=0,u=r||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,c=0,l=e,m.n=n,i}};function f(n,a){for(c=n,l=a,t=0;!d&&s&&!r&&t<u.length;t++){var r,o=u[t],f=m.p,p=o[2];n>3?(r=p===a)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(c=0,m.v=a,m.n=o[1]):f<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,m.n=p,c=0))}if(r||n>1)return i;throw d=!0,a}return function(r,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),c=u,l=p;(t=c<2?e:l)||!d;){o||(c?c<3?(c>1&&(m.n=-1),f(c,l)):m.n=l:m.v=l);try{if(s=2,o){if(c||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=e}else if((t=(d=m.n<0)?l:n.call(a,m))!==i)break}catch(t){o=e,c=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,r,o),!0),s}var i={};function c(){}function l(){}function s(){}t=Object.getPrototypeOf;var u=[][a]?t(t([][a]())):(pe(t={},a,(function(){return this})),t),d=s.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,pe(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,pe(d,"constructor",s),pe(s,"constructor",l),l.displayName="GeneratorFunction",pe(s,r,"GeneratorFunction"),pe(d),pe(d,r,"Generator"),pe(d,a,(function(){return this})),pe(d,"toString",(function(){return"[object Generator]"})),(fe=function(){return{w:o,m:m}})()}function pe(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(pe=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){pe(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,n,a)}function be(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){be(o,a,r,i,c,"next",e)}function c(e){be(o,a,r,i,c,"throw",e)}i(void 0)}))}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var ve=function(){var e=Object(s.a)().core,t=Object(c.d)(),n=Object(c.e)((function(e){return i.a.isElementDisabled(e,l.a.PRINT_MODAL)})),f=Object(c.e)((function(e){return i.a.isElementOpen(e,l.a.PRINT_MODAL)})),p=Object(c.e)((function(e){return i.a.isElementDisabled(e,"applyWatermark")})),b=Object(c.e)(i.a.getActiveDocumentViewerKey),g=Object(c.e)((function(e){return i.a.getCurrentPage(e,b)})),y=Object(c.e)(i.a.getPrintQuality),h=Object(c.e)(i.a.getDefaultPrintOptions,c.c),v=Object(c.e)(i.a.getSortStrategy),E=Object(c.e)(i.a.getColorMap,c.c),O=Object(c.e)(i.a.getDisplayMode,c.c),C=Object(c.e)(i.a.getPrintedNoteDateFormat),P=Object(c.e)(i.a.getCurrentLanguage),w=Object(c.e)(i.a.getWatermarkModalOptions,c.c),k=Object(c.e)(i.a.getTimezone),S=Object(c.e)((function(e){return i.a.isEmbedPrintSupported(e,"useEmbeddedPrint")})),j=Object(a.useRef)(),T=ye(Object(a.useState)(!1),2),I=T[0],N=T[1],R=ye(Object(a.useState)(-1),2),A=R[0],F=R[1],L=ye(Object(a.useState)(!1),2),W=L[0],D=L[1],_=ye(Object(a.useState)([]),2),x=_[0],M=_[1],V=ye(Object(a.useState)(!1),2),G=V[0],B=V[1],U=ye(Object(a.useState)(!1),2),z=U[0],H=U[1],Q=ye(Object(a.useState)(!1),2),q=Q[0],Y=Q[1],K=ye(Object(a.useState)(!0),2),J=K[0],$=K[1],X=ye(Object(a.useState)(!1),2),Z=X[0],ee=X[1],te=Object(le.b)(),ne=te.pageRange,ae=te.setPageRange,re=te.onPageRangeChange,oe=te.hasPageNumberError,ce=te.onError,se=te.specifiedPages,ue=te.setSpecifiedPages,de=te.hasSpecifiedPages,pe=te.isCurrentViewDisabled,be=te.setIsCurrentViewDisabled;Object(a.useEffect)((function(){var e,t,n;h&&($(null!==(e=h.includeAnnotations)&&void 0!==e?e:J),ee(null!==(t=h.includeComments)&&void 0!==t?t:Z),D(null!==(n=h.maintainPageOrientation)&&void 0!==n?n:W))}),[h]);var he=A>=0;Object(a.useEffect)((function(){f&&(S&&ve(),t(o.a.closeElements([l.a.SIGNATURE_MODAL,l.a.LOADING_MODAL,l.a.PROGRESS_MODAL,l.a.ERROR_MODAL])))}),[f,t,e]);var ve=function(){if(!pe){var t=e.getDisplayModeObject().getVisiblePages(0,0);(null==t?void 0:t.length)>1?be(!0):be(!1)}},Ee=function(){var t=ge(fe().m((function t(){var n,a,r,o,i,c;return fe().w((function(t){for(;;)switch(t.n){case 0:return n=ne===le.a.CURRENT_VIEW,a=e.getDocumentViewer().isAlwaysPrintAnnotationsInColorEnabled(),r={isCurrentView:n,includeAnnotations:J,includeComments:Z,watermarkModalOptions:w,pagesToPrint:x,isGrayscale:G,isAlwaysPrintAnnotationsInColorEnabled:a},H(!0),o=e.getDocument(),i=e.getAnnotationManager(),t.n=1,Object(m.d)(e,r,o,i);case 1:return c=t.v,t.n=2,Object(m.c)(c);case 2:setTimeout((function(){H(!1),Pe()}),1e3);case 3:return t.a(2)}}),t)})));return function(){return t.apply(this,arguments)}}(),Oe=function(t){if(t.preventDefault(),!(x.length<1)){F(0),I?e.setWatermark(w):e.setWatermark(j.current);var n=ne===le.a.CURRENT_VIEW,a={includeComments:Z,includeAnnotations:J,maintainPageOrientation:W,printQuality:y,sortStrategy:v,colorMap:E,printedNoteDateFormat:C,isCurrentView:n,language:P,timezone:k,createCanvases:!1,isGrayscale:G},r=Object(d.b)(e,x,a,void 0);H(!0),r.forEach(function(){var e=ge(fe().m((function e(t){return fe().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,t;case 1:F(A<x.length&&(-1!==A?A+1:A));case 2:return e.a(2)}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all(r).then((function(t){Object(u.b)(e,t)})).catch((function(e){console.error(e),F(-1)})).finally((function(){H(!1),Pe()}))}},Ce=function(){F(-1),t(o.a.closeElement(l.a.PRINT_MODAL))},Pe=Object(ie.a)(Ce);return r.a.createElement(me,{isDisabled:n,isOpen:f,isApplyWatermarkDisabled:p,isFullAPIEnabled:e.isFullPDFEnabled(),currentPage:g,printQuality:y,isGrayscale:G,setIsGrayscale:B,pageRange:ne,setPageRange:ae,onPageRangeChange:re,hasPageNumberError:oe,onError:ce,specifiedPages:se,setSpecifiedPages:ue,hasSpecifiedPages:de,isCurrentViewDisabled:pe,checkCurrentView:ve,includeAnnotations:J,setIncludeAnnotations:$,includeComments:Z,setIncludeComments:ee,isWatermarkModalVisible:q,setIsWatermarkModalVisible:Y,watermarkModalOptions:w,existingWatermarksRef:j,setAllowWatermarkModal:N,closePrintModal:Ce,createPagesAndPrint:function(t){var n=e.getDocument().getType();S&&"xod"===n&&console.warn("Falling back to raster printing, XOD files and Embedded Printing is not supported"),S&&"xod"!==n?Ee():Oe(t)},pagesToPrint:x,setPagesToPrint:M,count:A,isPrinting:he||z,layoutMode:O,useEmbeddedPrint:S})};t.default=ve}}]);
//# sourceMappingURL=chunk.55.js.map
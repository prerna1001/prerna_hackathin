(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[39],{1756:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1757:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1758:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1759:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1760:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1844:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(14),n(21),n(20),n(12),n(22),n(18),n(26),n(16),n(40),n(23),n(41),n(42),n(8),n(54),n(17),n(19),n(11),n(13);var a=n(0),r=n.n(a),o=n(15),i=n.n(o),c=n(6),l=n(307),u=n(141),s=n(208),f=n(1),d=n.n(f),p=n(115),m=n(154),v=n(194),g=n(72),b=n(93),y=n(33),h=n(107);n(1756);function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var l=a&&a.prototype instanceof c?a:c,u=Object.create(l.prototype);return S(u,"_invoke",function(n,a,r){var o,c,l,u=0,s=r||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,l=e,d.n=n,i}};function p(n,a){for(c=n,l=a,t=0;!f&&u&&!r&&t<s.length;t++){var r,o=s[t],p=d.p,m=o[2];n>3?(r=m===a)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((r=n<2&&p<o[1])?(c=0,d.v=a,d.n=o[1]):p<m&&(r=n<3||o[0]>a||a>m)&&(o[4]=n,o[5]=a,d.n=m,c=0))}if(r||n>1)return i;throw f=!0,a}return function(r,s,m){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,l=m;(t=c<2?e:l)||!f;){o||(c?c<3?(c>1&&(d.n=-1),p(c,l)):d.n=l:d.v=l);try{if(u=2,o){if(c||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=e}else if((t=(f=d.n<0)?l:n.call(a,d))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(n,r,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][a]?t(t([][a]())):(S(t={},a,(function(){return this})),t),f=u.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,S(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,S(f,"constructor",u),S(u,"constructor",l),l.displayName="GeneratorFunction",S(u,r,"GeneratorFunction"),S(f),S(f,r,"Generator"),S(f,a,(function(){return this})),S(f,"toString",(function(){return"[object Generator]"})),(E=function(){return{w:o,m:d}})()}function S(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(S=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){S(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,n,a)}function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function w(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){w(o,a,r,i,c,"next",e)}function c(e){w(o,a,r,i,c,"throw",e)}i(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return c}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return C(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var T={isModalOpen:d.a.bool,isTabPanelSelected:d.a.bool,disableCreateButton:d.a.func,enableCreateButton:d.a.func,isInitialsModeEnabled:d.a.bool},N=function(e){var t,n=e.isModalOpen,o=e.isTabPanelSelected,i=e.disableCreateButton,c=e.enableCreateButton,u=e.isInitialsModeEnabled,f=void 0!==u&&u,d=Object(y.a)().core,S=Object(a.useRef)(),w=Object(a.useRef)(),I=Object(a.useRef)(),C=Object(a.useRef)(),T=A(Object(l.a)(),1)[0],N=A(Object(a.useState)({}),2),x=N[0],k=N[1],D=A(Object(a.useState)(!1),2),M=D[0],_=D[1],R=A(Object(a.useState)(!1),2),P=R[0],L=R[1],F=(t=A(Object(a.useState)(!1),2)[1],function(){return t((function(e){return!e}))});Object(a.useEffect)((function(){var e=d.getTool("AnnotationCreateSignature"),t=S.current;e.setSignatureCanvas(t);var n=window.Core.getCanvasMultiplier();t.getContext("2d").scale(n,n);var a=w.current;e.setInitialsCanvas(a),a.getContext("2d").scale(n,n)}),[]),Object(a.useEffect)((function(){n&&(G(),U())}),[n]),Object(a.useEffect)((function(){function e(){return(e=j(E().m((function e(){var t,a,r,i,c;return E().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!n||!o){e.n=7;break}t=d.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),a=O(t),e.p=1,a.s();case 2:if((r=a.n()).done){e.n=4;break}return(i=r.value).setSignature(I.current),i.setInitials(C.current),e.n=3,i.resizeCanvas(b.a.FULL_SIGNATURE);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,c=e.v,a.e(c);case 6:return e.p=6,a.f(),e.f(6);case 7:return e.a(2)}}),e,null,[[1,5,6,7]])})))).apply(this,arguments)}function t(){return(t=j(E().m((function e(){var t,a,r,i,c;return E().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!(n&&o&&f)){e.n=7;break}t=d.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),a=O(t),e.p=1,a.s();case 2:if((r=a.n()).done){e.n=4;break}return(i=r.value).setInitials(C.current),e.n=3,i.resizeCanvas(b.a.INITIALS);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,c=e.v,a.e(c);case 6:return e.p=6,a.f(),e.f(6);case 7:return e.a(2)}}),e,null,[[1,5,6,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}(),f?I.current&&C.current?c():i():I.current?c():i()}),[o,n,f]),Object(a.useEffect)((function(){function e(){return(e=j(E().m((function e(){var t;return E().w((function(e){for(;;)switch(e.n){case 0:if(!x.height||!x.width){e.n=2;break}return t=d.getTool("AnnotationCreateSignature"),e.n=1,t.resizeCanvas();case 1:if(!f){e.n=2;break}return e.n=2,t.resizeCanvas(b.a.INITIALS);case 2:return e.a(2)}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x,f]),Object(a.useEffect)((function(){!M||f&&!P?i():c()}),[P,M,f]);var G=Object(a.useCallback)((function(){d.getTool("AnnotationCreateSignature").clearSignatureCanvas(),I.current=null,_(!1)}),[]),U=Object(a.useCallback)((function(){d.getTool("AnnotationCreateSignature").clearInitialsCanvas(),C.current=null,L(!1)}),[]),H=function(){var e=j(E().m((function e(){var t;return E().w((function(e){for(;;)switch(e.n){case 0:return t=d.getTool("AnnotationCreateSignature"),e.n=1,t.isEmptySignature();case 1:if(e.v){e.n=2;break}I.current=W(t.getFullSignatureAnnotation().getPaths()),_(!0);case 2:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=j(E().m((function e(){var t;return E().w((function(e){for(;;)switch(e.n){case 0:t=d.getTool("AnnotationCreateSignature"),t.getInitialsAnnotation()&&(C.current=W(t.getInitialsAnnotation().getPaths()),L(!0));case 1:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){for(var t=[],n=0;n<e.length;++n)for(var a=0;a<e[n].length;++a)t[n]||(t[n]=[]),t[n][a]=new window.Core.Math.Point(e[n][a].x,e[n][a].y);return t},z=d.getTool("AnnotationCreateSignature").defaults,V=f?{}:{display:"none"};return r.a.createElement(s.a,{bounds:!0,onResize:function(e){var t=e.bounds;return k(t)}},(function(e){var t=e.measureRef;return r.a.createElement("div",{className:"ink-signature",ref:t},r.a.createElement(m.a,{onSwiping:function(e){return e.event.stopPropagation()},className:"canvas-colorpalette-container"},r.a.createElement("div",{className:"signature-and-initials-container"},r.a.createElement("div",{className:"signature-input full-signature"},r.a.createElement("canvas",{className:"ink-signature-canvas",onMouseUp:H,onTouchEnd:H,onMouseLeave:H,ref:S}),r.a.createElement("div",{className:"signature-input-footer"},r.a.createElement("div",{className:"signature-prompt"},T("option.signatureModal.drawSignature")),r.a.createElement("button",{className:"footer-signature-clear",onClick:G,disabled:!M,"aria-label":T("action.clearSignature")},T("action.clear")))),r.a.createElement("div",{className:"signature-input initials",style:V},r.a.createElement("canvas",{className:"ink-signature-canvas",onMouseUp:B,onTouchEnd:B,onMouseLeave:B,ref:w}),r.a.createElement("div",{className:"signature-input-footer"},r.a.createElement("div",{className:"signature-prompt"},T("option.signatureModal.drawInitial")),r.a.createElement("button",{className:"footer-signature-clear",onClick:U,disabled:!P,"aria-label":T("action.clearInitial")},T("action.clear"))))),r.a.createElement("div",{className:"colorpalette-clear-container"},r.a.createElement("div",{className:"signature-style-options"},r.a.createElement(g.a,{id:"ink-signature-font-dropdown",disabled:!0,placeholder:"Text Styles"}),r.a.createElement("div",{className:"placeholder-dropdown"}),r.a.createElement("div",{className:"divider"}),r.a.createElement(v.a,{color:z.StrokeColor,property:"StrokeColor",onStyleChange:function(e,t){return function(e,t){Object(p.a)("AnnotationCreateSignature",e,t);var n=d.getTool("AnnotationCreateSignature");n.getFullSignatureAnnotation()&&(n.getFullSignatureAnnotation().StrokeColor=t,n.resizeCanvas(b.a.FULL_SIGNATURE)),n.getInitialsAnnotation()&&(n.getInitialsAnnotation().StrokeColor=t,n.resizeCanvas(b.a.INITIALS)),F()}(e,t)},overridePalette2:[h.b.black,h.a[12],h.a[7]]})))))}))};N.propTypes=T;var x=N,k=(n(38),n(27),n(49),n(83),n(43),n(62),n(111),n(136),n(30),n(45));n(146);var D=function(e){var t,n,a,r=e.getContext("2d"),o=e.width,i=e.height,c={x:[],y:[]},l=r.getImageData(0,0,e.width,e.height);for(n=0;n<i;n++)for(t=0;t<o;t++)a=4*(n*o+t),l.data[a+3]>0&&(c.x.push(t),c.y.push(n));c.x.sort((function(e,t){return e-t})),c.y.sort((function(e,t){return e-t}));var u=c.x.length-1;o=1+c.x[u]-c.x[0],i=1+c.y[u]-c.y[0];var s=r.getImageData(c.x[0],c.y[0],o,i);return e.width=o,e.height=i,r.putImageData(s,0,0),e.toDataURL()},M=n(3),_=(n(1757),n(24));function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var L={isModalOpen:d.a.bool,isTabPanelSelected:d.a.bool,disableCreateButton:d.a.func,enableCreateButton:d.a.func,isInitialsModeEnabled:d.a.bool},F=h.b.black,G=window.Core.getCanvasMultiplier(),U=function(e){return null==e?void 0:e.split(" ").map((function(e){return e[0]})).join("").toUpperCase()},H=function(e,t,n){var a="".concat(t,"px ").concat(n),r=document.createElement("span");r.id="textSpan",r.style.display="inline-block",r.style.visibility="hidden",r.style.font=a;var o=Object(_.a)();window.isApryseWebViewerWebComponent?o.appendChild(r):o.getElementsByTagName("body")[0].appendChild(r),r.textContent=e;var i=r.getBoundingClientRect().width;return r.remove(),i},B=function(e,t){for(var n,a=0,r=48;a<=r;){n=Math.floor((a+r)/2),H(e,n,t)>350?r=n-1:a=n+1}return n},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.current.getBoundingClientRect(),r=a.width,o=a.height;r+=100,o+=100,e.style.width="".concat(r,"px"),e.style.height="".concat(o,"px"),e.width=r*Math.max(n,G),e.height=o*Math.max(n,G)},z=function(e){var t=e.canvas,n=e.text,a=e.selectedFontFamily,r=e.fontColor,o=e.overrideMultiplier,i=void 0===o?0:o,c=t.getContext("2d"),l=B(n,a);c.fillStyle=r,c.textAlign="center",c.textBaseline="middle",c.font="".concat(l*Math.max(i,G),"px ").concat(a)},V=function(e,t){var n=e.getContext("2d"),a=e.width,r=e.height;n.clearRect(0,0,a,r),n.fillText(t,a/2,r/2)},$=function(e){var t,n=e.isModalOpen,o=e.isTabPanelSelected,u=e.disableCreateButton,s=e.enableCreateButton,f=e.isInitialsModeEnabled,d=void 0!==f&&f,p=Object(y.a)().core,m=Object(c.e)((function(e){return M.a.getSignatureFonts(e)})),b=Object(c.e)((function(e){return M.a.getTextSignatureQuality(e)})),E=R(Object(a.useState)(""),2),S=E[0],O=E[1],w=R(Object(a.useState)(""),2),j=w[0],A=w[1],I=R(Object(a.useState)(!0),2),C=I[0],T=I[1],N=R(Object(a.useState)(new window.Core.Annotations.Color(F)),2),x=N[0],_=N[1],P=R(Object(a.useState)(48),2),L=P[0],G=P[1],H=Object(a.useRef)(),$=Object(a.useRef)(),K=Object(a.useRef)(),J=Object(a.useRef)(),q=Object(a.useRef)(),Q=R(Object(l.a)(),1)[0],Y=R(Object(a.useState)(m[0]),2),Z=Y[0],X=Y[1],ee=(t=R(Object(a.useState)(!1),2)[1],function(){return t((function(e){return!e}))});Object(a.useEffect)((function(){(null==S?void 0:S.length)>0&&(!d||j)?s():u()}),[j,S,d]),Object(a.useEffect)((function(){m.includes(Z)||X(m[0])}),[Z,m]),Object(a.useEffect)((function(){var e=K.current;o&&(W(e,q),z({canvas:e,text:j,selectedFontFamily:Z,fontColor:x}),V(e,j),n&&ne())}),[o,j,m,x,Z]),Object(a.useEffect)((function(){var e=$.current;o&&(W(e,J,b),z({canvas:e,text:S,selectedFontFamily:Z,fontColor:x,overrideMultiplier:b}),V(e,S),n&&te())}),[o,S,m,x,Z]),Object(a.useEffect)((function(){if(_(x),n&&o){var e=p.getDisplayAuthor(p.getCurrentUser());O(e),A(U(e)),te(),(null==S?void 0:S.length)>0&&(!d||j)&&s()}}),[n,o]),Object(a.useEffect)((function(){var e;o&&(null===(e=H.current)||void 0===e||e.focus(),k.h?H.current.setSelectionRange(0,9999):H.current.select())}),[o]),Object(a.useEffect)((function(){var e=function(){if(C){var e=p.getDisplayAuthor(p.getCurrentUser());O(e),A(U(e)),s()}};return p.addEventListener("updateAnnotationPermission",e),function(){p.removeEventListener("updateAnnotationPermission",e)}}),[C]);var te=function(){var e=p.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),t=$.current;if((S||"").trim()){var n=D(t);e.forEach((function(e){return e.setSignature(n)}))}else e.forEach((function(e){return e.setSignature(null)}))},ne=function(){var e=p.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),t=K.current;if((j||"").trim()){var n=D(t);e.forEach((function(e){return e.setInitials(n)}))}else e.forEach((function(e){return e.setInitials(null)}))},ae=function(e){X(e);var t=B(S,e);G(t)},re=!(n&&o),oe=d?{}:{display:"none"};return r.a.createElement("div",{className:"text-signature"},r.a.createElement("div",{className:"signature-and-initials-container"},r.a.createElement("div",{className:"signature-input full-signature"},r.a.createElement("label",null,r.a.createElement("input",{className:"text-signature-input",ref:H,"aria-label":Q("option.signatureModal.typeSignature"),type:"text",value:S,onChange:function(e){T(!1);var t=e.target.value.replace(/^\s+/g,"");te(),O(t),A(U(t));var n=B(t,Z);G(n)},style:{fontFamily:Z||m,fontSize:L,color:x.toHexString()},disabled:re})),r.a.createElement("div",{className:"signature-input-footer"},r.a.createElement("div",{className:"signature-prompt"},Q("option.signatureModal.typeSignature")),r.a.createElement("button",{className:"footer-signature-clear","aria-label":Q("action.clearSignature"),onClick:function(){O(""),H.current.focus()},disabled:re||0===S.length},Q("action.clear")))),r.a.createElement("div",{className:"signature-input initials",style:oe},r.a.createElement("label",null,r.a.createElement("input",{className:"text-signature-input",type:"text",value:j,"aria-label":Q("option.signatureModal.typeInitial"),onChange:function(e){T(!1);var t=e.target.value.replace(/^\s+/g,"");te(),A(t)},style:{fontFamily:Z||m,fontSize:L,color:x.toHexString()},disabled:re})),r.a.createElement("div",{className:"signature-input-footer"},r.a.createElement("div",{className:"signature-prompt"},Q("option.signatureModal.typeInitial")),r.a.createElement("button",{className:"footer-signature-clear","aria-label":Q("action.clearInitial"),onClick:function(){return A("")},disabled:re||0===j.length},Q("action.clear"))))),r.a.createElement("div",{className:i()({"text-signature-text":!0}),style:{fontFamily:Z,fontSize:72,color:x.toHexString()}},r.a.createElement("div",{className:"text-container",ref:J},S),r.a.createElement("div",{className:"text-container",ref:q},j)),r.a.createElement("canvas",{ref:$}),r.a.createElement("canvas",{ref:K}),r.a.createElement("div",{className:"colorpalette-clear-container"},r.a.createElement("div",{className:"signature-style-options"},""!==S||(!d||""!==j)&&d?r.a.createElement(g.a,{id:"text-signature-font-dropdown",items:m.map((function(e){return{font:e,value:"".concat(S," ").concat(d?j:"")}})),getCustomItemStyle:function(e){return{fontFamily:e.font}},getKey:function(e){return e.font},translationPrefix:"option.signatureModal.textSignature",showLabelInList:!0,getDisplayValue:function(e){return e.value||e.font},onClickItem:ae,currentSelectionKey:Z||m[0],maxHeight:Object(k.k)()?80:null,dataElement:"text-signature-font-dropdown"}):r.a.createElement(g.a,{id:"text-signature-font-dropdown",disabled:!0,placeholder:Q("option.signatureModal.fontStyle")}),r.a.createElement("div",{className:"placeholder-dropdown"}),r.a.createElement("div",{className:"divider"}),r.a.createElement(v.a,{color:x,property:"fontColor",onStyleChange:function(e,t){return function(e,t){_(t),ee()}(0,t)},overridePalette2:[h.b.black,h.a[12],h.a[7]]}))))};$.propTypes=L;var K=$,J=(n(77),n(95),n(35));n(1758);function q(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var l=a&&a.prototype instanceof c?a:c,u=Object.create(l.prototype);return Q(u,"_invoke",function(n,a,r){var o,c,l,u=0,s=r||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,l=e,d.n=n,i}};function p(n,a){for(c=n,l=a,t=0;!f&&u&&!r&&t<s.length;t++){var r,o=s[t],p=d.p,m=o[2];n>3?(r=m===a)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((r=n<2&&p<o[1])?(c=0,d.v=a,d.n=o[1]):p<m&&(r=n<3||o[0]>a||a>m)&&(o[4]=n,o[5]=a,d.n=m,c=0))}if(r||n>1)return i;throw f=!0,a}return function(r,s,m){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,l=m;(t=c<2?e:l)||!f;){o||(c?c<3?(c>1&&(d.n=-1),p(c,l)):d.n=l:d.v=l);try{if(u=2,o){if(c||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=e}else if((t=(f=d.n<0)?l:n.call(a,d))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(n,r,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][a]?t(t([][a]())):(Q(t={},a,(function(){return this})),t),f=u.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Q(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,Q(f,"constructor",u),Q(u,"constructor",l),l.displayName="GeneratorFunction",Q(u,r,"GeneratorFunction"),Q(f),Q(f,r,"Generator"),Q(f,a,(function(){return this})),Q(f,"toString",(function(){return"[object Generator]"})),(q=function(){return{w:o,m:d}})()}function Q(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(Q=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){Q(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,n,a)}function Y(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){Y(o,a,r,i,c,"next",e)}function c(e){Y(o,a,r,i,c,"throw",e)}i(void 0)}))}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var te={isModalOpen:d.a.bool,isTabPanelSelected:d.a.bool,disableCreateButton:d.a.func,enableCreateButton:d.a.func,isInitialsModeEnabled:d.a.bool},ne="fullSignature",ae="initials",re=["png","jpg","jpeg"],oe=null;function ie(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(a){var r=a.target.result;re.some((function(e){return-1!==r.indexOf("image/".concat(e))}))?t({imageSource:r,fileSize:e.size}):n(J.a.t("message.imageSignatureAcceptedFileTypes",{acceptedFileTypes:re.join(", ")}))},a.readAsDataURL(e)}))}var ce=function(e){var t=e.isModalOpen,n=e.isTabPanelSelected,o=e.disableCreateButton,c=e.enableCreateButton,u=e.isInitialsModeEnabled,s=void 0!==u&&u,f=Object(y.a)().core,d=X(Object(a.useState)(null),2),p=d[0],m=d[1],v=X(Object(a.useState)(null),2),g=v[0],b=v[1],h=X(Object(a.useState)(null),2),E=h[0],S=h[1],O=X(Object(a.useState)(null),2),w=O[0],j=O[1],A=X(Object(a.useState)(""),2),I=A[0],C=A[1],T=X(Object(a.useState)(null),2),N=T[0],x=T[1],D=X(Object(a.useState)(null),2),M=D[0],_=D[1],R=Object(a.useRef)(),P=Object(a.useRef)(),L=X(Object(l.a)(),1)[0];Object(a.useEffect)((function(){var e=f.getToolsFromAllDocumentViewers("AnnotationCreateSignature");oe=e[0].ACCEPTED_FILE_SIZE,t?t&&n&&(e.forEach((function(e){return e.setSignature(p,g)})),e.forEach((function(e){return e.setInitials(E,w)})),!p||s&&!E?o():c()):(m(null),S(null),j(null),j(null))}),[p,E,n,t,w,g,s]);var F=function(e){V(e.target.files[0])},G=function(e){K(e.target.files[0])},U=Object(a.useCallback)((function(e,t){e.preventDefault(),C(t)}),[]),H=Object(a.useCallback)((function(e){e.preventDefault()}),[]),B=Object(a.useCallback)((function(e){e.preventDefault(),e.target.parentNode.contains(e.relatedTarget)||C(null)}),[]),W=Object(a.useCallback)((function(e){e.preventDefault(),C(null)}),[]),z=function(e){e.preventDefault(),C(null);var t=e.dataTransfer.files;t.length&&V(t[0])},V=function(){var e=Z(q().m((function e(t){var n,a,r,o;return q().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ie(t);case 1:n=e.v,a=n.imageSource,r=n.fileSize,x(""),m(a),b(r),e.n=3;break;case 2:e.p=2,o=e.v,x(o);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){e.preventDefault(),C(null);var t=e.dataTransfer.files;t.length&&K(t[0])},K=function(){var e=Z(q().m((function e(t){var n,a,r,o;return q().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ie(t);case 1:n=e.v,a=n.imageSource,r=n.fileSize,_(""),S(a),j(r),e.n=3;break;case 2:e.p=2,o=e.v,_(o);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(t){return e.apply(this,arguments)}}(),J=Object(a.useCallback)((function(e){U(e,ne)}),[U]),Q=Object(a.useCallback)((function(e){B(e,ne)}),[B]),Y=Object(a.useCallback)((function(e){U(e,ae)}),[U]),ee=Object(a.useCallback)((function(e){B(e,ae)}),[B]),te=function(){return Object(k.k)()?r.a.createElement("div",{className:"image-signature-separator"},L("option.signatureModal.selectImage")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"image-signature-dnd"},L("option.signatureModal.dragAndDrop")),r.a.createElement("div",{className:"image-signature-separator"},L("option.signatureModal.or")))},ce="number"==typeof oe&&oe>0,le=!ce||g<oe,ue=!ce||w<oe,se=i()("image-signature-upload-container",{mobile:Object(k.k)(),dragging:I===ne}),fe=i()("image-signature-upload-container",{mobile:Object(k.k)(),dragging:I===ae}),de=s?{}:{display:"none"};return r.a.createElement("div",{className:"image-signature"},r.a.createElement("div",{className:"signature-and-initials-container"},r.a.createElement("div",{className:"signature-input image full-signature"},p&&le?r.a.createElement("img",{src:p,alt:L("option.signatureModal.imageSignature"),style:{maxWidth:"100%",maxHeight:"100%"}}):r.a.createElement("div",{className:se,onDragEnter:J,onDragLeave:Q,onDragOver:H,onDrop:z,onDragExit:W},te(),r.a.createElement("div",{className:"image-signature-upload"},r.a.createElement("input",{ref:R,id:"upload",type:"file",accept:re.map((function(e){return".".concat(e)})).join(","),onChange:F,disabled:!(t&&n)}),r.a.createElement("button",{onClick:function(){return R.current.click()},className:"pick-image-button"},L("option.signatureModal.pickImage"))),N&&r.a.createElement("div",{className:"image-signature-error"},N))),r.a.createElement("div",{className:"signature-input image initials",style:de},E&&ue?r.a.createElement("img",{src:E,alt:L("option.signatureModal.imageInitial"),style:{maxWidth:"100%",maxHeight:"100%"}}):r.a.createElement("div",{className:fe,onDragEnter:Y,onDragLeave:ee,onDragOver:H,onDrop:$,onDragExit:W},te(),r.a.createElement("div",{className:"image-signature-upload"},r.a.createElement("input",{ref:P,id:"upload",type:"file",accept:re.map((function(e){return".".concat(e)})).join(","),onChange:G,disabled:!(t&&n)}),r.a.createElement("button",{onClick:function(){return P.current.click()},className:"pick-image-button"},L("option.signatureModal.pickInitialsFile"))),M&&r.a.createElement("div",{className:"image-signature-error"},M)))))};ce.propTypes=te;var le=ce,ue=n(2),se=(n(1759),n(68)),fe=n(53);function de(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var l=a&&a.prototype instanceof c?a:c,u=Object.create(l.prototype);return pe(u,"_invoke",function(n,a,r){var o,c,l,u=0,s=r||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,l=e,d.n=n,i}};function p(n,a){for(c=n,l=a,t=0;!f&&u&&!r&&t<s.length;t++){var r,o=s[t],p=d.p,m=o[2];n>3?(r=m===a)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((r=n<2&&p<o[1])?(c=0,d.v=a,d.n=o[1]):p<m&&(r=n<3||o[0]>a||a>m)&&(o[4]=n,o[5]=a,d.n=m,c=0))}if(r||n>1)return i;throw f=!0,a}return function(r,s,m){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,l=m;(t=c<2?e:l)||!f;){o||(c?c<3?(c>1&&(d.n=-1),p(c,l)):d.n=l:d.v=l);try{if(u=2,o){if(c||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=e}else if((t=(f=d.n<0)?l:n.call(a,d))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(n,r,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][a]?t(t([][a]())):(pe(t={},a,(function(){return this})),t),f=u.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,pe(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,pe(f,"constructor",u),pe(u,"constructor",l),l.displayName="GeneratorFunction",pe(u,r,"GeneratorFunction"),pe(f),pe(f,r,"Generator"),pe(f,a,(function(){return this})),pe(f,"toString",(function(){return"[object Generator]"})),(de=function(){return{w:o,m:d}})()}function pe(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(pe=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){pe(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,n,a)}function me(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=be(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ve(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return c}}(e,t)||be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){if(e){if("string"==typeof e)return ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var he=function(e){var t=e.selectedIndex,n=e.setSelectedIndex,a=Object(y.a)().core,o=Object(c.d)(),u=Object(l.a)().t,s=ge(Object(c.e)((function(e){return[M.a.getDisplayedSignatures(e),M.a.getSelectedDisplayedSignatureIndex(e),M.a.isElementDisabled(e,"defaultSignatureDeleteButton"),M.a.getSavedInitials(e),M.a.getSelectedDisplayedInitialsIndex(e),M.a.getSignatureMode(e),M.a.getInitialsOffset(e)]})),7),f=s[0],d=s[1],p=s[2],m=s[3],v=s[4],g=s[5],h=s[6],E=a.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),S=function(){var e,t=(e=de().m((function e(t){var n,r,i,c,l,u,s;return de().w((function(e){for(;;)switch(e.n){case 0:if(n=g===b.a.FULL_SIGNATURE,i=(r=t-h)<0)o(ue.a.setInitialsOffset(h-1));else if(E[0].deleteSavedInitials(r),v===r&&!i){o(ue.a.setSelectedDisplayedInitialsIndex(0)),c=me(E);try{for(c.s();!(l=c.n()).done;)l.value.hidePreview()}catch(e){c.e(e)}finally{c.f()}a.setToolMode(se.a)}if(E[0].deleteSavedSignature(t),d===t){o(ue.a.setSelectedDisplayedSignatureIndex(0)),u=me(E);try{for(u.s();!(s=u.n()).done;)s.value.hidePreview()}catch(e){u.e(e)}finally{u.f()}a.setToolMode(se.a)}else(n?t<d:r<v)&&o(ue.a.setSelectedDisplayedSignatureIndex(d-1));case 1:return e.a(2)}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){ve(o,a,r,i,c,"next",e)}function c(e){ve(o,a,r,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),O=new Array(h).concat(m);return r.a.createElement("div",{className:i()("SavedSignatures",{empty:!f||f.length<1})},f.length?f.map((function(e,a){return r.a.createElement("div",{key:a,className:i()("signature-row",{active:t===a,"no-initials":!(null!=O&&O[a])}),onClick:function(){return n(a)}},r.a.createElement("div",{className:"inputContainer"},r.a.createElement("input",{type:"radio",onChange:function(){return n(a)},checked:a===t}),r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"imgContainer"},r.a.createElement("img",{alt:u("option.toolsOverlay.signatureAltText"),src:f[a].imgSrc})),(null==O?void 0:O[a])&&r.a.createElement("div",{className:"imgContainer"},r.a.createElement("img",{alt:u("option.toolsOverlay.signatureAltText"),src:O[a].imgSrc})),!p&&r.a.createElement("button",{className:"icon-button","data-element":"defaultSignatureDeleteButton",onClick:function(){return S(a)}},r.a.createElement(fe.a,{glyph:"icon-delete-line"})))),r.a.createElement("div",{className:"labelContainer"},r.a.createElement("div",{className:"signatureLabel"},u("option.type.signature")),(null==O?void 0:O[a])&&r.a.createElement("div",{className:"intialsLabel"},u("option.type.initials"))))})):r.a.createElement("div",{className:"emptyListContainer"},u("option.signatureModal.noSignatures")))},Ee=n(5),Se=n(230),Oe=n(383),we=n(164);n(1760);function je(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var l=a&&a.prototype instanceof c?a:c,u=Object.create(l.prototype);return Ae(u,"_invoke",function(n,a,r){var o,c,l,u=0,s=r||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,l=e,d.n=n,i}};function p(n,a){for(c=n,l=a,t=0;!f&&u&&!r&&t<s.length;t++){var r,o=s[t],p=d.p,m=o[2];n>3?(r=m===a)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((r=n<2&&p<o[1])?(c=0,d.v=a,d.n=o[1]):p<m&&(r=n<3||o[0]>a||a>m)&&(o[4]=n,o[5]=a,d.n=m,c=0))}if(r||n>1)return i;throw f=!0,a}return function(r,s,m){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),c=s,l=m;(t=c<2?e:l)||!f;){o||(c?c<3?(c>1&&(d.n=-1),p(c,l)):d.n=l:d.v=l);try{if(u=2,o){if(c||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),c=1);o=e}else if((t=(f=d.n<0)?l:n.call(a,d))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(n,r,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][a]?t(t([][a]())):(Ae(t={},a,(function(){return this})),t),f=u.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ae(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,Ae(f,"constructor",u),Ae(u,"constructor",l),l.displayName="GeneratorFunction",Ae(u,r,"GeneratorFunction"),Ae(f),Ae(f,r,"Generator"),Ae(f,a,(function(){return this})),Ae(f,"toString",(function(){return"[object Generator]"})),(je=function(){return{w:o,m:d}})()}function Ae(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(Ae=function(e,t,n,a){if(t)r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){Ae(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,n,a)}function Ie(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){Ie(o,a,r,i,c,"next",e)}function c(e){Ie(o,a,r,i,c,"throw",e)}i(void 0)}))}}function Te(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return c}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return ke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(e,t):void 0}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var De=function(){var e=Object(y.a)().core,t=Ne(Object(c.e)((function(e){return[M.a.isElementDisabled(e,Ee.a.SIGNATURE_MODAL),M.a.isElementOpen(e,Ee.a.SIGNATURE_MODAL),M.a.getActiveToolName(e),M.a.getSignatureMode(e),M.a.getActiveDocumentViewerKey(e),M.a.getIsInitialsModeEnabled(e),M.a.isElementDisabled(e,Ee.a.SAVED_SIGNATURES_TAB),M.a.getSelectedTab(e,Ee.a.SIGNATURE_MODAL),M.a.getDisplayedSignatures(e),M.a.getSavedInitials(e)]})),10),n=t[0],o=t[1],s=t[2],f=t[3],d=t[4],p=t[5],m=t[6],v=t[7],g=t[8],h=t[9],E=e.getToolsFromAllDocumentViewers("AnnotationCreateSignature"),S=Ne(Object(a.useState)(!0),2),O=S[0],w=S[1],j=Ne(Object(a.useState)(0),2),A=j[0],I=j[1],C=Object(c.d)(),T=Ne(Object(l.a)(),1)[0];Object(Se.a)((function(){"AnnotationCreateSignature"!==s&&C(ue.a.closeElements([Ee.a.SIGNATURE_MODAL,Ee.a.SIGNATURE_OVERLAY]))}),[C,s]),Object(a.useEffect)((function(){o&&C(ue.a.closeElements([Ee.a.PRINT_MODAL,Ee.a.LOADING_MODAL,Ee.a.PROGRESS_MODAL,Ee.a.ERROR_MODAL]))}),[C,o]);var N=function(){var e,t=Te(E);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.clearLocation(),n.setSignature(null),n.setInitials(null)}}catch(e){t.e(e)}finally{t.f()}C(ue.a.closeElement(Ee.a.SIGNATURE_MODAL))},k=function(){var e=Ce(je().m((function e(){return je().w((function(e){for(;;)switch(e.n){case 0:D(),p&&_();case 1:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var t=Ce(je().m((function t(){var n,a,r,o,i,c;return je().w((function(t){for(;;)switch(t.p=t.n){case 0:E[0].saveSignatures(E[0].getFullSignatureAnnotation()),n=1;case 1:if(!(n<E.length)){t.n=3;break}return t.n=2,E[n].setSignature(E[0].getFullSignatureAnnotation());case 2:n++,t.n=1;break;case 3:return a=E[d-1],t.n=4,a.isEmptySignature();case 4:if(t.v){t.n=14;break}if(e.setToolMode("AnnotationCreateSignature"),f!==b.a.FULL_SIGNATURE){t.n=14;break}if(!a.hasLocation()){t.n=6;break}return t.n=5,a.addSignature();case 5:t.n=13;break;case 6:r=Te(E),t.p=7,r.s();case 8:if((o=r.n()).done){t.n=10;break}return i=o.value,t.n=9,i.showPreview();case 9:t.n=8;break;case 10:t.n=12;break;case 11:t.p=11,c=t.v,r.e(c);case 12:return t.p=12,r.f(),t.f(12);case 13:C(ue.a.closeElement(Ee.a.SIGNATURE_MODAL));case 14:return t.a(2)}}),t,null,[[7,11,12,13]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Ce(je().m((function t(){var n,a,r,o,i,c;return je().w((function(t){for(;;)switch(t.p=t.n){case 0:E[0].saveInitials(E[0].getInitialsAnnotation()),n=1;case 1:if(!(n<E.length)){t.n=3;break}return t.n=2,E[n].saveInitials(E[0].getInitialsAnnotation());case 2:n++,t.n=1;break;case 3:return a=E[d-1],t.n=4,a.isEmptyInitialsSignature();case 4:if(t.v){t.n=14;break}if(e.setToolMode("AnnotationCreateSignature"),f!==b.a.INITIALS){t.n=13;break}if(!a.hasLocation()){t.n=6;break}return t.n=5,a.addInitials();case 5:t.n=13;break;case 6:r=Te(E),t.p=7,r.s();case 8:if((o=r.n()).done){t.n=10;break}return i=o.value,t.n=9,i.showInitialsPreview();case 9:t.n=8;break;case 10:t.n=12;break;case 11:t.p=11,c=t.v,r.e(c);case 12:return t.p=12,r.f(),t.f(12);case 13:C(ue.a.closeElement(Ee.a.SIGNATURE_MODAL)),C(ue.a.setSignatureMode(b.a.FULL_SIGNATURE));case 14:return t.a(2)}}),t,null,[[7,11,12,13]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Ce(je().m((function t(n){var a,r,o,i,c,l,u;return je().w((function(t){for(;;)switch(t.p=t.n){case 0:a=f===b.a.FULL_SIGNATURE,C(ue.a[a?"setSelectedDisplayedSignatureIndex":"setSelectedDisplayedInitialsIndex"](n)),r=a?g[n]:h[n],o=r.annotation,e.setToolMode("AnnotationCreateSignature"),i=Te(E),t.p=1,i.s();case 2:if((c=i.n()).done){t.n=7;break}return l=c.value,t.n=3,l[a?"setSignature":"setInitials"](o);case 3:if(!l.hasLocation()){t.n=5;break}return t.n=4,l[a?"addSignature":"addInitials"]();case 4:t.n=6;break;case 5:return t.n=6,l[a?"showPreview":"showInitialsPreview"]();case 6:t.n=2;break;case 7:t.n=9;break;case 8:t.p=8,u=t.v,i.e(u);case 9:return t.p=9,i.f(),t.f(9);case 10:C(ue.a.closeElement(Ee.a.SIGNATURE_MODAL));case 11:return t.a(2)}}),t,null,[[1,8,9,10]])})));return function(e){return t.apply(this,arguments)}}(),P=Object(a.useCallback)((function(){w(!0)}),[O]),L=Object(a.useCallback)((function(){w(!1)}),[O]),F=i()({Modal:!0,SignatureModal:!0,open:o,closed:!o}),G="savedSignaturePanelButton"===v;return n?null:r.a.createElement("div",{className:F,"data-element":Ee.a.SIGNATURE_MODAL},r.a.createElement(Oe.a,{title:T("option.signatureModal.modalName"),closeHandler:N,onCloseClick:N,isOpen:o,swipeToClose:!0},r.a.createElement("div",{className:i()("container",{"include-initials":p}),onMouseDown:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"swipe-indicator"}),r.a.createElement(u.d,{id:"signatureModal"},r.a.createElement("div",{className:"tabs-header-container"},r.a.createElement("div",{className:"tab-list"},!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{dataElement:"savedSignaturePanelButton"},r.a.createElement("button",{className:"tab-options-button"},T("option.type.saved"))),r.a.createElement("div",{className:"tab-options-divider"})),r.a.createElement(u.a,{dataElement:"inkSignaturePanelButton"},r.a.createElement("button",{className:"tab-options-button"},T("action.draw"))),r.a.createElement("div",{className:"tab-options-divider"}),r.a.createElement(u.a,{dataElement:"textSignaturePanelButton"},r.a.createElement("button",{className:"tab-options-button"},T("action.type"))),r.a.createElement("div",{className:"tab-options-divider"}),r.a.createElement(u.a,{dataElement:"imageSignaturePanelButton"},r.a.createElement("button",{className:"tab-options-button"},T("action.upload"))))),!m&&r.a.createElement(u.c,{dataElement:"savedSignaturePanel"},r.a.createElement(he,{selectedIndex:A,setSelectedIndex:I})),r.a.createElement(u.c,{dataElement:"inkSignaturePanel"},r.a.createElement(x,{isModalOpen:o,enableCreateButton:L,disableCreateButton:P,isInitialsModeEnabled:p})),r.a.createElement(u.c,{dataElement:"textSignaturePanel"},r.a.createElement(K,{isModalOpen:o,enableCreateButton:L,disableCreateButton:P,isInitialsModeEnabled:p})),r.a.createElement(u.c,{dataElement:"imageSignaturePanel"},r.a.createElement(le,{isModalOpen:o,enableCreateButton:L,disableCreateButton:P,isInitialsModeEnabled:p})),r.a.createElement("div",{className:"footer"},r.a.createElement("button",{className:"signature-create",onClick:Object(we.a)(G?function(){return R(A)}:k),disabled:G?!G||!g.length||!o:!o||O,title:p?T("message.signatureRequired"):""},T(G?"action.apply":"action.create")))))))};t.default=De}}]);
//# sourceMappingURL=chunk.39.js.map
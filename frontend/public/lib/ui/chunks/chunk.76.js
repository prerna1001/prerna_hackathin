(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[76],{1698:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1873:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(14),n(38),n(21),n(49),n(20),n(12),n(43),n(22),n(128),n(18),n(16),n(8),n(112),n(17),n(19),n(62),n(11),n(13);var a=n(0),r=n.n(a),o=n(5),l=n(6),c=n(3),i=n(2),u=n(33),s=n(127),d=n(15),f=n.n(d),m=n(307),p=n(44),b=n(106),g=n(1),v=n.n(g),h=n(483),y=n(383),E=n(164);n(1698);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);i=!0);}catch(e){u=!0,r=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var w={closeModal:v.a.func,currentPage:v.a.number,pageLabels:v.a.array,selectedPages:v.a.array,markPages:v.a.func,redactPages:v.a.func,evenDisabled:v.a.bool,renderCanvases:v.a.func,isOpen:v.a.bool},P="current",S="specify",j="odd",C="even",R=function(e){var t=e.closeModal,n=e.pageLabels,l=e.selectedPages,c=e.currentPage,i=e.markPages,u=e.redactPages,s=e.evenDisabled,d=e.renderCanvases,g=e.isOpen,v=Object(m.a)().t,A=O(Object(a.useState)(P),2),w=A[0],R=A[1],M=O(Object(a.useState)(),2),D=M[0],L=M[1],I=O(Object(a.useState)(!1),2),T=I[0],N=I[1];Object(a.useEffect)((function(){L(l)}),[l]);var k=function(){var e=[];if(w===P)return[c];if(w===S)return D;if(w===j)for(var t=1;n.length>=t;t+=2)e.push(t);else if(w===C)for(var a=2;n.length>=a;a+=2)e.push(a);return e},_=Object(E.a)((function(){return u(k())})),x=Object(E.a)((function(){return i(k())})),H=Object(a.useRef)();Object(a.useEffect)((function(){g&&d(H,k())}),[w,g,D,d,k]);var W=function(e){var n=e.event.target;(H.current.clientHeight<H.current.scrollHeight||H.current.clientWidth<H.current.scrollWidth)&&(n===H.current||H.current.contains(n))?e.event.stopPropagation():t()},G=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"specifyPagesChoiceLabel"},r.a.createElement("span",null,v("option.pageRedactModal.specify")),"specify"===w&&r.a.createElement("span",{className:"specifyPagesExampleLabel"},"- ",v("option.thumbnailPanel.multiSelectPagesExample"))),"specify"===w&&r.a.createElement("div",{className:f()("page-number-input-container",{error:T})},r.a.createElement(h.a,{selectedPageNumbers:D,pageCount:n.length,ariaLabel:v("option.pageRedactModal.specify"),onSelectedPageNumbersChange:function(e){e.length>0&&(N(!1),L(e))},onBlurHandler:L,onError:function(){N(!0)}})));return r.a.createElement("div",{className:f()({Modal:!0,PageRedactionModal:!0,open:g,closed:!g}),"data-element":o.a.PAGE_REDACT_MODAL},r.a.createElement(y.a,{title:"action.redactPages",isOpen:g,onCloseClick:t,closeHandler:t,onSwipedDown:W,onSwipedUp:W,swipeToClose:!0},r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"canvas-container",ref:H}),r.a.createElement("form",{className:"selection-options",role:"group","aria-labelledby":v("option.pageRedactModal.pageSelection"),onChange:function(e){e.target.classList.contains("page-number-input")||(R(e.target.value),N(!1))},onSubmit:function(e){return e.preventDefault()}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,r.a.createElement("strong",null,v("option.pageRedactModal.pageSelection"))),r.a.createElement(b.a,{checked:w===P,radio:!0,name:"page-redaction-option",label:v("option.pageRedactModal.current"),value:P}),r.a.createElement(b.a,{checked:w===S,radio:!0,name:"page-redaction-option",className:"specify-pages-choice",label:G,value:S}),r.a.createElement(b.a,{checked:w===j,radio:!0,name:"page-redaction-option",label:v("option.pageRedactModal.odd"),value:j}),r.a.createElement(b.a,{checked:w===C,radio:!0,name:"page-redaction-option",label:v("option.pageRedactModal.even"),value:C,disabled:s})))),r.a.createElement("div",{className:"footer"},r.a.createElement(p.a,{className:"cancel modal-button secondary-button",dataElement:"modalRedactButton",label:"annotation.redact",disabled:T,onClick:_}),r.a.createElement(p.a,{className:"confirm modal-button",dataElement:"modalMarkRedactButton",label:"option.pageRedactModal.addMark",disabled:T,onClick:x}))))};R.propTypes=w;var M=R;function D(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);i=!0);}catch(e){u=!0,r=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw r}}return c}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var N=function(){var e=Object(u.a)().core,t=Object(l.d)(),n=L(Object(l.e)((function(e){return[c.a.isElementOpen(e,o.a.PAGE_REDACT_MODAL),c.a.getCurrentPage(e),c.a.getSelectedThumbnailPageIndexes(e),c.a.getPageLabels(e),c.a.getActiveToolName(e),c.a.getActiveToolStyles(e)]})),6),d=n[0],f=n[1],p=n[2],b=n[3],g=n[4],v=n[5],h=Object(a.useRef)(0),y=p.map((function(e){return e+1}));Object(a.useEffect)((function(){d&&t(i.a.closeElements([o.a.PRINT_MODAL,o.a.LOADING_MODAL,o.a.PROGRESS_MODAL,o.a.ERROR_MODAL]))}),[d,t]);var E=function(){return t(i.a.closeElement(o.a.PAGE_REDACT_MODAL))},O=function(){return null!=g&&g.includes("AnnotationCreateRedaction")?v:{}},A=Object(m.a)().t,w=L(Object(a.useState)(!1),2),P=w[0],S=w[1];return Object(a.useEffect)((function(){var t=function(){var t=e.getDocument(),n=t.getDocumentCompletePromise();null==n||n.then((function(){var e=t.getPageCount();S(e<2)}))};return e.addEventListener("documentLoaded",t),function(){return e.removeEventListener("documentLoaded",t)}}),[]),r.a.createElement(M,{evenDisabled:P,closeModal:E,renderCanvases:function(t,n){var a;h.current++;for(var r=h.current,o=D(n),l=e.getDocument();t.current.firstChild;)t.current.removeChild(t.current.firstChild);if(o){(null===(a=o)||void 0===a?void 0:a.length)>10&&(o=o.splice(0,10));var c,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}(o);try{var u=function(){var e=c.value,n=null==l?void 0:l.getPageInfo(e);if(d&&l&&t.current&&n){var a=1,o=t.current.getBoundingClientRect(),i=parseInt(window.getComputedStyle(t.current).borderWidth)+.1;o.height-=i,o.width-=i,(a=n.width>n.height?o.width/n.width:o.height/n.height)>0&&l.loadCanvas({pageNumber:e,zoom:a,pageRotation:0,drawComplete:function(n){var a;r===h.current&&null!==(a=t.current)&&void 0!==a&&a.appendChild(n)&&(n.setAttribute("role","img"),n.setAttribute("aria-label","".concat(A("action.page")," ").concat(e)))},allowUseOfOptimizedThumbnail:!0})}};for(i.s();!(c=i.n()).done;)u()}catch(e){i.e(e)}finally{i.f()}}},redactPages:function(e){Object(s.l)(e,O()),E()},markPages:function(e){Object(s.a)(e,O()),E()},currentPage:f,selectedPages:y,pageLabels:b,isOpen:d})};t.default=N}}]);
//# sourceMappingURL=chunk.76.js.map
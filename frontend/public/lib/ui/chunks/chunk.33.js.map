{"version":3,"sources":["webpack:///./src/ui/src/components/Input/Input.js","webpack:///./src/ui/src/components/Input/index.js","webpack:///./src/ui/src/components/ReactSelectWebComponentProvider/ReactSelectWebComponentProvider.js","webpack:///./src/ui/src/components/ReactSelectWebComponentProvider/index.js","webpack:///./src/ui/node_modules/react-select/dist/react-select.esm.js","webpack:///./src/ui/src/components/ReactSelectCustomArrowIndicator/ReactSelectCustomArrowIndicator.js","webpack:///./src/ui/src/components/ReactSelectCustomArrowIndicator/index.js","webpack:///./src/ui/src/components/TextInput/TextInput.js","webpack:///./src/ui/src/components/TextInput/index.js","webpack:///./src/ui/src/components/FormFieldPanel/utils.js","webpack:///./src/ui/src/helpers/mapValidationResponseToTranslation.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","webpack:///./src/ui/src/components/CreatableList/CreatableListItem.js","webpack:///./src/ui/src/components/CreatableList/CreatableListContainer.js","webpack:///./src/ui/src/components/CreatableList/index.js","webpack:///./src/ui/src/components/CreatableDropdown/CreatableDropdown.js","webpack:///./src/ui/src/components/CreatableDropdown/index.js","webpack:///./src/ui/src/components/FormFieldEditPopup/FormFieldEditSignaturePopup/SignatureOptionsDropdown/SignatureOptionsDropdown.js","webpack:///./src/ui/src/components/FormFieldEditPopup/FormFieldEditSignaturePopup/SignatureOptionsDropdown/index.js","webpack:///./src/ui/src/components/FormFieldPanel/FormFieldPanel.scss?eb6a","webpack:///./src/ui/src/components/FormFieldPanel/FormFieldEditPanelIndicator/FormFieldEditPanelIndicator.js","webpack:///./src/ui/src/components/FormFieldPanel/FormFieldEditPanelIndicator/index.js","webpack:///./src/ui/src/components/FormFieldPanel/FormFieldPanel.js","webpack:///./src/ui/src/components/FormFieldPanel/FormFieldPanelContainer.js","webpack:///./src/ui/src/components/FormFieldPanel/index.js"],"names":["Input","forwardRef","_ref","ref","_ref$message","message","messageText","fillWidth","wrapperClassName","padMessageText","className","onFocus","onBlur","rightElement","leftElement","_ref$type","type","disabled","props","_objectWithoutProperties","_excluded","_useFocus","useFocus","focused","handleOnFocus","handleOnBlur","rightIcon","useMemo","icon","React","createElement","Icon","glyph","undefined","wrapperClass","classNames","mainClass","concat","inputClass","_extends","displayName","propTypes","PropTypes","oneOf","string","bool","func","node","ReactSelectWebComponentProvider","children","emotionCache","container","getRootNode","createCache","key","window","isApryseWebViewerWebComponent","CacheProvider","value","StateManagedSelect$1","baseSelectProps","ReactSelectCustomArrowIndicator","menuIsOpen","selectProps","components","IndicatorsContainer","label","onChange","validationMessage","hasError","ariaDescribedBy","ariaLabelledBy","TextInput","t","useTranslation","id","event","target","aria-label","aria-describedby","aria-labelledby","aria-live","role","_window$Core","Core","Annotations","Tools","defaultProperties","name","defaultValue","radioButtonGroups","defaultDimension","width","height","defaultFlags","ReadOnly","Multiline","Required","MultiSelect","handleFieldCreation","annotation","fields","isSignatureOptionsDropdownDisabled","core","currentTool","getToolMode","panelFields","RadioButtonWidgetAnnotation","push","SignatureWidgetAnnotation","SignatureFormFieldCreateTool","noneSelected","isTextWidgetSelected","TextWidgetAnnotation","isTextFormFieldToolSelected","TextFormFieldCreateTool","handleFlagsCreation","flags","fieldFlags","ListWidgetAnnotation","ListBoxFormFieldCreateTool","isRenderingOptions","isRenderingOptionsForWidget","ChoiceWidgetAnnotation","isToolWithFieldOptions","ComboBoxFormFieldCreateTool","getSignatureOption","widget","formFieldCreationManager","getFormFieldCreationManager","toolStyles","getToolStyles","signatureType","redrawAnnotation","getAnnotationManager","drawAnnotationsFromList","triggerAnnotationChangedEventWithModify","annotations","trigger","getPageHeight","getCurrentPage","getPageWidth","createFlags","handleFlagChange","READ_ONLY","isChecked","MULTI_LINE","REQUIRED","MULTI_SELECT","createFields","options","onFieldNameChange","onFieldValueChange","fieldProperties","onSignatureOptionChange","NAME","e","required","focus","DEFAULT_VALUE","RADIO_GROUP","SIGNATURE_OPTION","validateDimension","documentSize","annotationOffset","maxDimension","Math","min","errorType","_defineProperties","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_defineProperty","obj","DropTargetImpl","spec","monitor","instance","Constructor","TypeError","_classCallCheck","this","protoProps","staticProps","canDrop","getItem","hover","drop","prototype","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","useRegisteredDropTarget","connector","manager","useDragDropManager","dropTarget","useEffect","useDropTarget","accept","invariant","useAccept","useIsomorphicLayoutEffect","_registerTarget2","registerTarget","handlerId","unregister","receiveHandlerId","map","a","join","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","useOptionalFactory","arg","deps","memoDeps","useCollectedProps","collector","collect","onCollect","_useCollector2","useCollector","collected","updateCollected","getHandlerId","subscribeToStateChange","handlerIds","useMonitorOutput","reconnect","useConnectDropTarget","hooks","useDrop","specArg","DropTargetMonitorImpl","TargetConnector","getBackend","dropTargetOptions","disconnectDropTarget","useDropTargetConnector","_typeof","DragSourceImpl","_result","item","canDrag","globalMonitor","isDragging","getSourceId","end","useRegisteredDragSource","handler","useDragSource","itemType","result","useDragType","_registerSource2","registerSource","useConnectDragSource","dragSource","useConnectDragPreview","dragPreview","useDrag","begin","DragSourceMonitorImpl","dragSourceOptions","dragPreviewOptions","SourceConnector","disconnectDragSource","disconnectDragPreview","useDragSourceConnector","previewOptions","CreatableListItem","option","index","onDeleteItem","moveListItem","addItem","invalid","ItemTypes","useRef","_ref$current","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","_useDrag2","drag","onChangeHandler","useCallback","addNewItemOnEnterKey","opacity","style","displayValue","onKeyPress","autoFocus","Button","title","img","onClick","object","onOptionsUpdated","popupRef","CreatableListContainer","isInitialized","setItems","draggableItems","_useState2","useState","items","_useState4","nextId","setNextId","_useState6","invalidInputList","setInvalidInputList","_useState8","inputListHasEmptyValue","setInputListHasEmptyValue","_useState0","inputListDuplicateValues","setInputListDuplicateValues","containerRef","_validateItems","validateItems","invalidItems","hasEmpty","duplicates","sanitizedOptions","filter","includes","getCounts","_step","valueCounts","Map","_iterator","_createForOfIteratorHelper","s","count","get","set","f","identifyInvalidItems","counts","_step2","Set","_iterator2","add","onAddItem","validatePopupHeight","handleDeleteItem","updatedItems","dragItem","itemsWithoutDraggedElement","_item","itemsWithDraggedElementAtNewPosition","splice","popupContainer","containerElement","availableHeight","innerHeight","isListOverflowing","scrollHeight","clientHeight","maxContainerHeight","childElementCount","maxHeight","_objectSpread","some","CreatableDropdown","onInputChange","onCreateOption","textPlaceholder","isClearable","isValid","customStyles","control","provided","state","minHeight","backgroundColor","borderColor","boxShadow","singleValue","color","menu","indicatorsContainer","paddingRight","CreatableSelect","placeholder","formatCreateLabel","styles","isRequired","initialOption","SignatureOptionsDropdown","isFocused","borderRadius","borderWidth","valueContainer","padding","isSelected","border","signatureOptions","SignatureModes","FULL_SIGNATURE","INITIALS","init","find","setValue","setMenuIsOpen","DataElementWrapper","dataElement","Select","isSearchable","onKeyDown","preventDefault","prev","onMenuOpen","onMenuClose","module","exports","indicator","indicatorPlaceholder","FormFieldEditPanelIndicator","Choice","checked","showIndicator","toggleIndicator","aria-checked","aria-disabled","FormFieldPanel","panelTitle","closeFormFieldEditPanel","toolOptions","onToolOptionsChange","fieldOptions","onFieldOptionsChange","onWidthChange","onHeightChange","_ref$shouldShowOption","shouldShowOptions","onRadioFieldNameChange","useCore","getIndicatorPlaceholderFromAnnotation","getField","getFieldType","getIndicatorPlaceholderFromTool","formFieldTypes","FormFieldTypes","getIndicatorPlaceholder","setIndicatorPlaceholder","optionsKey","onSelectInputChange","field","input","renderFieldInput","renderTextInput","group","inputValue","renderSelectInput","renderSignatureOption","Fragment","HorizontalDivider","CreatableList","flag","renderProperties","oneOfType","number","array","FormFieldPanelContainer","memo","_annotation$getFieldO","isOpen","useSelector","selectors","isElementOpen","DataElements","FORM_FIELD_PANEL","toolButtonObject","getToolButtonObjects","shallowEqual","isElementDisabled","isInDesktopOnlyMode","mobilePanelSize","getMobilePanelSize","featureFlags","getFeatureFlags","_useTranslation","i18n","dispatch","useDispatch","isMobile","isMobileSize","customizableUI","isRTL","useIsRTL","setFieldProperties","fieldDimension","setFieldDimension","setFieldFlags","indicatorText","setIndicator","setIsValid","_useState10","setValidationMessage","isUsingDefaultOptions","_useState12","defaults","setToolOptions","_useState14","getFieldOptions","setFieldOptions","_useState16","setPanelTitle","closeAndReset","actions","enableElement","ANNOTATION_POPUP","PRIORITY_THREE","closeElement","setPanelTitleForTool","toolName","deleteWidgetsInFormBuilderMode","deleteAnnotations","handleToolModeChange","newTool","FormFieldCreateTool","_ref2","_ref2$Width","Width","_ref2$Height","Height","_ref2$defaultValue","_ref2$indicatorText","_ref2$showIndicator","MULTILINE","language","updateRadioGroupsForRadioAnnotation","onFormFieldCreationModeStarted","getRadioButtonGroups","onAnnotationSelected","action","setTimeout","addEventListener","removeEventListener","radioGroups","getAnnotationsList","radioButton","dedupedRadioGroups","previousFieldProperties","handleRadioFieldNameChange","handleOptionsSettings","currentFlags","getFieldFlags","_Annotations$WidgetFl","WidgetFlags","fieldName","radioButtons","isFieldNameValid","Boolean","parseInt","getShowIndicator","getIndicatorText","panelFlags","validatedResponse","setFieldName","validationResponse","mapValidationResponseToTranslation","updateFlagsForRadioAnnotation","_Annotations$WidgetFl2","flagName","previousFieldFlags","setFieldFlag","setToolStyles","onShowFieldIndicatorChange","previousIndicator","setShowIndicator","onFieldIndicatorTextChange","setIndicatorText","newWidth","validatedWidth","X","setWidth","previousFieldDimension","newHeight","validatedHeight","Y","setHeight","onCancelEmptyFieldName","widgetAnnotation","onCloseRadioButtonPanel","indexOf","signatureOption","setSignatureOption","closeFormFieldPanel","indicatorProps"],"mappings":"4kBAOA,IAAMA,EAAQC,sBAAW,SAAAC,EActBC,GAAQ,IAAAC,EAAAF,EAbTG,eAAO,IAAAD,EAAG,UAASA,EACnBE,EAAWJ,EAAXI,YACAC,EAASL,EAATK,UACAC,EAAgBN,EAAhBM,iBACAC,EAAcP,EAAdO,eACAC,EAASR,EAATQ,UACAC,EAAOT,EAAPS,QACAC,EAAMV,EAANU,OACAC,EAAYX,EAAZW,aACAC,EAAWZ,EAAXY,YAAWC,EAAAb,EACXc,YAAI,IAAAD,EAAG,OAAMA,EACbE,EAAQf,EAARe,SACGC,E,6WAAKC,CAAAjB,EAAAkB,GAERC,EAAiDC,YAASX,EAASC,GAA3DW,EAAOF,EAAPE,QAASC,EAAaH,EAAbG,cAAeC,EAAYJ,EAAZI,aAE1BC,EAAYC,mBAAQ,WACxB,OAAId,IAKY,YAAZR,EACFuB,EAAO,aACc,UAAZvB,IACTuB,EAAO,cAGFA,EAAOC,IAAAC,cAACC,IAAI,CAACrB,UAAU,kBAAkBsB,MAAOJ,SAAWK,GAPlE,IAAIL,IAQH,CAACvB,EAASQ,IAEPqB,EAAeC,IACnB,WACA,qBACA,CACE,2BAA4B5B,EAC5B,0BAA2BE,IAAmBH,GAEhDE,GAGI4B,EAAYD,IAChB,YAAW,sBAAAE,OACWhC,GACtB,CAAE,qBAAsBkB,IAGpBe,EAAaH,IACjB,mBACA,CAAE,6BAA8BlB,GAChCP,GAGF,OACEmB,IAAAC,cAAA,OAAKpB,UAAWwB,GACdL,IAAAC,cAAA,OAAKpB,UAAW0B,GACbtB,EACDe,IAAAC,cAAA,QAAAS,EAAA,GACMrB,EAAK,CACTF,KAAMA,EACNL,QAASa,EACTZ,OAAQa,EACRf,UAAW4B,EACXrB,SAAUA,EACVd,IAAKA,KAENuB,GAEFpB,GAAeuB,IAAAC,cAAA,OAAKpB,UAAU,0BAA0BJ,OAK/DN,EAAMwC,YAAc,QAEpBxC,EAAMyC,UAAY,CAChBpC,QAASqC,IAAUC,MAAM,CAAC,UAAW,UAAW,UAChDrC,YAAaoC,IAAUE,OACvBrC,UAAWmC,IAAUG,KACrBrC,iBAAkBkC,IAAUE,OAC5BnC,eAAgBiC,IAAUG,KAC1BnC,UAAWgC,IAAUE,OACrBjC,QAAS+B,IAAUI,KACnBlC,OAAQ8B,IAAUI,KAClBjC,aAAc6B,IAAUK,KACxBjC,YAAa4B,IAAUK,KACvB/B,KAAM0B,IAAUE,OAChB3B,SAAUyB,IAAUG,MAEP7C,QC/FAA,O,yGCuBAgD,EApByB,SAAH9C,GAAqB,IAAf+C,EAAQ/C,EAAR+C,SAEnCC,EAAevB,mBAAQ,WAC3B,IAAMwB,EAAYC,cAClB,OAAOC,YAAY,CACjBC,IAAK,0BACLH,gBAED,IAGH,OAAOI,OAAOC,8BACZ3B,IAAAC,cAAC2B,IAAa,CAACC,MAAOR,GACnBD,GAGHA,GCnBWD,O,kCCFf,0EAgCIW,GAhCJ,iHA0BsC,sBAAW,SAAUzC,EAAOf,GAChE,IAAIyD,EAAkB,YAAgB1C,GACtC,OAAoB,gBAAoB,IAAQ,YAAS,CACvDf,IAAKA,GACJyD,S,+FChBUC,EAVyB,SAAC3C,GACvC,IACQ4C,EADgB5C,EAAhB6C,YACAD,WACR,OACEjC,IAAAC,cAACkC,IAAWC,oBAAwB/C,EAClCW,IAAAC,cAACC,IAAI,CAACrB,UAAU,QAAQsB,MAAK,gBAAAK,OAAkByB,EAAa,KAAO,YCP1DD,O,wGCKTpB,G,QAAY,CAChByB,MAAOxB,IAAUE,OACjBc,MAAOhB,IAAUE,OACjBuB,SAAUzB,IAAUI,KACpBsB,kBAAmB1B,IAAUE,OAC7ByB,SAAU3B,IAAUG,KACpByB,gBAAiB5B,IAAUE,OAC3B2B,eAAgB7B,IAAUE,SAGtB4B,EAAY,SAAHtE,GAQT,IAPJgE,EAAKhE,EAALgE,MACAR,EAAKxD,EAALwD,MACAS,EAAQjE,EAARiE,SACAC,EAAiBlE,EAAjBkE,kBACAC,EAAQnE,EAARmE,SACAC,EAAepE,EAAfoE,gBACAC,EAAcrE,EAAdqE,eAEQE,EAAMC,cAAND,EACR,OACE5C,IAAAC,cAAA,OAAKpB,UAAU,mBACbmB,IAAAC,cAAA,OAAKpB,UAAU,iBACbmB,IAAAC,cAAA,SACEpB,UAAWyB,IAAW,CACpB,cAAc,EACd,oBAAqBkC,IAEvBM,GAAIT,EACJlD,KAAK,OACLmD,SAAU,SAACS,GAAK,OAAKT,EAASS,EAAMC,OAAOnB,QAC3CoB,aAAYZ,EACZR,MAAOA,EACPqB,mBAAkBV,EAAW,CAAEC,wBAAoBrC,EACnD+C,kBAAiBT,IAElBF,GAAYxC,IAAAC,cAACC,IAAI,CAACC,MAAM,gBAE1BqC,GACCxC,IAAAC,cAAA,OAAK6C,GAAG,iBAAiBjE,UAAU,oBACjCmB,IAAAC,cAAA,KAAGmD,YAAU,YAAYvE,UAAU,YAAYwE,KAAK,SAAUT,EAAEL,OAO1EI,EAAU/B,UAAYA,EAEP+B,QCtDAA,O,+jBCAfW,EAA+B5B,OAAO6B,KAA9BC,EAAWF,EAAXE,YAAaC,EAAKH,EAALG,MAERC,EAAoB,CAC/BC,KAAM,GACNC,aAAc,GACdC,kBAAmB,IAGRC,EAAmB,CAC9BC,MAAO,EACPC,OAAQ,GAGGC,EAAe,CAC1BC,UAAU,EACVC,WAAW,EACXC,UAAU,EACVC,aAAa,GAGFC,EAAsB,SAACC,EAAYC,EAAQC,EAAoCC,GAC1F,IAAMC,EAAcD,EAAKE,cACnBC,EAAc,GAEpB,QAAQ,GACN,KAAKN,aAAsBf,EAAYsB,4BACrCD,EAAYE,KAAKP,EAAoB,aACrC,MACF,MAAOD,EACLM,EAAYE,KAAKP,EAAa,MAIlC,QAAQ,GACN,KAAKD,aAAsBf,EAAYwB,4BAA8BP,EACrE,KAAKE,aAAuBlB,EAAMwB,+BAAiCR,EACjEI,EAAYE,KAAKP,EAAyB,kBAI9C,IAAMU,GAAgBX,EAChBY,EAAuBZ,aAAsBf,EAAY4B,qBACzDC,EAA8BV,aAAuBlB,EAAM6B,wBAajE,OAVEH,GAGCE,IAAgCF,GAAwBD,KAIzDL,EAAYE,KAAKP,EAAsB,eAGlCK,GAGIU,EAAsB,SAAChB,EAAYiB,EAAOd,GACrD,IAAMe,EAAa,CAACD,EAAiB,UAAGA,EAAgB,UAClDb,EAAcD,EAAKE,cAEzB,QAAQ,GACN,KAAKL,aAAsBf,EAAY4B,qBACvC,KAAKT,aAAuBlB,EAAM6B,wBAChCG,EAAWV,KAAKS,EAAkB,YAClC,MACF,KAAKjB,aAAsBf,EAAYkC,qBACvC,KAAKf,aAAuBlB,EAAMkC,2BAChCF,EAAWV,KAAKS,EAAoB,cAGxC,OAAOC,GAGIG,EAAqB,SAACrB,EAAYG,GAC7C,IAAMC,EAAcD,EAAKE,cACnBiB,EAA8BtB,aAAsBf,EAAYkC,sBAAwBnB,aAAsBf,EAAYsC,uBAC1HC,EAAyBpB,aAAuBlB,EAAMuC,6BAA+BrB,aAAuBlB,EAAMkC,2BAExH,QADoCpB,GAAcsB,IAAgCE,GAC9CF,GAGzBI,EAAqB,SAACC,EAAQxB,GACzC,IAAMyB,EAA2BzB,EAAK0B,8BACtC,GAAIF,EACF,OAAOC,EAAyBF,mBAAmBC,GAErD,IAAMvB,EAAcD,EAAKE,cACnByB,EAAaC,YAAc3B,EAAYhB,MAC7C,OAAO0C,aAAU,EAAVA,EAAYE,gBAAiB,IAGzBC,EAAmB,SAACjC,EAAYG,GAC3CA,EAAK+B,uBAAuBC,wBAAwB,CAACnC,KAG1CoC,EAA0C,SAACC,EAAalC,GACnEA,EAAK+B,uBAAuBI,QAAQ,oBAAqB,CACvDD,EACA,SACA,MAISE,EAAgB,SAACpC,GAC5B,OAAOA,EAAKoC,cAAcpC,EAAKqC,mBAGpBC,EAAe,SAACtC,GAC3B,OAAOA,EAAKsC,aAAatC,EAAKqC,mBAGnBE,EAAc,SAACC,EAAkBzB,GAC5C,MAAO,CACL0B,UAAW,CACT9E,MAAO,oCACPsB,KAAM,YACNrB,SAAU4E,EACVE,UAAW3B,EAAWvB,UAExBmD,WAAY,CACVhF,MAAO,qCACPsB,KAAM,YACNrB,SAAU4E,EACVE,UAAW3B,EAAWtB,WAExBmD,SAAU,CACRjF,MAAO,oCACPsB,KAAM,WACNrB,SAAU4E,EACVE,UAAW3B,EAAWrB,UAExBmD,aAAc,CACZ5D,KAAM,eACNtB,MAAO,uCACPC,SAAU4E,EACVE,UAAW3B,EAAWpB,eAKfmD,EAAe,SAACC,EAAS/C,GACpC,IAAQgD,EAAoHD,EAApHC,kBAAmBC,EAAiGF,EAAjGE,mBAAoBC,EAA6EH,EAA7EG,gBAAiBC,EAA4DJ,EAA5DI,wBAAyB5B,EAAmCwB,EAAnCxB,mBAAoB1B,EAAekD,EAAflD,WAC7G,MAAO,CACLuD,KAAM,CACJzF,MAAO,qCACPC,SAAU,SAACyF,GAAC,OAAKL,EAAkBK,EAAGrD,IACtC7C,MAAO+F,EAAgBjE,KACvBqE,UAAU,EACV7I,KAAM,OACN8I,OAAO,GAETC,cAAe,CACb7F,MAAO,sCACPC,SAAU,SAACyF,GAAC,OAAKJ,EAAmBI,EAAGrD,IACvC7C,MAAO+F,EAAgBhE,aACvBzE,KAAM,QAERgJ,YAAa,CACX9F,MAAO,qCACPC,SAAU,SAACyF,GAAC,OAAKL,EAAkBK,EAAGrD,IACtC7C,MAAO+F,EAAgBjE,KACvBqE,UAAU,EACV7I,KAAM,UAERiJ,iBAAkB,CAChB/F,MAAO,2CACPC,SAAU,SAACyF,GAAC,OAAKF,EAAwBE,EAAGrD,IAC5C7C,MAAOoE,EAAmB1B,EAAYG,GACtCsD,UAAU,EACV7I,KAAM,qBAKCkJ,EAAoB,SAACxG,EAAOyG,EAAcC,GACrD,IAAMC,EAAeF,EAAeC,EACpC,OAAOE,KAAKC,IAAI7G,EAAO2G,K,yDCpLV,aAAAnK,GACb,OADyBA,EAATsK,WAEd,IAAK,QACH,MAAO,8CACT,IAAK,YACH,MAAO,qD,gVCHb,SAASC,EAAkB5F,EAAQ3D,GAAS,IAAK,IAAIwJ,EAAI,EAAGA,EAAIxJ,EAAMyJ,OAAQD,IAAK,CAAE,IAAIE,EAAa1J,EAAMwJ,GAAIE,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAepG,EAAQ+F,EAAWtH,IAAKsH,IAI7S,SAASM,EAAgBC,EAAK7H,EAAKI,GAAiK,OAApJJ,KAAO6H,EAAOH,OAAOC,eAAeE,EAAK7H,EAAK,CAAEI,MAAOA,EAAOmH,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBI,EAAI7H,GAAOI,EAAgByH,EAEpM,IAAIC,EAA8B,WACvC,SAASA,EAAeC,EAAMC,IAThC,SAAyBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAU5GC,CAAgBC,KAAMP,GAEtBF,EAAgBS,KAAM,YAAQ,GAE9BT,EAAgBS,KAAM,eAAW,GAEjCA,KAAKN,KAAOA,EACZM,KAAKL,QAAUA,EAbnB,IAAsBE,EAAaI,EAAYC,EA6C7C,OA7CoBL,EAgBPJ,GAhBoBQ,EAgBJ,CAAC,CAC5BtI,IAAK,UACLI,MAAO,WACL,IAAI2H,EAAOM,KAAKN,KACZC,EAAUK,KAAKL,QACnB,OAAOD,EAAKS,SAAUT,EAAKS,QAAQR,EAAQS,UAAWT,KAEvD,CACDhI,IAAK,QACLI,MAAO,WACL,IAAI2H,EAAOM,KAAKN,KACZC,EAAUK,KAAKL,QAEfD,EAAKW,OACPX,EAAKW,MAAMV,EAAQS,UAAWT,KAGjC,CACDhI,IAAK,OACLI,MAAO,WACL,IAAI2H,EAAOM,KAAKN,KACZC,EAAUK,KAAKL,QAEnB,GAAID,EAAKY,KACP,OAAOZ,EAAKY,KAAKX,EAAQS,UAAWT,QAxCkCb,EAAkBe,EAAYU,UAAWN,GAAiBC,GAAapB,EAAkBe,EAAaK,GA6C3KT,EAzCgC,GCRzC,SAASe,EAAeC,EAAK1B,GAAK,OAUlC,SAAyB0B,GAAO,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EAVtBG,CAAgBH,IAQzD,SAA+BA,EAAK1B,GAAK,IAAI8B,EAAY,MAAPJ,EAAc,KAAyB,oBAAXK,QAA0BL,EAAIK,OAAOC,WAAaN,EAAI,cAAe,GAAU,MAANI,EAAY,OAAQ,IAAkDG,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKP,EAAKA,EAAGQ,KAAKZ,KAAQU,GAAMH,EAAKH,EAAGS,QAAQC,QAAoBL,EAAKjG,KAAK+F,EAAGjJ,QAAYgH,GAAKmC,EAAKlC,SAAWD,GAA3DoC,GAAK,IAAoE,MAAOK,GAAOJ,GAAK,EAAMH,EAAKO,EAAO,QAAU,IAAWL,GAAsB,MAAhBN,EAAW,QAAWA,EAAW,SAAO,QAAU,GAAIO,EAAI,MAAMH,GAAQ,OAAOC,EARzbO,CAAsBhB,EAAK1B,IAI5F,SAAqC2C,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIxC,OAAOkB,UAAUuB,SAAST,KAAKK,GAAGK,MAAM,GAAI,GAAc,WAANF,GAAkBH,EAAEM,cAAaH,EAAIH,EAAEM,YAAYnI,MAAM,GAAU,QAANgI,GAAqB,QAANA,EAAa,OAAOnB,MAAMuB,KAAKP,GAAI,GAAU,cAANG,GAAqB,2CAA2CK,KAAKL,GAAI,OAAOD,EAAkBF,EAAGC,GAJpTQ,CAA4B1B,EAAK1B,IAEnI,WAA8B,MAAM,IAAIe,UAAU,6IAFuFsC,GAMzI,SAASR,EAAkBnB,EAAK4B,IAAkB,MAAPA,GAAeA,EAAM5B,EAAIzB,UAAQqD,EAAM5B,EAAIzB,QAAQ,IAAK,IAAID,EAAI,EAAGuD,EAAO,IAAI5B,MAAM2B,GAAMtD,EAAIsD,EAAKtD,IAAOuD,EAAKvD,GAAK0B,EAAI1B,GAAM,OAAOuD,EAWzK,SAASC,EAAwB7C,EAAMC,EAAS6C,GACrD,IAAIC,EAAUC,cACVC,ECjBC,SAAuBjD,EAAMC,GAClC,IAAIgD,EAAa3M,mBAAQ,WACvB,OAAO,IAAIyJ,EAAeC,EAAMC,KAC/B,CAACA,IAIJ,OAHAiD,qBAAU,WACRD,EAAWjD,KAAOA,IACjB,CAACA,IACGiD,EDUUE,CAAcnD,EAAMC,GACjCmD,EEZC,SAAmBpD,GACxB,IAAIoD,EAASpD,EAAKoD,OAClB,OAAO9M,mBAAQ,WAEb,OADA+M,YAAyB,MAAfrD,EAAKoD,OAAgB,0BACxBpC,MAAMC,QAAQmC,GAAUA,EAAS,CAACA,KACxC,CAACA,IFOSE,CAAUtD,GACvBuD,aAA0B,WACxB,IACIC,EAAmB1C,EADD2C,YAAeL,EAAQH,EAAYF,GACF,GACnDW,EAAYF,EAAiB,GAC7BG,EAAaH,EAAiB,GAIlC,OAFAvD,EAAQ2D,iBAAiBF,GACzBZ,EAAUc,iBAAiBF,GACpBC,IACN,CAACZ,EAAS9C,EAASgD,EAAYH,EAAWM,EAAOS,KAAI,SAAUC,GAChE,OAAOA,EAAE1B,cACR2B,KAAK,OGhCV,SAASC,EAAmBjD,GAAO,OAQnC,SAA4BA,GAAO,GAAIC,MAAMC,QAAQF,GAAM,OAAOmB,EAAkBnB,GAR1CkD,CAAmBlD,IAM7D,SAA0BmD,GAAQ,GAAsB,oBAAX9C,QAAmD,MAAzB8C,EAAK9C,OAAOC,WAA2C,MAAtB6C,EAAK,cAAuB,OAAOlD,MAAMuB,KAAK2B,GANjFC,CAAiBpD,IAItF,SAAqCiB,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIxC,OAAOkB,UAAUuB,SAAST,KAAKK,GAAGK,MAAM,GAAI,GAAc,WAANF,GAAkBH,EAAEM,cAAaH,EAAIH,EAAEM,YAAYnI,MAAM,GAAU,QAANgI,GAAqB,QAANA,EAAa,OAAOnB,MAAMuB,KAAKP,GAAI,GAAU,cAANG,GAAqB,2CAA2CK,KAAKL,GAAI,OAAOD,EAAkBF,EAAGC,GAJxTQ,CAA4B1B,IAE1H,WAAgC,MAAM,IAAIX,UAAU,wIAF8EgE,GAUlI,SAASlC,EAAkBnB,EAAK4B,IAAkB,MAAPA,GAAeA,EAAM5B,EAAIzB,UAAQqD,EAAM5B,EAAIzB,QAAQ,IAAK,IAAID,EAAI,EAAGuD,EAAO,IAAI5B,MAAM2B,GAAMtD,EAAIsD,EAAKtD,IAAOuD,EAAKvD,GAAK0B,EAAI1B,GAAM,OAAOuD,EAGzK,SAASyB,EAAmBC,EAAKC,GACtC,IAAIC,EAAWR,EAAmBO,GAAQ,IAM1C,OAJY,MAARA,GAA+B,mBAARD,GACzBE,EAASjJ,KAAK+I,GAGThO,mBAAQ,WACb,MAAsB,mBAARgO,EAAqBA,IAAQA,IAC1CE,G,0CCtBL,SAAS1D,EAAeC,EAAK1B,GAAK,OAUlC,SAAyB0B,GAAO,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EAVtBG,CAAgBH,IAQzD,SAA+BA,EAAK1B,GAAK,IAAI8B,EAAY,MAAPJ,EAAc,KAAyB,oBAAXK,QAA0BL,EAAIK,OAAOC,WAAaN,EAAI,cAAe,GAAU,MAANI,EAAY,OAAQ,IAAkDG,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKP,EAAKA,EAAGQ,KAAKZ,KAAQU,GAAMH,EAAKH,EAAGS,QAAQC,QAAoBL,EAAKjG,KAAK+F,EAAGjJ,QAAYgH,GAAKmC,EAAKlC,SAAWD,GAA3DoC,GAAK,IAAoE,MAAOK,GAAOJ,GAAK,EAAMH,EAAKO,EAAO,QAAU,IAAWL,GAAsB,MAAhBN,EAAW,QAAWA,EAAW,SAAO,QAAU,GAAIO,EAAI,MAAMH,GAAQ,OAAOC,EARzbO,CAAsBhB,EAAK1B,IAI5F,SAAqC2C,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIxC,OAAOkB,UAAUuB,SAAST,KAAKK,GAAGK,MAAM,GAAI,GAAc,WAANF,GAAkBH,EAAEM,cAAaH,EAAIH,EAAEM,YAAYnI,MAAM,GAAU,QAANgI,GAAqB,QAANA,EAAa,OAAOnB,MAAMuB,KAAKP,GAAI,GAAU,cAANG,GAAqB,2CAA2CK,KAAKL,GAAI,OAAOD,EAAkBF,EAAGC,GAJpTQ,CAA4B1B,EAAK1B,IAEnI,WAA8B,MAAM,IAAIe,UAAU,6IAFuFsC,GAMzI,SAASR,EAAkBnB,EAAK4B,IAAkB,MAAPA,GAAeA,EAAM5B,EAAIzB,UAAQqD,EAAM5B,EAAIzB,QAAQ,IAAK,IAAID,EAAI,EAAGuD,EAAO,IAAI5B,MAAM2B,GAAMtD,EAAIsD,EAAKtD,IAAOuD,EAAKvD,GAAK0B,EAAI1B,GAAM,OAAOuD,ECLzK,SAAS6B,EAAkBC,EAAWzE,EAAS6C,GACpD,ODYK,SAA0B7C,EAAS0E,EAASC,GACjD,IACIC,EAAiB/D,EADDgE,YAAa7E,EAAS0E,EAASC,GACA,GAC/CG,EAAYF,EAAe,GAC3BG,EAAkBH,EAAe,GAarC,OAXAtB,aAA0B,WACxB,IAAIG,EAAYzD,EAAQgF,eAExB,GAAiB,MAAbvB,EAIJ,OAAOzD,EAAQiF,uBAAuBF,EAAiB,CACrDG,WAAY,CAACzB,OAEd,CAACzD,EAAS+E,IACND,EC7BAK,CAAiBnF,EAASyE,GAAa,WAC5C,MAAO,KACN,WACD,OAAO5B,EAAUuC,eCJd,SAASC,EAAqBxC,GACnC,OAAOxM,mBAAQ,WACb,OAAOwM,EAAUyC,MAAMtC,eACtB,CAACH,ICQC,SAAS0C,EAAQC,EAASlB,GAC/B,ICTIxB,EDSA/C,EAAOqE,EAAmBoB,EAASlB,GACnCtE,GCVA8C,EAAUC,cACP1M,mBAAQ,WACb,OAAO,IAAIoP,IAAsB3C,KAChC,CAACA,KDQAD,EEXC,SAAgC7E,GACrC,IAAI8E,EAAUC,cACVF,EAAYxM,mBAAQ,WACtB,OAAO,IAAIqP,IAAgB5C,EAAQ6C,gBAClC,CAAC7C,IAQJ,OAPAQ,aAA0B,WAGxB,OAFAT,EAAU+C,kBAAoB5H,GAAW,KACzC6E,EAAUuC,YACH,WACL,OAAOvC,EAAUgD,0BAElB,CAAC7H,IACG6E,EFDSiD,CAAuB/F,EAAK/B,SAE5C,OADA4E,EAAwB7C,EAAMC,EAAS6C,GAChC,CAAC2B,EAAkBzE,EAAK2E,QAAS1E,EAAS6C,GAAYwC,EAAqBxC,IGjBpF,SAASkD,EAAQlG,GAAmV,OAAtOkG,EAArD,mBAAX5E,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBvB,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXsB,QAAyBtB,EAAIwC,cAAgBlB,QAAUtB,IAAQsB,OAAOP,UAAY,gBAAkBf,IAAyBA,GAInX,SAASV,EAAkB5F,EAAQ3D,GAAS,IAAK,IAAIwJ,EAAI,EAAGA,EAAIxJ,EAAMyJ,OAAQD,IAAK,CAAE,IAAIE,EAAa1J,EAAMwJ,GAAIE,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAepG,EAAQ+F,EAAWtH,IAAKsH,IAI7S,SAASM,EAAgBC,EAAK7H,EAAKI,GAAiK,OAApJJ,KAAO6H,EAAOH,OAAOC,eAAeE,EAAK7H,EAAK,CAAEI,MAAOA,EAAOmH,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBI,EAAI7H,GAAOI,EAAgByH,EAEpM,IAAImG,EAA8B,WACvC,SAASA,EAAejG,EAAMC,EAAS6C,IATzC,SAAyB5C,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAU5GC,CAAgBC,KAAM2F,GAEtBpG,EAAgBS,KAAM,YAAQ,GAE9BT,EAAgBS,KAAM,eAAW,GAEjCT,EAAgBS,KAAM,iBAAa,GAEnCA,KAAKN,KAAOA,EACZM,KAAKL,QAAUA,EACfK,KAAKwC,UAAYA,EAhBrB,IAAsB3C,EAAaI,EAAYC,EA4E7C,OA5EoBL,EAmBP8F,GAnBoB1F,EAmBJ,CAAC,CAC5BtI,IAAK,YACLI,MAAO,WACL,IAAI6N,EAEAlG,EAAOM,KAAKN,KACZC,EAAUK,KAAKL,QAWnB,OAA8B,QAAtBiG,EARmB,WAAvBF,EAAQhG,EAAKmG,MACNnG,EAAKmG,KACgB,mBAAdnG,EAAKmG,KACZnG,EAAKmG,KAAKlG,GAEV,UAGuC,IAAZiG,EAAqBA,EAAU,OAEtE,CACDjO,IAAK,UACLI,MAAO,WACL,IAAI2H,EAAOM,KAAKN,KACZC,EAAUK,KAAKL,QAEnB,MAA4B,kBAAjBD,EAAKoG,QACPpG,EAAKoG,QACqB,mBAAjBpG,EAAKoG,SACdpG,EAAKoG,QAAQnG,KAKvB,CACDhI,IAAK,aACLI,MAAO,SAAoBgO,EAAe7M,GACxC,IAAIwG,EAAOM,KAAKN,KACZC,EAAUK,KAAKL,QACfqG,EAAatG,EAAKsG,WACtB,OAAOA,EAAaA,EAAWrG,GAAWzG,IAAW6M,EAAcE,gBAEpE,CACDtO,IAAK,UACLI,MAAO,WACL,IAAI2H,EAAOM,KAAKN,KACZC,EAAUK,KAAKL,QACf6C,EAAYxC,KAAKwC,UACjB0D,EAAMxG,EAAKwG,IAEXA,GACFA,EAAIvG,EAAQS,UAAWT,GAGzB6C,EAAUuC,iBAxE8DjG,EAAkBe,EAAYU,UAAWN,GAAiBC,GAAapB,EAAkBe,EAAaK,GA4E3KyF,EAxEgC,GCVzC,SAASnF,EAAeC,EAAK1B,GAAK,OAUlC,SAAyB0B,GAAO,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EAVtBG,CAAgBH,IAQzD,SAA+BA,EAAK1B,GAAK,IAAI8B,EAAY,MAAPJ,EAAc,KAAyB,oBAAXK,QAA0BL,EAAIK,OAAOC,WAAaN,EAAI,cAAe,GAAU,MAANI,EAAY,OAAQ,IAAkDG,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKP,EAAKA,EAAGQ,KAAKZ,KAAQU,GAAMH,EAAKH,EAAGS,QAAQC,QAAoBL,EAAKjG,KAAK+F,EAAGjJ,QAAYgH,GAAKmC,EAAKlC,SAAWD,GAA3DoC,GAAK,IAAoE,MAAOK,GAAOJ,GAAK,EAAMH,EAAKO,EAAO,QAAU,IAAWL,GAAsB,MAAhBN,EAAW,QAAWA,EAAW,SAAO,QAAU,GAAIO,EAAI,MAAMH,GAAQ,OAAOC,EARzbO,CAAsBhB,EAAK1B,IAI5F,SAAqC2C,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIxC,OAAOkB,UAAUuB,SAAST,KAAKK,GAAGK,MAAM,GAAI,GAAc,WAANF,GAAkBH,EAAEM,cAAaH,EAAIH,EAAEM,YAAYnI,MAAM,GAAU,QAANgI,GAAqB,QAANA,EAAa,OAAOnB,MAAMuB,KAAKP,GAAI,GAAU,cAANG,GAAqB,2CAA2CK,KAAKL,GAAI,OAAOD,EAAkBF,EAAGC,GAJpTQ,CAA4B1B,EAAK1B,IAEnI,WAA8B,MAAM,IAAIe,UAAU,6IAFuFsC,GAMzI,SAASR,EAAkBnB,EAAK4B,IAAkB,MAAPA,GAAeA,EAAM5B,EAAIzB,UAAQqD,EAAM5B,EAAIzB,QAAQ,IAAK,IAAID,EAAI,EAAGuD,EAAO,IAAI5B,MAAM2B,GAAMtD,EAAIsD,EAAKtD,IAAOuD,EAAKvD,GAAK0B,EAAI1B,GAAM,OAAOuD,EAWzK,SAAS6D,EAAwBzG,EAAMC,EAAS6C,GACrD,IAAIC,EAAUC,cACV0D,ECjBC,SAAuB1G,EAAMC,EAAS6C,GAC3C,IAAI4D,EAAUpQ,mBAAQ,WACpB,OAAO,IAAI2P,EAAejG,EAAMC,EAAS6C,KACxC,CAAC7C,EAAS6C,IAIb,OAHAI,qBAAU,WACRwD,EAAQ1G,KAAOA,IACd,CAACA,IACG0G,EDUOC,CAAc3G,EAAMC,EAAS6C,GACvC8D,EElBC,SAAqB5G,GAC1B,OAAO1J,mBAAQ,WACb,IAAIuQ,EAAS7G,EAAKrK,KAElB,OADA0N,YAAoB,MAAVwD,EAAgB,6BACnBA,IACN,CAAC7G,IFaW8G,CAAY9G,GAC3BuD,aAA0B,WACxB,GAAgB,MAAZqD,EAAkB,CACpB,IACIG,EAAmBjG,EADDkG,YAAeJ,EAAUF,EAAS3D,GACD,GACnDW,EAAYqD,EAAiB,GAC7BpD,EAAaoD,EAAiB,GAIlC,OAFA9G,EAAQ2D,iBAAiBF,GACzBZ,EAAUc,iBAAiBF,GACpBC,KAER,CAACZ,EAAS9C,EAAS6C,EAAW4D,EAASE,I,4BG/BrC,SAASK,EAAqBnE,GACnC,OAAOxM,mBAAQ,WACb,OAAOwM,EAAUyC,MAAM2B,eACtB,CAACpE,IAEC,SAASqE,EAAsBrE,GACpC,OAAOxM,mBAAQ,WACb,OAAOwM,EAAUyC,MAAM6B,gBACtB,CAACtE,ICIC,SAASuE,EAAQ5B,EAASlB,GAC/B,IAAIvE,EAAOqE,EAAmBoB,EAASlB,GACvClB,aAAWrD,EAAKsH,MAAO,+JACvB,ICZIvE,EDYA9C,GCZA8C,EAAUC,cACP1M,mBAAQ,WACb,OAAO,IAAIiR,IAAsBxE,KAChC,CAACA,KDUAD,EEbC,SAAgC0E,EAAmBC,GACxD,IAAI1E,EAAUC,cACVF,EAAYxM,mBAAQ,WACtB,OAAO,IAAIoR,IAAgB3E,EAAQ6C,gBAClC,CAAC7C,IAeJ,OAdAQ,aAA0B,WAGxB,OAFAT,EAAU0E,kBAAoBA,GAAqB,KACnD1E,EAAUuC,YACH,WACL,OAAOvC,EAAU6E,0BAElB,CAAC7E,EAAW0E,IACfjE,aAA0B,WAGxB,OAFAT,EAAU2E,mBAAqBA,GAAsB,KACrD3E,EAAUuC,YACH,WACL,OAAOvC,EAAU8E,2BAElB,CAAC9E,EAAW2E,IACR3E,EFNS+E,CAAuB7H,EAAK/B,QAAS+B,EAAK8H,gBAE1D,OADArB,EAAwBzG,EAAMC,EAAS6C,GAChC,CAAC2B,EAAkBzE,EAAK2E,QAAS1E,EAAS6C,GAAYmE,EAAqBnE,GAAYqE,EAAsBrE,I,ohCGXtH,IAAMiF,EAAoB,SAAHlT,GASjB,IARJmT,EAAMnT,EAANmT,OACAC,EAAKpT,EAALoT,MACAnP,EAAQjE,EAARiE,SACAoP,EAAYrT,EAAZqT,aACAC,EAAYtT,EAAZsT,aACA7O,EAAEzE,EAAFyE,GACA8O,EAAOvT,EAAPuT,QACAC,EAAOxT,EAAPwT,QAEMC,EACE,OAGFxT,EAAMyT,iBAAO,MAEV3H,EAkDPE,EAlDe0E,EAAQ,CACvBpC,OAAQkF,EACR3H,MAAK,SAACwF,EAAMlG,GAAS,IAAAuI,EACnB,GAAK1T,EAAI2T,QAAT,CAGA,IAAMC,EAAYvC,EAAK8B,MACjBU,EAAaV,EAGnB,GAAIS,IAAcC,EAAlB,CAKA,IAAMC,EAA+B,QAAdJ,EAAG1T,EAAI2T,eAAO,IAAAD,OAAA,EAAXA,EAAaK,wBAGjCC,GACHF,EAAkBG,OAASH,EAAkBI,KAAO,EAMjDC,EAHehJ,EAAQiJ,kBAGOC,EAAIP,EAAkBI,IAOtDN,EAAYC,GAAcM,EAAeH,GAKzCJ,EAAYC,GAAcM,EAAeH,IAK7CX,EAAaO,EAAWC,GAMxBxC,EAAK8B,MAAQU,QAEf,GAlDW,GA0DXS,EAAAtI,EAN6BuG,EAAQ,CACrC1R,KAAM2S,EACNnC,KAAM,CAAExQ,KAAM2S,EAAgBhP,KAAI2O,SAClCtD,QAAS,SAAC1E,GAAO,MAAM,CACrBqG,WAAYrG,EAAQqG,iBAEtB,GANOA,EAAU8C,EAAA,GAAV9C,WAAc+C,EAAID,EAAA,GAQrBE,EAAkBC,uBAAY,SAAChQ,GACnCT,EAASS,EAAMC,OAAOnB,SACrB,CAACS,IAEE0Q,EAAuBD,uBAAY,SAAChQ,GACtB,UAAdA,EAAMtB,KACRmQ,MAED,CAACA,IAEJiB,EAAKzI,EAAK9L,IAEV,IAAM2U,EAAUnD,EAAa,EAAI,EAEjC,OACE9P,IAAAC,cAAA,OAAK3B,IAAKA,EAAK4U,MAAO,CAAED,WAAWpU,UAAU,uBAC3CmB,IAAAC,cAAA,OAAKpB,UAAU,eACbmB,IAAAC,cAACC,IAAI,CACHC,MAAM,sBAGVH,IAAAC,cAAA,OAAKpB,UAAU,iBACbmB,IAAAC,cAAA,SACEd,KAAK,OACLN,UAAWgT,EAAU,UAAY,GACjCvP,SAAUwQ,EACVjR,MAAO2P,EAAO2B,aACdC,WAAYJ,EACZK,WAAS,IAEVxB,GAAW7R,IAAAC,cAACC,IAAI,CAACC,MAAM,gBAE1BH,IAAAC,cAACqT,IAAM,CACLC,MAAM,gBACNC,IAAI,mBACJC,QAAS/B,MAMX9Q,EAAY,CAChB4Q,OAAQ3Q,IAAU6S,OAClB7B,QAAShR,IAAUG,MAErBuQ,EAAkB3Q,UAAYA,EAEf2Q,Q,8sGC3Hf,IAAM3Q,GAAY,CAChB6G,QAAS5G,IAAU6S,OACnBC,iBAAkB9S,IAAUI,KAC5B2S,SAAU/S,IAAU6S,QAGhBG,GAAyB,SAAHxV,GAItB,IAHJoJ,EAAOpJ,EAAPoJ,QACAkM,EAAgBtV,EAAhBsV,iBACAC,EAAQvV,EAARuV,SAGME,EAAgB/B,kBAAO,GAE7BrF,qBAAU,WACRoH,EAAc7B,SAAU,IACvB,CAAC0B,IAEJjH,qBAAU,WACRqH,EAASC,KACR,CAACvM,IAEJ,IAAQ7E,EAAMC,cAAND,EAIFoR,EAAiBvM,EAAQ4F,KAAI,SAACmE,EAAQC,GAC1C,MAAO,CACL3O,GAAI2O,EACJ0B,aAAc3B,EAAO2B,aACrBtR,MAAO2P,EAAO3P,UAGgCoS,EAAA3J,GAAxB4J,mBAASF,GAAe,GAA3CG,EAAKF,EAAA,GAAEF,EAAQE,EAAA,GACqCG,EAAA9J,GAA/B4J,mBAASF,EAAelL,QAAO,GAApDuL,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACoCG,EAAAjK,GAAZ4J,mBAAS,IAAG,GAArDM,EAAgBD,EAAA,GAAEE,EAAmBF,EAAA,GAC+BG,EAAApK,GAAf4J,oBAAS,GAAM,GAApES,EAAsBD,EAAA,GAAEE,EAAyBF,EAAA,GACoBG,EAAAvK,GAAZ4J,mBAAS,IAAG,GAArEY,EAAwBD,EAAA,GAAEE,EAA2BF,EAAA,GACtDG,EAAejD,mBAErBrF,qBAAU,WAER,GAAIoH,EAAc7B,QAAS,CACzB,IAAAgD,EAA+CC,IAAvCC,EAAYF,EAAZE,aAAcC,EAAQH,EAARG,SAAUC,EAAUJ,EAAVI,WAEhCZ,EAAoBU,GACpBP,EAA0BQ,GAC1BL,EAA4BvK,MAAMuB,KAAKsJ,IAEvC,IACMC,EADkBnB,EAAMoB,QAAO,SAAC5F,GAAI,OAAKA,EAAK9N,QAAU2S,EAAiBgB,SAAS7F,MAC/CtC,KAAI,SAACsC,GAAI,MAAM,CAAE9N,MAAO8N,EAAK9N,MAAOsR,aAAcxD,EAAKwD,iBAChGQ,EAAiB2B,QAEjBb,EAAoB,IACpBX,EAAc7B,SAAU,IAEzB,CAACkC,EAAOR,IAEX,IAAM8B,EAAY1C,uBAAY,WAC5B,IACwB2C,EADlBC,EAAc,IAAIC,IAAMC,EAAAC,EACX3B,GAAK,IAAxB,IAAA0B,EAAAE,MAAAL,EAAAG,EAAAlK,KAAAN,MAA0B,KAChBxJ,EADK6T,EAAA7T,MACLA,MACR,GAAKA,EAAL,CAGA,IAAMmU,EAAQL,EAAYM,IAAIpU,IAAU,EACxC8T,EAAYO,IAAIrU,EAAOmU,EAAQ,KAChC,MAAA1K,GAAAuK,EAAA9N,EAAAuD,GAAA,QAAAuK,EAAAM,IACD,OAAOR,IACN,CAACxB,IAEEiC,EAAuBrD,uBAAY,SAACsD,GACxC,IAGwBC,EAHlBnB,EAAe,GACjBC,GAAW,EACTC,EAAa,IAAIkB,IAAMC,EAAAV,EACV3B,GAAK,IAAxB,IAAAqC,EAAAT,MAAAO,EAAAE,EAAA7K,KAAAN,MAA0B,KAAfsE,EAAI2G,EAAAzU,MACLA,EAAU8N,EAAV9N,MACJA,GAASwU,EAAOJ,IAAIpU,GAAS,GAC/BsT,EAAapQ,KAAK4K,GAClB0F,EAAWoB,IAAI5U,IACLA,IACVuT,GAAW,EACXD,EAAapQ,KAAK4K,KAErB,MAAArE,GAAAkL,EAAAzO,EAAAuD,GAAA,QAAAkL,EAAAL,IACD,MAAO,CAAEhB,eAAcC,WAAUC,gBAChC,CAAClB,IAEEe,EAAgBnC,uBAAY,WAChC,IAAM4C,EAAcF,IACpB,OAAOW,EAAqBT,KAC3B,CAACxB,IAEEuC,EAAY3D,uBAAY,WAC5B,IAAMjQ,EAAKuR,EACXC,EAAUD,EAAS,GACnBN,EAAS,GAADvT,OAAAgN,EAAK2G,GAAK,CAAE,CAAErR,KAAIjB,MAAO,GAAIsR,aAAc,OAC/CS,GACF+C,MAED,CAACtC,EAAQF,IAENyC,EAAmB,SAAC9T,GAAE,OAAK,WAC/B,IAAM+T,EAAe1C,EAAMoB,QAAO,SAAC5F,GACjC,OAAO7M,IAAO6M,EAAK7M,MAErBiR,EAAS8C,KAqBX,IAAMlF,EAAeoB,uBACnB,SAACb,EAAWC,GACV,IAR2BV,EAAO5P,EAC9BwO,EAOEyG,EAAW3C,EAAMjC,GAIjB6E,EAA6B5C,EAAMoB,QAAO,SAACyB,EAAOvF,GAAK,OAAKA,IAAUS,KAEtE+E,GAdqBxF,EAc6DU,EAdtDtQ,EAckEiV,GAbhGzG,EAawD0G,EAbzClL,MAAM,IACpBqL,OAAOzF,EAAO,EAAG5P,GACjBwO,GAaL0D,EAASkD,KAEX,CAAC9C,IAGGwC,EAAsB,WAC1B,IAAMQ,EAAiBvD,EAAS3B,QAC1BmF,EAAmBpC,EAAa/C,QAC9BM,EAAW4E,EAAe9E,wBAA1BE,OAEF8E,EADiB3V,OAAO4V,YACW/E,EACnCgF,EAAoBH,EAAiBI,aAAeJ,EAAiBK,aAC3E,GAAIJ,GAAmB,KAAOE,EAAmB,CAC/C,IACMG,EAAkC,GADrBN,EAAiBO,kBAEpCP,EAAiBlE,MAAM0E,UAAY,GAAHpX,OAAMkX,EAAkB,WAC/CL,EAAkB,KAC3BD,EAAiBlE,MAAM0E,UAAY,UAIvC,OACE5X,IAAAC,cAAA,WACED,IAAAC,cAAA,OAAKpB,UAAU,iBAAiBP,IAAK0W,GAClCb,EAAM9G,KAAI,SAACsC,EAAM8B,GAAK,OACrBzR,IAAAC,cAACsR,EAAiB,CAChB9P,IAAKkO,EAAK7M,GACV2O,MAAOA,EACP3O,GAAI6M,EAAK7M,GACT0O,OAAQ7B,EACRrN,UA1DqBQ,EA0DW6M,EAAK7M,GA1DT,SAACjB,GACrC,IAAMgV,EAAe1C,EAAM9G,KAAI,SAACsC,GAC9B,OAAIA,EAAK7M,KAAOA,EACP6M,EAETkI,IAAA,GAAYlI,GAAI,IAAE9N,QAAOsR,aAActR,OAEzCkS,EAAS8C,KAoDDnF,aAAckF,EAAiBjH,EAAK7M,IACpC6O,aAAcA,EACdC,SAAS4C,aAAgB,EAAhBA,EAAkB1L,QAAS,EAAI,aAAY4N,EACpD7E,SAAS2C,aAAgB,EAAhBA,EAAkBgB,SAAS7F,KAAS6E,EAAiBsD,MAAK,SAACjP,GAAC,OAAKA,EAAEhH,QAAU8N,EAAK9N,OAASgH,EAAE/F,KAAO6M,EAAK7M,QA9D9F,IAACA,MAkE1B6R,GACC3U,IAAAC,cAAA,OACEpB,UAAU,yBACVwE,KAAK,QACLD,YAAU,aAETR,EAAE,2BAGNkS,EAAyBhM,OAAS,GACjC9I,IAAAC,cAAA,OACEpB,UAAU,yBACVwE,KAAK,QACLD,YAAU,aAETR,EAAE,8BAA8B,IAAEkS,EAAyBvH,KAAK,OAGrEvN,IAAAC,cAACqT,IAAM,CACLC,MAAO3Q,EAAE,oBACT/D,UAAU,kBACVwD,MAAOO,EAAE,oBACT4Q,IAAI,iBACJC,QAASiD,EACTtX,UAAUoV,aAAgB,EAAhBA,EAAkB1L,QAAS,MAM7C+K,GAAuBjT,UAAYA,GAEpBiT,UCrNAA,Q,06CCMf,IAqEekE,EArEW,SAAH1Z,GAUjB,IATJiE,EAAQjE,EAARiE,SACA0V,EAAa3Z,EAAb2Z,cACAvQ,EAAOpJ,EAAPoJ,QACAwQ,EAAc5Z,EAAd4Z,eACAC,EAAe7Z,EAAf6Z,gBACArW,EAAKxD,EAALwD,MACAsW,EAAW9Z,EAAX8Z,YACAC,EAAO/Z,EAAP+Z,QACA3Z,EAAWJ,EAAXI,YAEQmE,EAAMC,cAAND,EAEFyV,EAAe,CACnBC,QAAS,SAACC,EAAUC,GAClB,OAAAX,IAAA,GACKU,GAAQ,IACXE,UAAW,OACXzU,OAAQ,OACR0U,gBAAiB,8BACjBC,YAAaH,EAAMtW,YAAYkW,QAAU,kBAAoB,oBAC7DQ,UAAW,KACX,UAAW,QAGfC,YAAa,SAACN,GAAQ,OAAAV,IAAA,GACjBU,GAAQ,IACXO,MAAO,uBAETC,KAAM,SAACR,GAAQ,OAAAV,IAAA,GACVU,GAAQ,IACXG,gBAAiB,8BACjBI,MAAO,uBAETtH,OAAQ,SAAC+G,GAAQ,OAAAV,IAAA,GACZU,GAAQ,IACXG,gBAAiB,8BACjBI,MAAO,oBACP,UAAW,CACTJ,gBAAiB,gCAGrBM,oBAAqB,SAACT,GAAQ,OAAAV,IAAA,GACzBU,GAAQ,IACXU,aAAc,MACdjV,OAAQ,WAIZ,OACEhE,IAAAC,cAACkB,IAA+B,KAC9BnB,IAAAC,cAACiZ,IAAe,CACdf,YAAaA,EACb7V,SAAUA,EACV0V,cAAeA,EACfvQ,QAASA,EACTwQ,eAAgBA,EAChBkB,YAAajB,EACbkB,kBAAmB,SAACvX,GAAK,SAAArB,OAAQoC,EAAE,iBAAgB,KAAApC,OAAIqB,IACvDA,MAAOA,EACPwX,OAAQhB,EACRD,QAASA,EACTjW,WAAY,CAAEC,oBAAqBJ,OAEpCvD,EAAcuB,IAAAC,cAAA,OAAKpB,UAAU,eAAeJ,QAAqB2B,ICtEzD2X,O,o/ECSf,IA4CMnX,EAAY,CAChBkS,gBAAiBjS,IAAUI,KAAKqY,WAChCC,cAAe1Y,IAAUE,QAGrByY,EAA2B,SAAHnb,GAA2C,IAArCyU,EAAezU,EAAfyU,gBAAiByG,EAAalb,EAAbkb,cAC3C3W,EAAMC,cAAND,EACFyW,EAnDiB,CACvBf,QAAS,SAACC,EAAUC,GAAK,OAAAX,IAAA,GACpBU,GAAQ,IACXE,UAAW,OACXC,gBAAiB,8BACjBC,YAAaH,EAAMiB,UAAY,iBAAmB,kBAClDC,aAAclB,EAAMiB,UAAY,MAAQlB,EAASmB,aACjDC,YAAanB,EAAMiB,UAAY,MAAQlB,EAASoB,YAChDf,UAAWJ,EAAMiB,UAAY,2BAA6B,KAC1D,UAAW,CACTd,YAAaH,EAAMiB,UAAY,iBAAmB,sBAGtDG,eAAgB,SAACrB,GAAQ,OAAAV,IAAA,GACpBU,GAAQ,IACXsB,QAAS,SAEXhB,YAAa,SAACN,GAAQ,OAAAV,IAAA,GACjBU,GAAQ,IACXO,MAAO,uBAETC,KAAM,SAACR,GAAQ,OAAAV,IAAA,GACVU,GAAQ,IACXG,gBAAiB,iCAEnBlH,OAAQ,SAAC+G,EAAUC,GAAK,OAAAX,IAAA,GACnBU,GAAQ,IACXG,gBAAiBF,EAAMsB,WAAa,gBAAkB,8BACtD,UAAW,CACTpB,gBAAiB,gBACjBI,MAAO,iBAET,WAAY,CACVJ,gBAAiBF,EAAMsB,WAAa,gBAAkB,iBAExDC,OAAQvB,EAAMiB,UAAY,0CAA4C,UAExET,oBAAqB,SAACT,GAAQ,OAAAV,IAAA,GACzBU,GAAQ,IACXU,aAAc,MACdjV,OAAQ,WAYJgW,EAAmB,CACvB,CAAEnY,MAAOoY,IAAeC,eAAgB7X,MAAOO,EAAE,8BACjD,CAAEf,MAAOoY,IAAeE,SAAU9X,MAAOO,EAAE,0BAGvCwX,EAAOJ,EAAiBK,MAAK,SAAC7I,GAAM,OAAKA,EAAO3P,QAAU0X,KACxBtF,EAAA3J,EAAd4J,mBAASkG,GAAK,GAAjCvY,EAAKoS,EAAA,GAAEqG,EAAQrG,EAAA,GAC6BG,EAAA9J,EAAf4J,oBAAS,GAAM,GAA5CjS,EAAUmS,EAAA,GAAEmG,EAAanG,EAAA,GAuBhC,OACEpU,IAAAC,cAACua,IAAkB,CAAC3b,UAAU,8BAA8B4b,YAAY,4BACtEza,IAAAC,cAAA,SAAO6C,GAAG,yBAAyBF,EAAE,kBAAkB,KACvD5C,IAAAC,cAACkB,IAA+B,KAC9BnB,IAAAC,cAACya,IAAM,CACL7Y,MAAOA,EACPS,SA3BS,SAACkP,GAChB8I,EAAS9I,GACTsB,EAAgBtB,GAChB+I,GAAc,IAyBRlB,OAAQA,EACR5R,QAASuS,EACTW,cAAc,EACdxC,aAAa,EACbhW,WAAY,CAAEC,oBAAqBJ,KACnCmB,kBAAgB,wBAChByX,UA5Bc,SAAC7X,GACH,UAAdA,EAAMtB,MACRsB,EAAM8X,iBACNN,GAAc,SAACO,GAAI,OAAMA,OA0BrB7Y,WAAYA,EACZ8Y,WAvBe,WACrBR,GAAc,IAuBRS,YApBgB,WACtBT,GAAc,SA0BlBf,EAAyB5Y,UAAYA,EAEtB4Y,QCpHAA,O,qBCDfyB,EAAOC,QAAU,CAAC,kBAAoB,OAAO,mBAAqB,S,4dCK5Dta,EAAY,CAChBua,UAAWta,IAAU6S,OAAO4F,WAC5B8B,qBAAsBva,IAAUE,OAAOuY,YAGnC+B,EAA8B,SAAHhd,GAA4C,IAAtC8c,EAAS9c,EAAT8c,UAAWC,EAAoB/c,EAApB+c,qBACxCxY,EAAMC,cAAND,EAQR,OACE5C,IAAAC,cAAA,OAAKpB,UAAU,kCACbmB,IAAAC,cAACqb,IAAM,CACLxY,GAAG,kBACHjE,UAAU,sBACV0c,QAASJ,EAAU/T,UACnB9E,SAAU,SAACS,GAAK,OAbKyY,EAakBzY,EAAMC,OAAOuY,QAZpDJ,EAAUtZ,MAAMiH,OAAS,GAAK0S,GAChCL,EAAU7Y,SAAS8Y,QAErBD,EAAUM,gBAAgBD,GAJF,IAACA,GAcrBnZ,MAAOO,EAAEuY,EAAU9Y,OACnBY,aAAYL,EAAEuY,EAAU9Y,OACxBqZ,eAAcP,EAAU/T,YAGxB+T,EAAU/T,WACRpH,IAAAC,cAAA,OAAKpB,UAAU,mBACbmB,IAAAC,cAAC9B,IAAK,CACJ2E,GAAG,wBACH3D,KAAK,OACLmD,SAAU,SAACS,GAAK,OAAKoY,EAAU7Y,SAASS,EAAMC,OAAOnB,QACrDA,MAAOsZ,EAAUtZ,MACjBnD,UAAU,QACVya,YAAaiC,EACbhc,UAAW+b,EAAU/T,UACrBuU,iBAAgBR,EAAU/T,UAC1BnE,aAAYL,EAAE,gDAS5ByY,EAA4Bza,UAAYA,EAEzBya,ICpDAA,EDoDAA,E,wgCEtCf,IAAMO,EAAiB,SAAHvd,GAoBd,IAnBJ0F,EAAK1F,EAAL0F,MACAC,EAAM3F,EAAN2F,OACA6X,EAAUxd,EAAVwd,WACArX,EAAMnG,EAANmG,OACAgB,EAAKnH,EAALmH,MACAsW,EAAuBzd,EAAvByd,wBACA1D,EAAO/Z,EAAP+Z,QACA7V,EAAiBlE,EAAjBkE,kBACAwZ,EAAW1d,EAAX0d,YACAC,EAAmB3d,EAAnB2d,oBACAC,EAAY5d,EAAZ4d,aACAC,EAAoB7d,EAApB6d,qBACA3X,EAAUlG,EAAVkG,WACA4X,EAAa9d,EAAb8d,cACAC,EAAc/d,EAAd+d,eACAjB,EAAS9c,EAAT8c,UAASkB,EAAAhe,EACTie,yBAAiB,IAAAD,GAAQA,EACzBzU,EAAevJ,EAAfuJ,gBACA2U,EAAsBle,EAAtBke,uBAEQ7X,EAAS8X,cAAT9X,KACA9B,EAAMC,cAAND,EAEF6Z,EAAwC1J,uBAAY,SAACxO,GAEzD,GADuE,uBAAzCA,EAAWmY,WAAWC,eACzB,CACzB,IAAMxW,EAA2BzB,EAAK0B,8BACtC,OAAOxD,EAAE,qEAADpC,OAAsE2F,EAAyBF,mBAAmB1B,KAE5H,OAAO3B,EAAE,kDAADpC,OAAmD+D,EAAWmY,WAAWC,oBAG7EC,EAAkC7J,uBAAY,SAACpO,GACnD,IAAMuO,EAAQ5M,YAAc3B,EAAYhB,MAExC,GAD6C,iCAArBgB,EAAYhB,KACf,CACnB,IAAM4C,EAAgB2M,aAAK,EAALA,EAAO3M,cAC7B,OAAO3D,EAAE,qEAADpC,OAAsE+F,IAEhF,IAAMsW,EAAiB3J,aAAK,EAALA,EAAO4J,eAC9B,OAAOla,EAAE,kDAADpC,OAAmDqc,OAGvDE,EAA0BhK,uBAAY,WAC1C,GAAIxO,EACF,OAAOkY,EAAsClY,GAE/C,IAAMI,EAAcD,EAAKE,cACzB,OAAOgY,EAAgCjY,KACtC,CAACJ,EAAY3B,IAE2EqR,EAAA3J,EAAnC4J,mBAAS6I,KAA0B,GAApF3B,EAAoBnH,EAAA,GAAE+I,EAAuB/I,EAAA,GAEpDvH,qBAAU,WACRsQ,EAAwBD,OACvB,CAAClB,EAAYkB,IAEhB,IAoEQE,EApEFC,EAAsBnK,uBAAY,SAACoK,EAAOC,GAC9CD,EAAM7a,UAAS8a,aAAK,EAALA,EAAOvb,QAAS,IAC/B0a,GAAuBa,aAAK,EAALA,EAAOvb,QAAS,MACtC,IAmDGwb,EAAmB,SAACF,GACxB,OAAQA,EAAMhe,MACZ,IAAK,OACH,OApDkB,SAACge,GACvB,IAAQnV,EAAqCmV,EAArCnV,SAAU3F,EAA2B8a,EAA3B9a,MAAOC,EAAoB6a,EAApB7a,SAAUT,EAAUsb,EAAVtb,MAC7BW,EAAWwF,IAAaoQ,EAC9B,OACEpY,IAAAC,cAAA,OAAKpB,UAAU,oBACbmB,IAAAC,cAAA,QAAM6C,GAAIT,GACPO,EAAEP,GAAQ2F,EAAW,IAAM,GAAG,KAEjChI,IAAAC,cAAC0C,IAAS,CACRN,MAAK,GAAA7B,OAAK6B,EAAK,UACfR,MAAOA,EACPS,SAAUA,EACVC,kBAAmBA,EACnBC,SAAUA,EACVC,gBAAiBD,EAAW,2BAAwBpC,EACpDsC,eAAgBL,KAqCXib,CAAgBH,GACzB,IAAK,SACH,OAlCoB,SAACA,GACzB,IAAMtb,EAAQ,CAAEA,MAAO+F,EAAgBjE,KAAMtB,MAAOuF,EAAgBjE,MACpE,OACE3D,IAAAC,cAAA,OAAKpB,UAAU,sBACbmB,IAAAC,cAAA,aACG2C,EAAEua,EAAM9a,OAAQ8a,EAAMnV,SAAW,IAAM,GAAG,KAE7ChI,IAAAC,cAAC8X,IAAiB,CAChBG,gBAAiBtV,EAAE,sCACnB6E,QAASG,EAAgB/D,kBAAkBwJ,KAAI,SAACkQ,GAAK,MAAM,CAAE1b,MAAO0b,EAAOlb,MAAOkb,MAClFjb,SAAU,SAACkb,GAAU,OAAKN,EAAoBC,EAAOK,IACrD3b,MAAOA,EACPuW,QAASA,EACT3Z,YAAamE,EAAEL,KAEjBvC,IAAAC,cAAA,OAAKpB,UAAU,qBAAqB+D,EAAE,0CAmB/B6a,CAAkBN,GAC3B,IAAK,kBACH,OAhBwB,SAACA,GAM7B,OAAOnd,IAAAC,cAACuZ,IAAwB,CAAC1G,gBALV,SAACtB,GACtB2L,EAAM7a,SAASkP,GACf,IAAQ3P,EAAU2P,EAAV3P,MACRmb,EAAwBpa,EAAE,qEAADpC,OAAsEqB,MAE/B0X,cAAe4D,EAAMtb,QAU5E6b,CAAsBP,GAC/B,QACE,OAAO,OAyEb,OACEnd,IAAAC,cAAAD,IAAA2d,SAAA,KACE3d,IAAAC,cAAA,OAAKpB,UAAU,gCACbmB,IAAAC,cAAA,OAAKpB,UAAU,eAAegd,KAC3BrX,EAAOsE,QACR9I,IAAAC,cAAAD,IAAA2d,SAAA,KACE3d,IAAAC,cAAA,OAAKpB,UAAU,oBACZ2F,EAAO6I,KAAI,SAAC8P,GAAK,OAChBnd,IAAAC,cAAA,OAAKpB,UAAU,cAAc4C,IAAK0b,EAAM9a,OACrCgb,EAAiBF,QAIxBnd,IAAAC,cAAC2d,IAAiB,OAGrBtB,IApFCW,GAoFsC1Y,EAAa0X,EAAeF,GApF7C1O,KAAI,SAACmE,GAAM,OAAKA,EAAO3P,OAAS,MAAI0L,KAAK,IAElEvN,IAAAC,cAAAD,IAAA2d,SAAA,KACE3d,IAAAC,cAAA,OAAKpB,UAAU,2BACbmB,IAAAC,cAAA,QAAMpB,UAAU,gBAAgB+D,EAAE,qCAClC5C,IAAAC,cAAC4d,IAAa,CACZpW,QAASlD,EAAa0X,EAAeF,EACrCpI,iBAAkBpP,EAAa2X,EAAuBF,EACtDva,IAAKwb,KAGTjd,IAAAC,cAAC2d,IAAiB,QAKC,SAACpY,GAAK,OAC7BxF,IAAAC,cAAA,OAAKpB,UAAU,wBACbmB,IAAAC,cAAA,MAAIpB,UAAU,iBAAiBiE,GAAG,kBAAkBF,EAAE,wCACtD5C,IAAAC,cAAA,OAAKoD,KAAK,QAAQF,kBAAgB,kBAC/BqC,EAAM6H,KAAI,SAACyQ,GAAI,OACd9d,IAAAC,cAACqb,IAAM,CACLxY,GAAIF,EAAEkb,EAAKzb,OACXxD,UAAU,sBACV4C,IAAKmB,EAAEkb,EAAKzb,OACZkZ,QAASuC,EAAK1W,UACd9E,SAAU,SAACS,GAAK,OAAK+a,EAAKxb,SAASS,EAAMC,OAAOuY,QAASuC,EAAKna,OAC9DtB,MAAOO,EAAEkb,EAAKzb,OACdqZ,eAAcoC,EAAK1W,eAGvBpH,IAAAC,cAACob,EAA2B,CAACF,UAAWA,EAAWC,qBAAsBA,MAsDxE2C,CAAiBvY,GAClBxF,IAAAC,cAAC2d,IAAiB,MAjDtB5d,IAAAC,cAAA,OAAKpB,UAAU,kBACbmB,IAAAC,cAAA,QAAMpB,UAAU,wBAAwB+D,EAAE,uCAC1C5C,IAAAC,cAAA,OAAKpB,UAAU,kCACbmB,IAAAC,cAAA,OAAKpB,UAAU,wBACbmB,IAAAC,cAAA,QAAM6C,GAAG,oBAAoBF,EAAE,mCAC/B5C,IAAAC,cAAA,SACE6C,GAAG,yBACH3D,KAAK,SACLuJ,IAAK,EACL7G,MAAOkC,EACPzB,SAAU,SAACyF,GAAC,OAAKoU,EAAcpU,EAAE/E,OAAOnB,QACxCoB,aAAW,yBACXE,kBAAgB,sBAGpBnD,IAAAC,cAAA,OAAKpB,UAAU,wBACbmB,IAAAC,cAAA,QAAM6C,GAAG,qBAAqBF,EAAE,oCAChC5C,IAAAC,cAAA,SACE6C,GAAG,oBACH3D,KAAK,SACLuJ,IAAK,EACL7G,MAAOmC,EACP1B,SAAU,SAACyF,GAAC,OAAKqU,EAAerU,EAAE/E,OAAOnB,QACzCoB,aAAW,0BACXE,kBAAgB,0BA4BtBnD,IAAAC,cAAA,OAAKpB,UAAU,0BACbmB,IAAAC,cAACqT,IAAM,CACLzU,UAAU,uBACV4U,QAASqI,EACTrB,YAAY,cACZpY,MAAOO,EAAE,gBACTxD,UAAWgZ,OAOrBwD,EAAehb,UAAY,CACzBmD,MAAOlD,IAAUmd,UAAU,CACzBnd,IAAUE,OACVF,IAAUod,SAEZja,OAAQnD,IAAUmd,UAAU,CAC1Bnd,IAAUE,OACVF,IAAUod,SAEZpC,WAAYhb,IAAUE,OACtByD,OAAQ3D,IAAUqd,MAAM5E,WACxB9T,MAAO3E,IAAUqd,MAAM5E,WACvBwC,wBAAyBjb,IAAUI,KAAKqY,WACxClB,QAASvX,IAAUG,KAAKsY,WACxB/W,kBAAmB1B,IAAUE,OAC7Bgb,YAAalb,IAAUqd,MACvBlC,oBAAqBnb,IAAUI,KAC/Bgb,aAAcpb,IAAUqd,MACxBhC,qBAAsBrb,IAAUI,KAChCsD,WAAY1D,IAAU6S,OACtByH,UAAWta,IAAU6S,OAAO4F,WAC5B6C,cAAetb,IAAUI,KAAKqY,WAC9B8C,eAAgBvb,IAAUI,KAAKqY,WAC/BgD,kBAAmBzb,IAAUG,KAC7B4G,gBAAiB/G,IAAU6S,OAC3B6I,uBAAwB1b,IAAUI,MAGrB2a,Q,slFC5Of,IAAAtY,EAA+B5B,OAAO6B,KAA9BC,EAAWF,EAAXE,YAAaC,EAAKH,EAALG,MAEf7C,EAAY,CAChB2D,WAAY1D,IAAU6S,QAGlByK,EAA0Bne,IAAMoe,MAAK,SAAA/f,GAAoB,IAAAggB,EAAjB9Z,EAAUlG,EAAVkG,WACpCG,EAAS8X,cAAT9X,KACF4Z,EAASC,aAAY,SAAC/F,GAAK,OAAKgG,IAAUC,cAAcjG,EAAOkG,IAAaC,qBAC5EC,EAAmBL,YAAYC,IAAUK,qBAAsBC,KAC/Dra,EAAqC8Z,aAAY,SAAC/F,GAAK,OAAKgG,IAAUO,kBAAkBvG,EAAO,+BAC/FwG,EAAsBT,YAAYC,IAAUQ,qBAC5CC,EAAkBV,YAAYC,IAAUU,oBACxCC,EAAeZ,YAAYC,IAAUY,gBAAiBN,KAE5DO,EAAoBxc,cAAZD,EAACyc,EAADzc,EAAG0c,EAAID,EAAJC,KACLC,EAAWC,cAEXC,EAAWC,cACXC,EAAiBR,EAAaQ,eAC9BC,EAAQC,cAE2D5L,EAAA3J,EAA3B4J,mBAASxQ,KAAkB,GAAlEkE,EAAeqM,EAAA,GAAE6L,EAAkB7L,EAAA,GAC4BG,EAAA9J,EAA1B4J,mBAASpQ,KAAiB,GAA/Dic,EAAc3L,EAAA,GAAE4L,EAAiB5L,EAAA,GACkBG,EAAAjK,EAAtB4J,mBAASjQ,KAAa,GAAnDwB,EAAU8O,EAAA,GAAE0L,EAAa1L,EAAA,GAI9BG,EAAApK,EAHgC4J,mBAAS,CACzCsH,eAAe,EACf0E,cAAe,KACf,GAHK/E,EAASzG,EAAA,GAAEyL,EAAYzL,EAAA,GAKcG,GAAAvK,EAAd4J,oBAAS,GAAK,GAArCkE,GAAOvD,GAAA,GAAEuL,GAAUvL,GAAA,GACoCwL,GAAA/V,EAAZ4J,mBAAS,IAAG,GAAvD3R,GAAiB8d,GAAA,GAAEC,GAAoBD,GAAA,GACxC1b,GAAcD,EAAKE,cACnB2b,GAAwB5b,cAAuBlB,EAAMkC,4BAA8BhB,cAAuBlB,EAAMuC,4BAEbwa,GAAAlW,EAAnE4J,mBAASqM,GAAwB5b,GAAY8b,SAAShZ,QAAU,IAAG,GAAlGsU,GAAWyE,GAAA,GAAEE,GAAcF,GAAA,GACmDG,GAAArW,EAA7C4J,mBAAsC,QAA9BmK,EAAC9Z,aAAU,EAAVA,EAAYqc,yBAAiB,IAAAvC,IAAI,IAAG,GAA9EpC,GAAY0E,GAAA,GAAEE,GAAeF,GAAA,GACUG,GAAAxW,EAAV4J,qBAAU,GAAvC2H,GAAUiF,GAAA,GAAEC,GAAaD,GAAA,GAChC,SAASE,KACPzB,EAAS0B,IAAQC,cAAcxC,IAAayC,iBAAkBC,MAC9D7B,EAAS0B,IAAQI,aAAa3C,IAAaC,mBAC3CmB,EAAmBpc,KACnBsc,EAAkBlc,KAClBmc,EAAchc,KACdkc,EAAa,CACX3E,eAAe,EACf0E,cAAe,KAEjBa,GAAc,IACdX,IAAW,GAGb,IAAMja,GAA2BzB,EAAK0B,8BAEhCkb,GAAuB,SAACC,GAC5B,IAAMhO,EAAQqL,EAAiB2C,GAAUhO,MACzCwN,GAAc,GAADvgB,OAAIoC,EAAE2Q,GAAM,KAAA/S,OAAIoC,EAAE,+BAG3B4e,GAAiCzO,uBAAY,SAACxO,GAClDG,EAAK+c,kBAAkB,CAACld,MACvB,IAEGmd,GAAuB3O,uBAAY,SAAC4O,GACxC,GAAIA,aAAmBle,EAAMme,oBAAqB,CAChD,IAAAC,EAAgIvb,YAAcqb,EAAQhe,OAAS,GAAvJ8D,EAAOoa,EAAPpa,QAAUjC,EAAKqc,EAALrc,MAAKsc,EAAAD,EAAEE,MAAOhe,OAAK,IAAA+d,EAAG,EAACA,EAAAE,EAAAH,EAAEI,OAAQje,OAAM,IAAAge,EAAG,EAACA,EAAAE,EAAAL,EAAEje,oBAAY,IAAAse,EAAG,GAAEA,EAAAC,EAAAN,EAAE3B,qBAAa,IAAAiC,EAAG,GAAEA,EAAAC,EAAAP,EAAErG,qBAAa,IAAA4G,GAAQA,EAC3HtC,GAAmB,SAAChF,GAAI,OAAAjD,IAAA,GAAWiD,GAAI,IAAElX,oBACzCoc,EAAkB,CAAEjc,QAAOC,WAC3Bic,EAAc,CACZ/b,UAAUsB,aAAK,EAALA,EAAO2B,aAAa,EAC9B/C,UAAUoB,aAAK,EAALA,EAAO8B,YAAY,EAC7BnD,WAAWqB,aAAK,EAALA,EAAO6c,aAAa,EAC/Bhe,aAAamB,aAAK,EAALA,EAAO+B,gBAAgB,IAEtCmZ,GAAejZ,GACf0Y,EAAa,CAAE3E,gBAAe0E,kBAC9BoB,GAAqBK,EAAQhe,WAE7Bqd,OAED,CAACpC,EAAkBU,EAAKgD,WAE3B5V,qBAAU,WACR,IAAM/H,EAAcD,EAAKE,cACzB0c,GAAqB3c,EAAYhB,QAChC,CAAC2b,EAAKgD,WAET5V,qBAAU,WACR6V,KAEA,IAAMC,EAAiC,WACrC1C,GAAmB,SAAClY,GAAe,OAAAiQ,IAAA,GAC9BjQ,GAAe,IAClB/D,kBAAmBsC,GAAyBsc,6BAG1CC,EAAuB,SAAC9b,EAAa+b,GACzC,GAAe,eAAXA,EAAyB,CAC3B,IAAMhe,EAAcD,EAAKE,cACKD,aAAuBlB,EAAMme,oBAEzDF,GAAqB/c,GAErBie,YAAW,WACJre,GACHyc,OAED,OAQT,OAHAtc,EAAKme,iBAAiB,+BAAgCL,GACtD9d,EAAKme,iBAAiB,kBAAmBnB,IACzChd,EAAKme,iBAAiB,qBAAsBH,GACrC,WACLhe,EAAKoe,oBAAoB,+BAAgCN,GACzD9d,EAAKoe,oBAAoB,qBAAsBJ,GAC/Che,EAAKoe,oBAAoB,kBAAmBpB,OAE7C,IAEH,IASMa,GAAsC,WAC1C,IAGMQ,EAHere,EAAKse,qBAAqBzN,QAAO,SAAChR,GACrD,OAAOA,aAAsBf,EAAYsB,+BAEVuI,KAAI,SAAC4V,GAAW,OAAKA,EAAYvG,WAAW/Y,QACvEuf,EAAkB1V,EAAQ,IAAI+I,IAAG/I,EAAKuV,KAC5CjD,GAAmB,SAACqD,GAAuB,OAAAtL,IAAA,GACtCsL,GAAuB,IAC1Btf,kBAAmBqf,QAIjBE,GAA6B,SAACzf,GAClC4e,KACAzC,GAAmB,SAACqD,GAAuB,OAAAtL,IAAA,GACtCsL,GAAuB,IAC1Bxf,aAIJ+I,qBAAU,WACR,GAAK4R,EAGL,GAAK/Z,EAAL,EAjC4B,SAACA,GAC7B,IAAMkD,EAAUlD,EAAWqc,kBACJ,IAAnBnZ,EAAQqB,QAAqC,KAArBrB,EAAQ,GAAG5F,OAA4C,KAA5B4F,EAAQ,GAAG0L,aAChE0N,GAAgB,IAEhBA,GAAgBpZ,GAgClB4b,CAAsB9e,GACtB,IAAM+e,EAAe/e,EAAWgf,gBAChCC,EAAyDhgB,EAAYigB,YAA7Dtc,EAASqc,EAATrc,UAAWkb,EAASmB,EAATnB,UAAW/a,EAAQkc,EAARlc,SAAUC,EAAYic,EAAZjc,aAClC4V,EAAQ5Y,EAAWmY,WACnBgH,EAAYvG,EAAMxZ,KAClBggB,EAAe/b,EAAgB/D,kBAC/B+f,EAAmBC,QAAQH,GAC3BnhB,EAAoBqhB,EAAmB,GAAK,8CAElDxD,GAAWwD,GACX5D,EAAkB,CAAEjc,MAAO+f,SAASvf,EAAWwd,OAAQ/d,OAAQ8f,SAASvf,EAAW0d,UACnFnC,GAAmB,SAAChF,GAAI,OAAAjD,IAAA,GACnBiD,GAAI,IACPnX,KAAM+f,EAGN9f,aAAcuZ,EAAMvZ,aACpBC,kBAAiB2J,EAAM,IAAI+I,IAAI,GAAD/V,OAAAgN,EAAKmW,GAAYnW,EAAKrH,GAAyBsc,gCAE/ExC,EAAc,CACZ/b,SAAUof,EAAanc,KAAc,EACrChD,UAAWmf,EAAajB,KAAc,EACtCje,SAAUkf,EAAahc,KAAa,EACpCjD,YAAaif,EAAa/b,KAAiB,IAE7C4Y,EAAa,CACX3E,cAAerV,GAAyB4d,iBAAiBxf,GACzD2b,cAAe/Z,GAAyB6d,iBAAiBzf,KAE3Dwc,GAAcne,EAAE,4BAADpC,OAA6B2c,EAAMR,kBAClD2D,GAAqB/d,QAjCnBmf,GAAqBhd,EAAKE,iBAkC3B,CAAC0Z,EAAQ/Z,EAAYqb,EAAON,EAAKgD,WAEpC,IA6LQzd,GACAof,GACA3H,GA/LF5U,GAAoBqL,uBAAY,SAACpP,GACrC,IAAMugB,EAAoB/d,GAAyBge,aAAa5f,EAAYZ,GAC5Eyc,GAAW8D,EAAkB9L,SAC7B,IAAMgM,EAAqBC,YAAmCH,GAC9D5D,GAAqB8D,GACrBtE,GAAmB,SAACqD,GAAuB,OAAAtL,IAAA,GACtCsL,GAAuB,IAC1Bxf,YAEF2gB,OACC,CAAC/f,IAEE+f,GAAgCvR,uBAAY,WAChD,GAAIxO,GAAcA,aAAsBf,EAAYsB,4BAA6B,CAC/E,IAAMwe,EAAe/e,EAAWmY,WAAWlX,MAC3C+e,EAAgC/gB,EAAYigB,YAApCtc,EAASod,EAATpd,UAAWG,EAAQid,EAARjd,SACnB2Y,GAAc,SAACza,GAAK,OAAAqS,IAAA,GACfrS,GAAK,IACRtB,SAAUof,EAAarN,IAAI9O,KAAc,EACzC/C,SAAUkf,EAAarN,IAAI3O,KAAa,UAG3C,CAAC/C,IAEE2C,GAAmB6L,uBAAY,SAAClR,EAAO2iB,GAK3C,GAJAvE,GAAc,SAACwE,GAAkB,OAAA5M,IAAA,GAC5B4M,GAAkB,GAAApb,EAAA,GACpB7F,EAAYigB,YAAYe,GAAY3iB,OAEnC0C,EACFA,EAAWmgB,aAAalhB,EAAYigB,YAAYe,GAAW3iB,OACtD,CACL,IAAM8C,EAAcD,EAAKE,cACnByB,EAAaC,YAAc3B,EAAYhB,MACvC6B,EAAKqS,EAAA,GAAQxR,aAAU,EAAVA,EAAYb,OAC/BA,EAAMgf,GAAY3iB,EAClB8iB,YAAchgB,EAAYhB,KAAM,QAAS6B,MAE1C,CAACjB,IAEEoD,GAAqBoL,uBAAY,SAACnP,GAKtC,GAJAkc,GAAmB,SAACqD,GAAuB,OAAAtL,IAAA,GACtCsL,GAAuB,IAC1Bvf,oBAEEW,EACFA,EAAWmY,WAAW9Y,aAAeA,MAChC,CACL,IAAMe,EAAcD,EAAKE,cACzB+f,YAAchgB,EAAYhB,KAAM,eAAgBC,MAEjD,CAACW,IAEE2X,GAAuBnJ,uBAAY,SAACtL,GACxClD,EAAWsc,gBAAgBpZ,KAC1B,CAACwU,GAAc1X,IAEZyX,GAAsBjJ,uBAAY,SAACtL,GACnB/C,EAAKE,cACb6b,SAAShZ,QAAUA,KAG3Bmd,GAA6B7R,uBAAY,SAACyI,GAK9C,GAJA2E,GAAa,SAAC0E,GAAiB,OAAAhN,IAAA,GAC1BgN,GAAiB,IACpBrJ,qBAEEjX,EACF4B,GAAyB2e,iBAAiBvgB,EAAYiX,OACjD,CACL,IAAM7W,EAAcD,EAAKE,cACzB+f,YAAchgB,EAAYhB,KAAM,gBAAiB6X,MAElD,CAACjX,IAEEwgB,GAA6BhS,uBAAY,SAACmN,GAK9C,GAJAC,GAAa,SAAC0E,GAAiB,OAAAhN,IAAA,GAC1BgN,GAAiB,IACpB3E,qBAEE3b,EACF4B,GAAyB6e,iBAAiBzgB,EAAY2b,OACjD,CACL,IAAMvb,EAAcD,EAAKE,cACzB+f,YAAchgB,EAAYhB,KAAM,gBAAiBuc,MAElD,CAAC3b,IAEEuX,GAA0B/I,uBAAY,WAC1CiO,OACC,IAEG7E,GAAgB,SAAC8I,GACrB,GAAI1gB,EAAY,CACd,IAAM2gB,EAAiB7c,YAAkB4c,EAAUje,YAAatC,GAAOH,EAAW4gB,GAClF5gB,EAAW6gB,SAASF,GACpBlF,GAAkB,SAACqF,GAAsB,OAAAxN,IAAA,GACpCwN,GAAsB,IACzBthB,MAAOmhB,OAET1e,YAAiBjC,EAAYG,GAC7BiC,YAAwC,CAACpC,GAAaG,OACjD,CACLsb,GAAkB,SAACqF,GAAsB,OAAAxN,IAAA,GACpCwN,GAAsB,IACzBthB,MAAOkhB,OAET,IAAMtgB,EAAcD,EAAKE,cACzB+f,YAAchgB,EAAYhB,KAAM,QAASshB,KAIvC7I,GAAiB,SAACkJ,GACtB,GAAI/gB,EAAY,CACd,IAAMghB,EAAkBld,YAAkBid,EAAWxe,YAAcpC,GAAOH,EAAWihB,GACrFjhB,EAAWkhB,UAAUF,GACrBvF,GAAkB,SAACqF,GAAsB,OAAAxN,IAAA,GACpCwN,GAAsB,IACzBrhB,OAAQuhB,OAEV/e,YAAiBjC,EAAYG,GAC7BiC,YAAwC,CAACpC,GAAaG,OACjD,CACLsb,GAAkB,SAACqF,GAAsB,OAAAxN,IAAA,GACpCwN,GAAsB,IACzBrhB,OAAQshB,OAEV,IAAM3gB,EAAcD,EAAKE,cACzB+f,YAAchgB,EAAYhB,KAAM,SAAU2hB,KAIxCI,GAAyB3S,uBAAY,SAAC4S,GAC3BA,EAEbje,GAFaie,EAEYjJ,WAAW/Y,MAEpC6d,GAA+BmE,GAEjC7J,OACC,IAEG8J,GAA0B7S,uBAAY,WACtCqF,KAAgF,IAArExQ,EAAgB/D,kBAAkBgiB,QAAQje,EAAgBjE,OAAyC,KAAzBiE,EAAgBjE,MACvGmc,GAAmB,SAACqD,GAAuB,OAAAtL,IAAA,GACtCsL,GAAuB,IAC1Btf,kBAAmB,CAAC+D,EAAgBjE,MAAInD,OAAAgN,EAAK2V,EAAwBtf,yBAGzEmd,OACC,CAACpZ,IAEEC,GAA0BkL,uBAAY,SAAC+S,GAC3C,IAAQjkB,EAAUikB,EAAVjkB,MACR,GAAI0C,EACF4B,GAAyB4f,mBAAmBxhB,EAAY1C,OACnD,CACL,IAAM8C,EAAcD,EAAKE,cACzB+f,YAAchgB,EAAYhB,KAAM,gBAAiB9B,MAElD,CAAC0C,IAEEyhB,GAAsB,WAC1BzG,EAAS0B,IAAQI,aAAa3C,IAAaC,oBAavClX,GAAU,CAAEC,qBAAmBC,sBAAoBC,kBAAiBC,2BAAyB5B,uBAAoB1B,cACjHC,GAASgD,YAAaC,GAAS/C,GAC/Bc,GAAQyB,YAAYC,GAAkBzB,GAEtCwgB,GAAiB,CACrB5jB,MAAO,iDACPoZ,gBAAiBmJ,GACjBxd,UAAW+T,EAAUK,cACrBlZ,SAAUyiB,GACVljB,MAAOsZ,EAAU+E,eAmCnB,OACElgB,IAAAC,cAACua,IAAkB,CAACC,YAAaiE,IAAaC,iBAAkB9f,UAC9DyB,IAAU+I,IAAC,CACT,OAAS,EACT,gBAAkB,GACjB4V,EAAkBQ,GACnB,mBAAoBE,MAGpBX,GAAuBS,GA7DzBzf,IAAAC,cAAA,OAAKpB,UAAU,mBACbmB,IAAAC,cAAA,UAAQpB,UAAU,uBAAuB4U,QAASuS,IAChDhmB,IAAAC,cAACC,IAAI,CAACC,MAAM,sBAAsBtB,UAAU,kBAmB5CgG,GAAcP,YAAoBC,EAAYC,GAAQC,EAAoCC,GAC1Fuf,GAAa1e,YAAoBhB,EAAYiB,GAAOd,GACpD4X,GAAoB1W,YAAmBrB,EAAYG,GAGvD1E,IAAAC,cAAC2b,EAAc,CACb7X,MAAOgc,EAAehc,MACtBC,OAAQ+b,EAAe/b,OACvBoU,QAASA,GACTyD,WAAYA,GACZrX,OAAQK,GACRW,MAAOye,GACP1hB,kBAAmBA,GACnBqF,gBAAiBA,EACjB2U,uBAAwB6G,GACxBlH,qBAAsBA,GACtBD,aAAcA,GACdD,oBAAqBA,GACrBD,YAAaA,GACbxX,WAAYA,EACZiC,iBAAkBA,IAClB2V,cAAeA,GACfC,eAAgBA,GAChBjB,UAAW8K,GACXP,uBAAwBA,GACxB5J,wBAAyB8J,GACzBtJ,kBAAmBA,UAoB3B6B,EAAwBxd,YAAc,0BACtCwd,EAAwBvd,UAAYA,EAErBud,QChdAvC","file":"chunks/chunk.33.js","sourcesContent":["import React, { forwardRef, useMemo } from 'react';\nimport classNames from 'classnames';\nimport useFocus from 'hooks/useFocus';\nimport Icon from 'components/Icon';\nimport './Input.scss';\nimport PropTypes from 'prop-types';\n\nconst Input = forwardRef(({\n  message = 'default',\n  messageText,\n  fillWidth,\n  wrapperClassName,\n  padMessageText,\n  className,\n  onFocus,\n  onBlur,\n  rightElement,\n  leftElement,\n  type = 'text',\n  disabled,\n  ...props\n}, ref) => {\n  const { focused, handleOnFocus, handleOnBlur } = useFocus(onFocus, onBlur);\n\n  const rightIcon = useMemo(() => {\n    if (rightElement) {\n      return rightElement;\n    }\n\n    let icon;\n    if (message === 'warning') {\n      icon = 'icon-alert';\n    } else if (message === 'error') {\n      icon = 'icon-error';\n    }\n\n    return icon ? <Icon className=\"ui__input__icon\" glyph={icon} /> : undefined;\n  }, [message, rightElement]);\n\n  const wrapperClass = classNames(\n    'ui__base',\n    'ui__input__wrapper',\n    {\n      'ui__input__wrapper--fill': fillWidth,\n      'ui__input__wrapper--pad': padMessageText && !messageText,\n    },\n    wrapperClassName,\n  );\n\n  const mainClass = classNames(\n    'ui__input',\n    `ui__input--message-${message}`,\n    { 'ui__input--focused': focused }\n  );\n\n  const inputClass = classNames(\n    'ui__input__input',\n    { 'ui__input__input--disabled': disabled },\n    className\n  );\n\n  return (\n    <div className={wrapperClass}>\n      <div className={mainClass}>\n        {leftElement}\n        <input\n          {...props}\n          type={type}\n          onFocus={handleOnFocus}\n          onBlur={handleOnBlur}\n          className={inputClass}\n          disabled={disabled}\n          ref={ref}\n        />\n        {rightIcon}\n      </div>\n      {messageText && <div className=\"ui__input__messageText\">{messageText}</div>}\n    </div>\n  );\n});\n\nInput.displayName = 'Input';\n\nInput.propTypes = {\n  message: PropTypes.oneOf(['default', 'warning', 'error']),\n  messageText: PropTypes.string,\n  fillWidth: PropTypes.bool,\n  wrapperClassName: PropTypes.string,\n  padMessageText: PropTypes.bool,\n  className: PropTypes.string,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  rightElement: PropTypes.node,\n  leftElement: PropTypes.node,\n  type: PropTypes.string,\n  disabled: PropTypes.bool,\n};\nexport default Input;\n","import Input from './Input';\n\nexport default Input;","import React, { useMemo } from 'react';\nimport createCache from '@emotion/cache';\nimport { CacheProvider } from '@emotion/react'; // Emotion's CacheProvider\nimport getRootNode from 'helpers/getRootNode';\n\nconst ReactSelectWebComponentProvider = ({ children }) => {\n  // Memoize the cache so it's created only once per container (shadow DOM root)\n  const emotionCache = useMemo(() => {\n    const container = getRootNode(); // Ensure we get the root node of the shadow DOM\n    return createCache({\n      key: 'wv-react-select-emotion', // Unique key for the cache\n      container, // Set the container to the shadow DOM root for styles insertion\n    });\n  }, []);\n\n  // Render with CacheProvider for emotion when inside a web component\n  return window.isApryseWebViewerWebComponent ? (\n    <CacheProvider value={emotionCache}>\n      {children}\n    </CacheProvider>\n  ) : (\n    children\n  );\n};\n\nexport default ReactSelectWebComponentProvider;","import ReactSelectWebComponentProvider from './ReactSelectWebComponentProvider';\n\nexport default ReactSelectWebComponentProvider;","import { u as useStateManager } from './useStateManager-7e1e8489.esm.js';\nexport { u as useStateManager } from './useStateManager-7e1e8489.esm.js';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { forwardRef, useMemo } from 'react';\nimport { S as Select } from './Select-c7902d94.esm.js';\nexport { c as createFilter, d as defaultTheme, m as mergeStyles } from './Select-c7902d94.esm.js';\nimport { CacheProvider } from '@emotion/react';\nimport createCache from '@emotion/cache';\nexport { c as components } from './index-a301f526.esm.js';\nimport '@babel/runtime/helpers/objectSpread2';\nimport '@babel/runtime/helpers/slicedToArray';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/createSuper';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'memoize-one';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\nimport '@floating-ui/dom';\nimport 'use-isomorphic-layout-effect';\n\nvar StateManagedSelect = /*#__PURE__*/forwardRef(function (props, ref) {\n  var baseSelectProps = useStateManager(props);\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    ref: ref\n  }, baseSelectProps));\n});\nvar StateManagedSelect$1 = StateManagedSelect;\n\nvar NonceProvider = (function (_ref) {\n  var nonce = _ref.nonce,\n    children = _ref.children,\n    cacheKey = _ref.cacheKey;\n  var emotionCache = useMemo(function () {\n    return createCache({\n      key: cacheKey,\n      nonce: nonce\n    });\n  }, [cacheKey, nonce]);\n  return /*#__PURE__*/React.createElement(CacheProvider, {\n    value: emotionCache\n  }, children);\n});\n\nexport { NonceProvider, StateManagedSelect$1 as default };\n","import React from 'react';\nimport { components } from 'react-select';\nimport Icon from 'components/Icon';\n\nconst ReactSelectCustomArrowIndicator = (props) => {\n  const { selectProps } = props;\n  const { menuIsOpen } = selectProps;\n  return (\n    <components.IndicatorsContainer {...props}>\n      <Icon className=\"arrow\" glyph={`icon-chevron-${menuIsOpen ? 'up' : 'down'}`} />\n    </components.IndicatorsContainer>\n  );\n};\n\nexport default ReactSelectCustomArrowIndicator;","import ReactSelectCustomArrowIndicator from './ReactSelectCustomArrowIndicator';\n\nexport default ReactSelectCustomArrowIndicator;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport Icon from 'components/Icon';\nimport classNames from 'classnames';\nimport './TextInput.scss';\n\nconst propTypes = {\n  label: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n  validationMessage: PropTypes.string,\n  hasError: PropTypes.bool,\n  ariaDescribedBy: PropTypes.string,\n  ariaLabelledBy: PropTypes.string,\n};\n\nconst TextInput = ({\n  label,\n  value,\n  onChange,\n  validationMessage,\n  hasError,\n  ariaDescribedBy,\n  ariaLabelledBy,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"input-container\">\n      <div className='input-wrapper'>\n        <input\n          className={classNames({\n            'text-input': true,\n            'text-input--error': hasError,\n          })}\n          id={label}\n          type='text'\n          onChange={(event) => onChange(event.target.value)}\n          aria-label={label}\n          value={value}\n          aria-describedby={hasError ? { ariaDescribedBy } : undefined}\n          aria-labelledby={ariaLabelledBy}\n        />\n        {hasError && <Icon glyph=\"icon-alert\" />}\n      </div>\n      {hasError && (\n        <div id=\"TextInputError\" className=\"text-input-error\">\n          <p aria-live=\"assertive\" className=\"no-margin\" role=\"alert\" >{t(validationMessage)}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nTextInput.propTypes = propTypes;\n\nexport default TextInput;","import TextInput from './TextInput';\n\nexport default TextInput;","import getToolStyles from 'src/helpers/getToolStyles';\n\nconst { Annotations, Tools } = window.Core;\n\nexport const defaultProperties = {\n  name: '',\n  defaultValue: '',\n  radioButtonGroups: [],\n};\n\nexport const defaultDimension = {\n  width: 0,\n  height: 0,\n};\n\nexport const defaultFlags = {\n  ReadOnly: false,\n  Multiline: false,\n  Required: false,\n  MultiSelect: false,\n};\n\nexport const handleFieldCreation = (annotation, fields, isSignatureOptionsDropdownDisabled, core) => {\n  const currentTool = core.getToolMode();\n  const panelFields = [];\n\n  switch (true) {\n    case annotation instanceof Annotations.RadioButtonWidgetAnnotation:\n      panelFields.push(fields['RADIO_GROUP']);\n      break;\n    case !!annotation:\n      panelFields.push(fields['NAME']);\n      break;\n  }\n\n  switch (true) {\n    case annotation instanceof Annotations.SignatureWidgetAnnotation && !isSignatureOptionsDropdownDisabled:\n    case currentTool instanceof Tools.SignatureFormFieldCreateTool && !isSignatureOptionsDropdownDisabled:\n      panelFields.push(fields['SIGNATURE_OPTION']);\n      break;\n  }\n\n  const noneSelected = !annotation;\n  const isTextWidgetSelected = annotation instanceof Annotations.TextWidgetAnnotation;\n  const isTextFormFieldToolSelected = currentTool instanceof Tools.TextFormFieldCreateTool;\n\n  const showDefaultValueInput = (\n    isTextWidgetSelected ||\n    // This handles an edge case where if the text field tool is active but a non-text widget is selected\n    // it will incorrectly show the default value input for the wrong widget type.\n    (isTextFormFieldToolSelected && (isTextWidgetSelected || noneSelected))\n  );\n\n  if (showDefaultValueInput) {\n    panelFields.push(fields['DEFAULT_VALUE']);\n  }\n\n  return panelFields;\n};\n\nexport const handleFlagsCreation = (annotation, flags, core) => {\n  const fieldFlags = [flags['READ_ONLY'], flags['REQUIRED']];\n  const currentTool = core.getToolMode();\n\n  switch (true) {\n    case annotation instanceof Annotations.TextWidgetAnnotation:\n    case currentTool instanceof Tools.TextFormFieldCreateTool:\n      fieldFlags.push(flags['MULTI_LINE']);\n      break;\n    case annotation instanceof Annotations.ListWidgetAnnotation:\n    case currentTool instanceof Tools.ListBoxFormFieldCreateTool:\n      fieldFlags.push(flags['MULTI_SELECT']);\n      break;\n  }\n  return fieldFlags;\n};\n\nexport const isRenderingOptions = (annotation, core) => {\n  const currentTool = core.getToolMode();\n  const isRenderingOptionsForWidget = annotation instanceof Annotations.ListWidgetAnnotation || annotation instanceof Annotations.ChoiceWidgetAnnotation;\n  const isToolWithFieldOptions = currentTool instanceof Tools.ComboBoxFormFieldCreateTool || currentTool instanceof Tools.ListBoxFormFieldCreateTool;\n  const isRenderingOptionsForTool = (!annotation || isRenderingOptionsForWidget) && isToolWithFieldOptions;\n  return isRenderingOptionsForTool || isRenderingOptionsForWidget;\n};\n\nexport const getSignatureOption = (widget, core) => {\n  const formFieldCreationManager = core.getFormFieldCreationManager();\n  if (widget) {\n    return formFieldCreationManager.getSignatureOption(widget);\n  }\n  const currentTool = core.getToolMode();\n  const toolStyles = getToolStyles(currentTool.name);\n  return toolStyles?.signatureType || '';\n};\n\nexport const redrawAnnotation = (annotation, core) => {\n  core.getAnnotationManager().drawAnnotationsFromList([annotation]);\n};\n\nexport const triggerAnnotationChangedEventWithModify = (annotations, core) => {\n  core.getAnnotationManager().trigger('annotationChanged', [\n    annotations,\n    'modify',\n    {}\n  ]);\n};\n\nexport const getPageHeight = (core) => {\n  return core.getPageHeight(core.getCurrentPage());\n};\n\nexport const getPageWidth = (core) => {\n  return core.getPageWidth(core.getCurrentPage());\n};\n\nexport const createFlags = (handleFlagChange, fieldFlags) => {\n  return {\n    READ_ONLY: {\n      label: 'formField.formFieldPopup.readOnly',\n      name: 'READ_ONLY',\n      onChange: handleFlagChange,\n      isChecked: fieldFlags.ReadOnly,\n    },\n    MULTI_LINE: {\n      label: 'formField.formFieldPopup.multiLine',\n      name: 'MULTILINE',\n      onChange: handleFlagChange,\n      isChecked: fieldFlags.Multiline,\n    },\n    REQUIRED: {\n      label: 'formField.formFieldPopup.required',\n      name: 'REQUIRED',\n      onChange: handleFlagChange,\n      isChecked: fieldFlags.Required,\n    },\n    MULTI_SELECT: {\n      name: 'MULTI_SELECT',\n      label: 'formField.formFieldPopup.multiSelect',\n      onChange: handleFlagChange,\n      isChecked: fieldFlags.MultiSelect,\n    },\n  };\n};\n\nexport const createFields = (options, core) => {\n  const { onFieldNameChange, onFieldValueChange, fieldProperties, onSignatureOptionChange, getSignatureOption, annotation } = options;\n  return {\n    NAME: {\n      label: 'formField.formFieldPopup.fieldName',\n      onChange: (e) => onFieldNameChange(e, core),\n      value: fieldProperties.name,\n      required: true,\n      type: 'text',\n      focus: true,\n    },\n    DEFAULT_VALUE: {\n      label: 'formField.formFieldPopup.fieldValue',\n      onChange: (e) => onFieldValueChange(e, core),\n      value: fieldProperties.defaultValue,\n      type: 'text',\n    },\n    RADIO_GROUP: {\n      label: 'formField.formFieldPopup.fieldName',\n      onChange: (e) => onFieldNameChange(e, core),\n      value: fieldProperties.name,\n      required: true,\n      type: 'select',\n    },\n    SIGNATURE_OPTION: {\n      label: 'formField.formFieldPopup.signatureOption',\n      onChange: (e) => onSignatureOptionChange(e, core),\n      value: getSignatureOption(annotation, core),\n      required: false,\n      type: 'signatureOption',\n    },\n  };\n};\n\nexport const validateDimension = (value, documentSize, annotationOffset) => {\n  const maxDimension = documentSize - annotationOffset;\n  return Math.min(value, maxDimension);\n};","export default ({ errorType }) => {\n  switch (errorType) {\n    case 'empty':\n      return 'formField.formFieldPopup.invalidField.empty';\n    case 'duplicate':\n      return 'formField.formFieldPopup.invalidField.duplicate';\n  }\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","import React, { useRef, useCallback } from 'react';\nimport Button from '../Button';\nimport { useDrag, useDrop } from 'react-dnd';\nimport Icon from 'components/Icon';\nimport PropTypes from 'prop-types';\n\nimport './CreatableList.scss';\n\nconst CreatableListItem = ({\n  option,\n  index,\n  onChange,\n  onDeleteItem,\n  moveListItem,\n  id,\n  addItem,\n  invalid,\n}) => {\n  const ItemTypes = {\n    ITEM: 'item'\n  };\n\n  const ref = useRef(null);\n\n  const [, drop] = useDrop({\n    accept: ItemTypes.ITEM,\n    hover(item, monitor) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = index;\n\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n\n      // Determine rectangle on screen\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\n\n      // Get vertical middle\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n\n      // Determine mouse position\n      const clientOffset = monitor.getClientOffset();\n\n      // Get pixels to the top\n      const hoverClientY = (clientOffset).y - hoverBoundingRect.top;\n\n      // Only perform the move when the mouse has crossed half of the items height\n      // When dragging downwards, only move when the cursor is below 50%\n      // When dragging upwards, only move when the cursor is above 50%\n\n      // Dragging downwards\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n\n      // Dragging upwards\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n\n      // Time to actually perform the action\n      moveListItem(dragIndex, hoverIndex);\n\n      // Note: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n      item.index = hoverIndex;\n    },\n  });\n\n  const [{ isDragging }, drag] = useDrag({\n    type: ItemTypes.ITEM,\n    item: { type: ItemTypes.ITEM, id, index },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const onChangeHandler = useCallback((event) => {\n    onChange(event.target.value);\n  }, [onChange]);\n\n  const addNewItemOnEnterKey = useCallback((event) => {\n    if (event.key === 'Enter') {\n      addItem();\n    }\n  }, [addItem]);\n\n  drag(drop(ref));\n\n  const opacity = isDragging ? 0 : 1;\n\n  return (\n    <div ref={ref} style={{ opacity }} className=\"creatable-list-item\">\n      <div className=\"icon-handle\">\n        <Icon\n          glyph=\"icon-drag-handle\"\n        />\n      </div>\n      <div className='input-wrapper'>\n        <input\n          type=\"text\"\n          className={invalid ? 'invalid' : ''}\n          onChange={onChangeHandler}\n          value={option.displayValue}\n          onKeyPress={addNewItemOnEnterKey}\n          autoFocus\n        />\n        {invalid && <Icon glyph=\"icon-alert\" />}\n      </div>\n      <Button\n        title=\"action.delete\"\n        img=\"icon-delete-line\"\n        onClick={onDeleteItem}\n      />\n    </div>\n  );\n};\n\nconst propTypes = {\n  option: PropTypes.object,\n  invalid: PropTypes.bool,\n};\nCreatableListItem.propTypes = propTypes;\n\nexport default CreatableListItem;","import React, { useEffect, useState, useCallback, useRef } from 'react';\nimport Button from '../Button';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport CreatableListItem from './CreatableListItem';\n\nimport './CreatableList.scss';\n\nconst propTypes = {\n  options: PropTypes.object,\n  onOptionsUpdated: PropTypes.func,\n  popupRef: PropTypes.object\n};\n\nconst CreatableListContainer = ({\n  options,\n  onOptionsUpdated,\n  popupRef,\n}) => {\n\n  const isInitialized = useRef(false);\n\n  useEffect(() => {\n    isInitialized.current = false;\n  }, [onOptionsUpdated]);\n\n  useEffect(() => {\n    setItems(draggableItems);\n  }, [options]);\n\n  const { t } = useTranslation();\n\n  // In order to be draggable, each item needs a unique Id\n  // These are managed internally in this component and not exposed to the user\n  const draggableItems = options.map((option, index) => {\n    return {\n      id: index,\n      displayValue: option.displayValue,\n      value: option.value,\n    };\n  });\n  const [items, setItems] = useState(draggableItems);\n  const [nextId, setNextId] = useState(draggableItems.length);\n  const [invalidInputList, setInvalidInputList] = useState([]);\n  const [inputListHasEmptyValue, setInputListHasEmptyValue] = useState(false);\n  const [inputListDuplicateValues, setInputListDuplicateValues] = useState([]);\n  const containerRef = useRef();\n\n  useEffect(() => {\n    // Skip calling onOptionsUpdated on the initial prop-driven update\n    if (isInitialized.current) {\n      const { invalidItems, hasEmpty, duplicates } = validateItems();\n\n      setInvalidInputList(invalidItems);\n      setInputListHasEmptyValue(hasEmpty);\n      setInputListDuplicateValues(Array.from(duplicates));\n\n      const filteredOptions = items.filter((item) => item.value && !invalidInputList.includes(item));\n      const sanitizedOptions = filteredOptions.map((item) => ({ value: item.value, displayValue: item.displayValue }));\n      onOptionsUpdated(sanitizedOptions);\n    } else {\n      setInvalidInputList([]);\n      isInitialized.current = true;\n    }\n  }, [items, onOptionsUpdated]);\n\n  const getCounts = useCallback(() => {\n    const valueCounts = new Map();\n    for (const item of items) {\n      const { value } = item;\n      if (!value) {\n        continue;\n      }\n      const count = valueCounts.get(value) || 0;\n      valueCounts.set(value, count + 1);\n    }\n    return valueCounts;\n  }, [items]);\n\n  const identifyInvalidItems = useCallback((counts) => {\n    const invalidItems = [];\n    let hasEmpty = false;\n    const duplicates = new Set();\n    for (const item of items) {\n      const { value } = item;\n      if (value && counts.get(value) > 1) {\n        invalidItems.push(item);\n        duplicates.add(value);\n      } else if (!value) {\n        hasEmpty = true;\n        invalidItems.push(item);\n      }\n    }\n    return { invalidItems, hasEmpty, duplicates };\n  }, [items]);\n\n  const validateItems = useCallback(() => {\n    const valueCounts = getCounts();\n    return identifyInvalidItems(valueCounts);\n  }, [items]);\n\n  const onAddItem = useCallback(() => {\n    const id = nextId;\n    setNextId(nextId + 1);\n    setItems([...items, { id, value: '', displayValue: '' }]);\n    if (popupRef) {\n      validatePopupHeight();\n    }\n  }, [nextId, items]);\n\n  const handleDeleteItem = (id) => () => {\n    const updatedItems = items.filter((item) => {\n      return id !== item.id;\n    });\n    setItems(updatedItems);\n  };\n\n  const handleItemValueChange = (id) => (value) => {\n    const updatedItems = items.map((item) => {\n      if (item.id !== id) {\n        return item;\n      }\n      return { ...item, value, displayValue: value };\n    });\n    setItems(updatedItems);\n  };\n\n  // We add this helper function that doesn't mutate the original array\n  // This way we dont need to add a package like immutability-helper as this is the only use case\n  function addItemAtIndex(array, index, value) {\n    const result = array.slice(0);\n    result.splice(index, 0, value);\n    return result;\n  }\n\n  const moveListItem = useCallback(\n    (dragIndex, hoverIndex) => {\n      const dragItem = items[dragIndex];\n\n      // Update items array without mutating original items array for perf reasons\n      // First we remove the element being dragged\n      const itemsWithoutDraggedElement = items.filter((_item, index) => index !== dragIndex);\n      // Now we add the dragged element at the index it's currently hovering\n      const itemsWithDraggedElementAtNewPosition = addItemAtIndex(itemsWithoutDraggedElement, hoverIndex, dragItem);\n\n      setItems(itemsWithDraggedElementAtNewPosition);\n    },\n    [items],\n  );\n\n  const validatePopupHeight = () => {\n    const popupContainer = popupRef.current;\n    const containerElement = containerRef.current;\n    const { bottom } = popupContainer.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n    const availableHeight = viewportHeight - bottom;\n    const isListOverflowing = containerElement.scrollHeight > containerElement.clientHeight;\n    if (availableHeight <= 40 && !isListOverflowing) {\n      const inputCount = containerElement.childElementCount;\n      const maxContainerHeight = inputCount * 40;\n      containerElement.style.maxHeight = `${maxContainerHeight}px`;\n    } else if (availableHeight > 40) {\n      containerElement.style.maxHeight = '200px';\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"creatable-list\" ref={containerRef}>\n        {items.map((item, index) => (\n          <CreatableListItem\n            key={item.id}\n            index={index}\n            id={item.id}\n            option={item}\n            onChange={handleItemValueChange(item.id)}\n            onDeleteItem={handleDeleteItem(item.id)}\n            moveListItem={moveListItem}\n            addItem={invalidInputList?.length > 0 ? () => { } : onAddItem}\n            invalid={invalidInputList?.includes(item) || invalidInputList.some((i) => i.value === item.value && i.id !== item.id)}\n          />\n        ))}\n      </div>\n      {inputListHasEmptyValue && (\n        <div\n          className=\"invalid-option-message\"\n          role=\"alert\"\n          aria-live=\"assertive\"\n        >\n          {t('message.listEmptyValue')}\n        </div>\n      )}\n      {inputListDuplicateValues.length > 0 && (\n        <div\n          className=\"invalid-option-message\"\n          role=\"alert\"\n          aria-live=\"assertive\"\n        >\n          {t('message.listDuplicateValue')} {inputListDuplicateValues.join(', ')}\n        </div>\n      )}\n      <Button\n        title={t('action.addOption')}\n        className=\"add-item-button\"\n        label={t('action.addOption')}\n        img=\"icon-plus-sign\"\n        onClick={onAddItem}\n        disabled={invalidInputList?.length > 0}\n      />\n    </div>\n  );\n};\n\nCreatableListContainer.propTypes = propTypes;\n\nexport default CreatableListContainer;","import CreatableListContainer from './CreatableListContainer';\n\nexport default CreatableListContainer;","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CreatableSelect from 'react-select/creatable';\nimport ReactSelectCustomArrowIndicator from 'components/ReactSelectCustomArrowIndicator';\nimport ReactSelectWebComponentProvider from '../ReactSelectWebComponentProvider';\n\nimport './CreatableDropdown.scss';\n\nconst CreatableDropdown = ({\n  onChange,\n  onInputChange,\n  options,\n  onCreateOption,\n  textPlaceholder,\n  value,\n  isClearable,\n  isValid,\n  messageText,\n}) => {\n  const { t } = useTranslation();\n\n  const customStyles = {\n    control: (provided, state) => {\n      return {\n        ...provided,\n        minHeight: '28px',\n        height: '36px',\n        backgroundColor: 'var(--component-background)',\n        borderColor: state.selectProps.isValid ? 'hsl(0, 0%, 80%)' : 'hsl(28, 80%, 52%)',\n        boxShadow: null,\n        '&:hover': null,\n      };\n    },\n    singleValue: (provided) => ({\n      ...provided,\n      color: 'var(--text-color)',\n    }),\n    menu: (provided) => ({\n      ...provided,\n      backgroundColor: 'var(--component-background)',\n      color: 'var(--text-color)',\n    }),\n    option: (provided) => ({\n      ...provided,\n      backgroundColor: 'var(--component-background)',\n      color: 'var(--text-color)',\n      '&:hover': {\n        backgroundColor: 'var(--popup-button-hover)',\n      }\n    }),\n    indicatorsContainer: (provided) => ({\n      ...provided,\n      paddingRight: '6px',\n      height: '26px',\n    }),\n  };\n\n  return (\n    <ReactSelectWebComponentProvider>\n      <CreatableSelect\n        isClearable={isClearable}\n        onChange={onChange}\n        onInputChange={onInputChange}\n        options={options}\n        onCreateOption={onCreateOption}\n        placeholder={textPlaceholder}\n        formatCreateLabel={(value) => `${t('action.create')} ${value}`}\n        value={value}\n        styles={customStyles}\n        isValid={isValid}\n        components={{ IndicatorsContainer: ReactSelectCustomArrowIndicator }}\n      />\n      {messageText ? <div className=\"messageText\">{messageText}</div> : undefined}\n    </ReactSelectWebComponentProvider>\n  );\n};\n\nexport default CreatableDropdown;\n","import CreatableDropdown from './CreatableDropdown';\n\nexport default CreatableDropdown;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport { useTranslation } from 'react-i18next';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport SignatureModes from 'constants/signatureModes';\nimport ReactSelectCustomArrowIndicator from 'components/ReactSelectCustomArrowIndicator';\nimport ReactSelectWebComponentProvider from 'src/components/ReactSelectWebComponentProvider';\n\nimport './SignatureOptionsDropdown.scss';\n\nconst getStyles = () => ({\n  control: (provided, state) => ({\n    ...provided,\n    minHeight: '28px',\n    backgroundColor: 'var(--component-background)',\n    borderColor: state.isFocused ? 'var(--gray-10)' : 'hsl(0, 0%, 80%)',\n    borderRadius: state.isFocused ? '4px' : provided.borderRadius,\n    borderWidth: state.isFocused ? '2px' : provided.borderWidth,\n    boxShadow: state.isFocused ? '0 0 0 1px var(--gray-10)' : null,\n    '&:hover': {\n      borderColor: state.isFocused ? 'var(--gray-10)' : 'hsl(0, 0%, 70%)',\n    },\n  }),\n  valueContainer: (provided) => ({\n    ...provided,\n    padding: '2px',\n  }),\n  singleValue: (provided) => ({\n    ...provided,\n    color: 'var(--text-color)',\n  }),\n  menu: (provided) => ({\n    ...provided,\n    backgroundColor: 'var(--component-background)',\n  }),\n  option: (provided, state) => ({\n    ...provided,\n    backgroundColor: state.isSelected ? 'var(--blue-5)' : 'var(--component-background)',\n    '&:hover': {\n      backgroundColor: 'var(--blue-6)',\n      color: 'var(--gray-0)',\n    },\n    '&:active': {\n      backgroundColor: state.isSelected ? 'var(--blue-5)' : 'var(--blue-6)',\n    },\n    border: state.isFocused ? 'var(--focus-visible-outline) !important' : 'null',\n  }),\n  indicatorsContainer: (provided) => ({\n    ...provided,\n    paddingRight: '6px',\n    height: '26px',\n  }),\n});\n\nconst propTypes = {\n  onChangeHandler: PropTypes.func.isRequired,\n  initialOption: PropTypes.string,\n};\n\nconst SignatureOptionsDropdown = ({ onChangeHandler, initialOption }) => {\n  const { t } = useTranslation();\n  const styles = getStyles();\n  const signatureOptions = [\n    { value: SignatureModes.FULL_SIGNATURE, label: t('formField.types.signature') },\n    { value: SignatureModes.INITIALS, label: t('option.type.initials') },\n  ];\n\n  const init = signatureOptions.find((option) => option.value === initialOption);\n  const [value, setValue] = useState(init);\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n\n  const onChange = (option) => {\n    setValue(option);\n    onChangeHandler(option);\n    setMenuIsOpen(false);\n  };\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      setMenuIsOpen((prev) => !prev);\n    }\n  };\n\n  const handleMenuOpen = () => {\n    setMenuIsOpen(true);\n  };\n\n  const handleMenuClose = () => {\n    setMenuIsOpen(false);\n  };\n\n  return (\n    <DataElementWrapper className=\"signature-options-container\" dataElement=\"signatureOptionsDropdown\">\n      <label id=\"form-field-type-label\">{t('formField.type')}:</label>\n      <ReactSelectWebComponentProvider>\n        <Select\n          value={value}\n          onChange={onChange}\n          styles={styles}\n          options={signatureOptions}\n          isSearchable={false}\n          isClearable={false}\n          components={{ IndicatorsContainer: ReactSelectCustomArrowIndicator }}\n          aria-labelledby=\"form-field-type-label\"\n          onKeyDown={handleKeyDown}\n          menuIsOpen={menuIsOpen}\n          onMenuOpen={handleMenuOpen}\n          onMenuClose={handleMenuClose}\n        />\n      </ReactSelectWebComponentProvider>\n    </DataElementWrapper>\n  );\n};\n\nSignatureOptionsDropdown.propTypes = propTypes;\n\nexport default SignatureOptionsDropdown;","import SignatureOptionsDropdown from './SignatureOptionsDropdown';\n\nexport default SignatureOptionsDropdown;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Choice from 'components/Choice';\nimport Input from 'components/Input';\nimport { useTranslation } from 'react-i18next';\n\nconst propTypes = {\n  indicator: PropTypes.object.isRequired,\n  indicatorPlaceholder: PropTypes.string.isRequired,\n};\n\nconst FormFieldEditPanelIndicator = ({ indicator, indicatorPlaceholder }) => {\n  const { t } = useTranslation();\n  const onIndicatorChange = (showIndicator) => {\n    if (indicator.value.length < 1 && showIndicator) {\n      indicator.onChange(indicatorPlaceholder);\n    }\n    indicator.toggleIndicator(showIndicator);\n  };\n\n  return (\n    <div className=\"form-field-indicator-container\">\n      <Choice\n        id=\"field-indicator\"\n        className='form-field-checkbox'\n        checked={indicator.isChecked}\n        onChange={(event) => onIndicatorChange(event.target.checked)}\n        label={t(indicator.label)}\n        aria-label={t(indicator.label)}\n        aria-checked={indicator.isChecked}\n      />\n      {\n        indicator.isChecked && (\n          <div className=\"field-indicator\">\n            <Input\n              id=\"field-indicator-input\"\n              type=\"text\"\n              onChange={(event) => indicator.onChange(event.target.value)}\n              value={indicator.value}\n              fillWidth=\"false\"\n              placeholder={indicatorPlaceholder}\n              disabled={!indicator.isChecked}\n              aria-disabled={!indicator.isChecked}\n              aria-label={t('formField.formFieldPopup.fieldIndicator')}\n            />\n          </div>\n        )\n      }\n    </div>\n  );\n};\n\nFormFieldEditPanelIndicator.propTypes = propTypes;\n\nexport default FormFieldEditPanelIndicator;","import FormFieldEditPanelIndicator from './FormFieldEditPanelIndicator';\n\nexport default FormFieldEditPanelIndicator;","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport Choice from 'components/Choice';\nimport CreatableDropdown from '../CreatableDropdown';\nimport CreatableList from '../CreatableList';\nimport HorizontalDivider from '../HorizontalDivider';\nimport Button from '../Button';\nimport getToolStyles from 'helpers/getToolStyles';\nimport useCore from 'hooks/useCore';\nimport TextInput from 'components/TextInput';\nimport SignatureOptionsDropdown\n  from 'components/FormFieldEditPopup/FormFieldEditSignaturePopup/SignatureOptionsDropdown';\nimport FormFieldEditPanelIndicator from './FormFieldEditPanelIndicator';\nimport './FormFieldPanel.scss';\n\nconst FormFieldPanel = ({\n  width,\n  height,\n  panelTitle,\n  fields,\n  flags,\n  closeFormFieldEditPanel,\n  isValid,\n  validationMessage,\n  toolOptions,\n  onToolOptionsChange,\n  fieldOptions,\n  onFieldOptionsChange,\n  annotation,\n  onWidthChange,\n  onHeightChange,\n  indicator,\n  shouldShowOptions = false,\n  fieldProperties,\n  onRadioFieldNameChange,\n}) => {\n  const { core } = useCore();\n  const { t } = useTranslation();\n\n  const getIndicatorPlaceholderFromAnnotation = useCallback((annotation) => {\n    const isSignatureAnnotation = annotation.getField().getFieldType() === 'SignatureFormField';\n    if (isSignatureAnnotation) {\n      const formFieldCreationManager = core.getFormFieldCreationManager();\n      return t(`formField.formFieldPopup.indicatorPlaceHolders.SignatureFormField.${formFieldCreationManager.getSignatureOption(annotation)}`);\n    }\n    return t(`formField.formFieldPopup.indicatorPlaceHolders.${annotation.getField().getFieldType()}`);\n  });\n\n  const getIndicatorPlaceholderFromTool = useCallback((currentTool) => {\n    const style = getToolStyles(currentTool.name);\n    const isSignatureTool = currentTool.name === 'SignatureFormFieldCreateTool';\n    if (isSignatureTool) {\n      const signatureType = style?.signatureType;\n      return t(`formField.formFieldPopup.indicatorPlaceHolders.SignatureFormField.${signatureType}`);\n    }\n    const formFieldTypes = style?.FormFieldTypes;\n    return t(`formField.formFieldPopup.indicatorPlaceHolders.${formFieldTypes}`);\n  });\n\n  const getIndicatorPlaceholder = useCallback(() => {\n    if (annotation) {\n      return getIndicatorPlaceholderFromAnnotation(annotation);\n    }\n    const currentTool = core.getToolMode();\n    return getIndicatorPlaceholderFromTool(currentTool);\n  }, [annotation, t]);\n\n  const [indicatorPlaceholder, setIndicatorPlaceholder] = useState(getIndicatorPlaceholder());\n\n  useEffect(() => {\n    setIndicatorPlaceholder(getIndicatorPlaceholder());\n  }, [panelTitle, getIndicatorPlaceholder]);\n\n  const onSelectInputChange = useCallback((field, input) => {\n    field.onChange(input?.value || '');\n    onRadioFieldNameChange(input?.value || '');\n  }, []);\n\n  const renderTextInput = (field) => {\n    const { required, label, onChange, value } = field;\n    const hasError = required && !isValid;\n    return (\n      <div className=\"field-text-input\">\n        <span id={label}>\n          {t(label)}{required ? '*' : ''}:\n        </span>\n        <TextInput\n          label={`${label}-input`}\n          value={value}\n          onChange={onChange}\n          validationMessage={validationMessage}\n          hasError={hasError}\n          ariaDescribedBy={hasError ? 'FormFieldInputError' : undefined}\n          ariaLabelledBy={label}\n        />\n      </div>\n    );\n  };\n  const renderSelectInput = (field) => {\n    const value = { value: fieldProperties.name, label: fieldProperties.name };\n    return (\n      <div className=\"field-select-input\">\n        <label>\n          {t(field.label)}{field.required ? '*' : ''}:\n        </label>\n        <CreatableDropdown\n          textPlaceholder={t('formField.formFieldPopup.fieldName')}\n          options={fieldProperties.radioButtonGroups.map((group) => ({ value: group, label: group }))}\n          onChange={(inputValue) => onSelectInputChange(field, inputValue)}\n          value={value}\n          isValid={isValid}\n          messageText={t(validationMessage)}\n        />\n        <div className=\"radio-group-label\">{t('formField.formFieldPopup.radioGroups')}</div>\n      </div>\n    );\n  };\n\n  const renderSignatureOption = (field) => {\n    const onOptionChange = (option) => {\n      field.onChange(option);\n      const { value } = option;\n      setIndicatorPlaceholder(t(`formField.formFieldPopup.indicatorPlaceHolders.SignatureFormField.${value}`));\n    };\n    return <SignatureOptionsDropdown onChangeHandler={onOptionChange} initialOption={field.value} />;\n  };\n\n  const renderFieldInput = (field) => {\n    switch (field.type) {\n      case 'text':\n        return renderTextInput(field);\n      case 'select':\n        return renderSelectInput(field);\n      case 'signatureOption':\n        return renderSignatureOption(field);\n      default:\n        return null;\n    }\n  };\n\n  const renderListOptions = (options) => {\n    const optionsKey = options.map((option) => option.value || '').join('');\n    return (\n      <>\n        <div className=\"field-options-container\">\n          <span className=\"option-title\">{t('formField.formFieldPopup.options')}</span>\n          <CreatableList\n            options={annotation ? fieldOptions : toolOptions}\n            onOptionsUpdated={annotation ? onFieldOptionsChange : onToolOptionsChange}\n            key={optionsKey}\n          />\n        </div>\n        <HorizontalDivider />\n      </>\n    );\n  };\n\n  const renderProperties = (flags) => (\n    <div className=\"properties-container\">\n      <h2 className=\"property-title\" id=\"property-group\">{t('formField.formFieldPopup.properties')}</h2>\n      <div role=\"group\" aria-labelledby=\"property-group\">\n        {flags.map((flag) => (\n          <Choice\n            id={t(flag.label)}\n            className=\"form-field-checkbox\"\n            key={t(flag.label)}\n            checked={flag.isChecked}\n            onChange={(event) => flag.onChange(event.target.checked, flag.name)}\n            label={t(flag.label)}\n            aria-checked={flag.isChecked}\n          />\n        ))}\n        <FormFieldEditPanelIndicator indicator={indicator} indicatorPlaceholder={indicatorPlaceholder} />\n      </div>\n    </div>\n  );\n\n  const renderFormFieldDimensions = () => (\n    <div className=\"form-dimension\">\n      <span className=\"form-dimension-title\">{t('formField.formFieldPopup.fieldSize')}</span>\n      <div className='form-dimension-input-container'>\n        <div className=\"form-dimension-input\">\n          <span id=\"form-field-width\">{t('formField.formFieldPopup.width')}</span>\n          <input\n            id=\"form-field-width-input\"\n            type=\"number\"\n            min={0}\n            value={width}\n            onChange={(e) => onWidthChange(e.target.value)}\n            aria-label='form-field-width-input'\n            aria-labelledby='form-field-width'\n          />\n        </div>\n        <div className=\"form-dimension-input\">\n          <span id=\"form-field-height\">{t('formField.formFieldPopup.height')}</span>\n          <input\n            id=\"form-field-height\"\n            type=\"number\"\n            min={0}\n            value={height}\n            onChange={(e) => onHeightChange(e.target.value)}\n            aria-label='form-field-height-input'\n            aria-labelledby='form-field-height'\n          />\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"form-field-content-container\">\n        <div className=\"field-title\">{panelTitle}</div>\n        {!!fields.length && (\n          <>\n            <div className=\"fields-container\">\n              {fields.map((field) => (\n                <div className=\"field-input\" key={field.label}>\n                  {renderFieldInput(field)}\n                </div>\n              ))}\n            </div>\n            <HorizontalDivider />\n          </>\n        )}\n        {shouldShowOptions && renderListOptions(annotation ? fieldOptions : toolOptions)}\n        {renderProperties(flags)}\n        <HorizontalDivider />\n        {renderFormFieldDimensions()}\n      </div>\n      <div className=\"form-buttons-container\">\n        <Button\n          className=\"ok-form-field-button\"\n          onClick={closeFormFieldEditPanel}\n          dataElement=\"formFieldOK\"\n          label={t('action.close')}\n          disabled={!isValid}\n        />\n      </div>\n    </>\n  );\n};\n\nFormFieldPanel.propTypes = {\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  panelTitle: PropTypes.string,\n  fields: PropTypes.array.isRequired,\n  flags: PropTypes.array.isRequired,\n  closeFormFieldEditPanel: PropTypes.func.isRequired,\n  isValid: PropTypes.bool.isRequired,\n  validationMessage: PropTypes.string,\n  toolOptions: PropTypes.array,\n  onToolOptionsChange: PropTypes.func,\n  fieldOptions: PropTypes.array,\n  onFieldOptionsChange: PropTypes.func,\n  annotation: PropTypes.object,\n  indicator: PropTypes.object.isRequired,\n  onWidthChange: PropTypes.func.isRequired,\n  onHeightChange: PropTypes.func.isRequired,\n  shouldShowOptions: PropTypes.bool,\n  fieldProperties: PropTypes.object,\n  onRadioFieldNameChange: PropTypes.func,\n};\n\nexport default FormFieldPanel;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport actions from 'actions';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport selectors from 'selectors';\nimport classNames from 'classnames';\nimport Icon from 'components/Icon';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport DataElements from 'constants/dataElement';\nimport { PRIORITY_THREE } from 'constants/actionPriority';\nimport getToolStyles from 'helpers/getToolStyles';\nimport setToolStyles from 'helpers/setToolStyles';\nimport { isMobileSize } from 'helpers/getDeviceSize';\nimport mapValidationResponseToTranslation from 'helpers/mapValidationResponseToTranslation';\nimport FormFieldPanel from './FormFieldPanel';\nimport useIsRTL from 'hooks/useIsRTL';\nimport './FormFieldPanel.scss';\nimport {\n  createFields,\n  createFlags,\n  defaultDimension,\n  defaultFlags,\n  defaultProperties,\n  getPageHeight,\n  getPageWidth,\n  getSignatureOption,\n  handleFieldCreation,\n  handleFlagsCreation,\n  isRenderingOptions,\n  redrawAnnotation,\n  validateDimension,\n  triggerAnnotationChangedEventWithModify\n} from './utils';\nimport useCore from 'hooks/useCore';\n\nconst { Annotations, Tools } = window.Core;\n\nconst propTypes = {\n  annotation: PropTypes.object,\n};\n\nconst FormFieldPanelContainer = React.memo(({ annotation }) => {\n  const { core } = useCore();\n  const isOpen = useSelector((state) => selectors.isElementOpen(state, DataElements.FORM_FIELD_PANEL));\n  const toolButtonObject = useSelector(selectors.getToolButtonObjects, shallowEqual);\n  const isSignatureOptionsDropdownDisabled = useSelector((state) => selectors.isElementDisabled(state, 'signatureOptionsDropdown'));\n  const isInDesktopOnlyMode = useSelector(selectors.isInDesktopOnlyMode);\n  const mobilePanelSize = useSelector(selectors.getMobilePanelSize);\n  const featureFlags = useSelector(selectors.getFeatureFlags, shallowEqual);\n\n  const { t, i18n } = useTranslation();\n  const dispatch = useDispatch();\n\n  const isMobile = isMobileSize();\n  const customizableUI = featureFlags.customizableUI;\n  const isRTL = useIsRTL();\n\n  const [fieldProperties, setFieldProperties] = useState(defaultProperties);\n  const [fieldDimension, setFieldDimension] = useState(defaultDimension);\n  const [fieldFlags, setFieldFlags] = useState(defaultFlags);\n  const [indicator, setIndicator] = useState({\n    showIndicator: false,\n    indicatorText: '',\n  });\n\n  const [isValid, setIsValid] = useState(true);\n  const [validationMessage, setValidationMessage] = useState('');\n  const currentTool = core.getToolMode();\n  const isUsingDefaultOptions = currentTool instanceof Tools.ListBoxFormFieldCreateTool || currentTool instanceof Tools.ComboBoxFormFieldCreateTool;\n\n  const [toolOptions, setToolOptions] = useState(isUsingDefaultOptions ? currentTool.defaults.options : []);\n  const [fieldOptions, setFieldOptions] = useState(annotation?.getFieldOptions() ?? []);\n  const [panelTitle, setPanelTitle] = useState();\n  function closeAndReset() {\n    dispatch(actions.enableElement(DataElements.ANNOTATION_POPUP, PRIORITY_THREE));\n    dispatch(actions.closeElement(DataElements.FORM_FIELD_PANEL));\n    setFieldProperties(defaultProperties);\n    setFieldDimension(defaultDimension);\n    setFieldFlags(defaultFlags);\n    setIndicator({\n      showIndicator: false,\n      indicatorText: '',\n    });\n    setPanelTitle('');\n    setIsValid(true);\n  }\n\n  const formFieldCreationManager = core.getFormFieldCreationManager();\n\n  const setPanelTitleForTool = (toolName) => {\n    const title = toolButtonObject[toolName].title;\n    setPanelTitle(`${t(title)} ${t('stylePanel.headings.tool')}`);\n  };\n\n  const deleteWidgetsInFormBuilderMode = useCallback((annotation) => {\n    core.deleteAnnotations([annotation]);\n  }, []);\n\n  const handleToolModeChange = useCallback((newTool) => {\n    if (newTool instanceof Tools.FormFieldCreateTool) {\n      const { options , flags, Width: width = 0, Height: height = 0, defaultValue = '', indicatorText = '', showIndicator = false } = getToolStyles(newTool.name) || {};\n      setFieldProperties((prev) => ({ ...prev, defaultValue }));\n      setFieldDimension({ width, height });\n      setFieldFlags({\n        ReadOnly: flags?.READ_ONLY || false,\n        Required: flags?.REQUIRED || false,\n        Multiline: flags?.MULTILINE || false,\n        MultiSelect: flags?.MULTI_SELECT || false\n      });\n      setToolOptions(options);\n      setIndicator({ showIndicator, indicatorText });\n      setPanelTitleForTool(newTool.name);\n    } else {\n      closeAndReset();\n    }\n  }, [toolButtonObject, i18n.language]);\n\n  useEffect(() => {\n    const currentTool = core.getToolMode();\n    setPanelTitleForTool(currentTool.name);\n  }, [i18n.language]);\n\n  useEffect(() => {\n    updateRadioGroupsForRadioAnnotation();\n\n    const onFormFieldCreationModeStarted = () => {\n      setFieldProperties((fieldProperties) => ({\n        ...fieldProperties,\n        radioButtonGroups: formFieldCreationManager.getRadioButtonGroups(),\n      }));\n    };\n    const onAnnotationSelected = (annotations, action) => {\n      if (action === 'deselected') {\n        const currentTool = core.getToolMode();\n        const isFormFieldCreateTool = currentTool instanceof Tools.FormFieldCreateTool;\n        if (isFormFieldCreateTool) {\n          handleToolModeChange(currentTool);\n        } else {\n          setTimeout(() => {\n            if (!annotation) {\n              closeAndReset();\n            }\n          }, 500);\n        }\n      }\n    };\n\n    core.addEventListener('formFieldCreationModeStarted', onFormFieldCreationModeStarted);\n    core.addEventListener('toolModeUpdated', handleToolModeChange);\n    core.addEventListener('annotationSelected', onAnnotationSelected);\n    return () => {\n      core.removeEventListener('formFieldCreationModeStarted', onFormFieldCreationModeStarted);\n      core.removeEventListener('annotationSelected', onAnnotationSelected);\n      core.removeEventListener('toolModeUpdated', handleToolModeChange);\n    };\n  }, []);\n\n  const handleOptionsSettings = (annotation) => {\n    const options = annotation.getFieldOptions();\n    if (options.length === 1 && options[0].value === '' && options[0].displayValue === '') {\n      setFieldOptions([]);\n    } else {\n      setFieldOptions(options);\n    }\n  };\n\n  const updateRadioGroupsForRadioAnnotation = () => {\n    const radioButtons = core.getAnnotationsList().filter((annotation) => {\n      return annotation instanceof Annotations.RadioButtonWidgetAnnotation;\n    });\n    const radioGroups = radioButtons.map((radioButton) => radioButton.getField().name);\n    const dedupedRadioGroups = [...(new Set([...radioGroups]))];\n    setFieldProperties((previousFieldProperties) => ({\n      ...previousFieldProperties,\n      radioButtonGroups: dedupedRadioGroups,\n    }));\n  };\n\n  const handleRadioFieldNameChange = (name) => {\n    updateRadioGroupsForRadioAnnotation();\n    setFieldProperties((previousFieldProperties) => ({\n      ...previousFieldProperties,\n      name,\n    }));\n  };\n\n  useEffect(() => {\n    if (!isOpen) {\n      return;\n    }\n    if (!annotation) {\n      handleToolModeChange(core.getToolMode());\n      return;\n    }\n    handleOptionsSettings(annotation);\n    const currentFlags = annotation.getFieldFlags();\n    const { READ_ONLY, MULTILINE, REQUIRED, MULTI_SELECT } = Annotations.WidgetFlags;\n    const field = annotation.getField();\n    const fieldName = field.name;\n    const radioButtons = fieldProperties.radioButtonGroups;\n    const isFieldNameValid = Boolean(fieldName);\n    const validationMessage = isFieldNameValid ? '' : 'formField.formFieldPopup.invalidField.empty';\n\n    setIsValid(isFieldNameValid);\n    setFieldDimension({ width: parseInt(annotation.Width), height: parseInt(annotation.Height) });\n    setFieldProperties((prev) => ({\n      ...prev,\n      name: fieldName,\n      // Are there repercussions with this?\n      // Expected result for TextField but what about other fields?\n      defaultValue: field.defaultValue,\n      radioButtonGroups: [...new Set([...radioButtons, ...formFieldCreationManager.getRadioButtonGroups()])]\n    }));\n    setFieldFlags({\n      ReadOnly: currentFlags[READ_ONLY] || false,\n      Multiline: currentFlags[MULTILINE] || false,\n      Required: currentFlags[REQUIRED] || false,\n      MultiSelect: currentFlags[MULTI_SELECT] || false,\n    });\n    setIndicator({\n      showIndicator: formFieldCreationManager.getShowIndicator(annotation),\n      indicatorText: formFieldCreationManager.getIndicatorText(annotation),\n    });\n    setPanelTitle(t(`formField.formFieldPanel.${field.getFieldType()}`));\n    setValidationMessage(validationMessage);\n  }, [isOpen, annotation, isRTL, i18n.language]);\n\n  const onFieldNameChange = useCallback((name) => {\n    const validatedResponse = formFieldCreationManager.setFieldName(annotation, name);\n    setIsValid(validatedResponse.isValid);\n    const validationResponse = mapValidationResponseToTranslation(validatedResponse);\n    setValidationMessage(validationResponse);\n    setFieldProperties((previousFieldProperties) => ({\n      ...previousFieldProperties,\n      name,\n    }));\n    updateFlagsForRadioAnnotation();\n  }, [annotation]);\n\n  const updateFlagsForRadioAnnotation = useCallback(() => {\n    if (annotation && annotation instanceof Annotations.RadioButtonWidgetAnnotation) {\n      const currentFlags = annotation.getField().flags;\n      const { READ_ONLY, REQUIRED } = Annotations.WidgetFlags;\n      setFieldFlags((flags) => ({\n        ...flags,\n        ReadOnly: currentFlags.get(READ_ONLY) || false,\n        Required: currentFlags.get(REQUIRED) || false,\n      }));\n    }\n  }, [annotation]);\n\n  const handleFlagChange = useCallback((value, flagName) => {\n    setFieldFlags((previousFieldFlags) => ({\n      ...previousFieldFlags,\n      [Annotations.WidgetFlags[flagName]]: value,\n    }));\n    if (annotation) {\n      annotation.setFieldFlag(Annotations.WidgetFlags[flagName], value);\n    } else {\n      const currentTool = core.getToolMode();\n      const toolStyles = getToolStyles(currentTool.name);\n      const flags = { ...toolStyles?.flags };\n      flags[flagName] = value;\n      setToolStyles(currentTool.name, 'flags', flags);\n    }\n  }, [annotation]);\n\n  const onFieldValueChange = useCallback((defaultValue) => {\n    setFieldProperties((previousFieldProperties) => ({\n      ...previousFieldProperties,\n      defaultValue,\n    }));\n    if (annotation) {\n      annotation.getField().defaultValue = defaultValue;\n    } else {\n      const currentTool = core.getToolMode();\n      setToolStyles(currentTool.name, 'defaultValue', defaultValue);\n    }\n  }, [annotation]);\n\n  const onFieldOptionsChange = useCallback((options) => {\n    annotation.setFieldOptions(options);\n  }, [fieldOptions, annotation]);\n\n  const onToolOptionsChange = useCallback((options) => {\n    const currentTool = core.getToolMode();\n    currentTool.defaults.options = options;\n  });\n\n  const onShowFieldIndicatorChange = useCallback((showIndicator) => {\n    setIndicator((previousIndicator) => ({\n      ...previousIndicator,\n      showIndicator,\n    }));\n    if (annotation) {\n      formFieldCreationManager.setShowIndicator(annotation, showIndicator);\n    } else {\n      const currentTool = core.getToolMode();\n      setToolStyles(currentTool.name, 'showIndicator', showIndicator);\n    }\n  }, [annotation]);\n\n  const onFieldIndicatorTextChange = useCallback((indicatorText) => {\n    setIndicator((previousIndicator) => ({\n      ...previousIndicator,\n      indicatorText,\n    }));\n    if (annotation) {\n      formFieldCreationManager.setIndicatorText(annotation, indicatorText);\n    } else {\n      const currentTool = core.getToolMode();\n      setToolStyles(currentTool.name, 'indicatorText', indicatorText);\n    }\n  }, [annotation]);\n\n  const closeFormFieldEditPanel = useCallback(() => {\n    closeAndReset();\n  }, []);\n\n  const onWidthChange = (newWidth) => {\n    if (annotation) {\n      const validatedWidth = validateDimension(newWidth, getPageWidth(core), annotation.X);\n      annotation.setWidth(validatedWidth);\n      setFieldDimension((previousFieldDimension) => ({\n        ...previousFieldDimension,\n        width: validatedWidth,\n      }));\n      redrawAnnotation(annotation, core);\n      triggerAnnotationChangedEventWithModify([annotation], core);\n    } else {\n      setFieldDimension((previousFieldDimension) => ({\n        ...previousFieldDimension,\n        width: newWidth,\n      }));\n      const currentTool = core.getToolMode();\n      setToolStyles(currentTool.name, 'Width', newWidth);\n    }\n  };\n\n  const onHeightChange = (newHeight) => {\n    if (annotation) {\n      const validatedHeight = validateDimension(newHeight, getPageHeight(core), annotation.Y);\n      annotation.setHeight(validatedHeight);\n      setFieldDimension((previousFieldDimension) => ({\n        ...previousFieldDimension,\n        height: validatedHeight\n      }));\n      redrawAnnotation(annotation, core);\n      triggerAnnotationChangedEventWithModify([annotation], core);\n    } else {\n      setFieldDimension((previousFieldDimension) => ({\n        ...previousFieldDimension,\n        height: newHeight,\n      }));\n      const currentTool = core.getToolMode();\n      setToolStyles(currentTool.name, 'Height', newHeight);\n    }\n  };\n\n  const onCancelEmptyFieldName = useCallback((widgetAnnotation) => {\n    const widget = widgetAnnotation;\n    if (widget) {\n      onFieldNameChange(widget.getField().name);\n    } else {\n      deleteWidgetsInFormBuilderMode(widgetAnnotation);\n    }\n    closeFormFieldEditPanel();\n  }, []);\n\n  const onCloseRadioButtonPanel = useCallback(() => {\n    if (isValid && fieldProperties.radioButtonGroups.indexOf(fieldProperties.name) === -1 && fieldProperties.name !== '') {\n      setFieldProperties((previousFieldProperties) => ({\n        ...previousFieldProperties,\n        radioButtonGroups: [fieldProperties.name, ...previousFieldProperties.radioButtonGroups],\n      }));\n    }\n    closeAndReset();\n  }, [fieldProperties]);\n\n  const onSignatureOptionChange = useCallback((signatureOption) => {\n    const { value } = signatureOption;\n    if (annotation) {\n      formFieldCreationManager.setSignatureOption(annotation, value);\n    } else {\n      const currentTool = core.getToolMode();\n      setToolStyles(currentTool.name, 'signatureType', value);\n    }\n  }, [annotation]);\n\n  const closeFormFieldPanel = () => {\n    dispatch(actions.closeElement(DataElements.FORM_FIELD_PANEL));\n  };\n\n  const renderMobileCloseButton = () => {\n    return (\n      <div className=\"close-container\">\n        <button className=\"close-icon-container\" onClick={closeFormFieldPanel}>\n          <Icon glyph=\"ic_close_black_24px\" className=\"close-icon\" />\n        </button>\n      </div>\n    );\n  };\n\n  const options = { onFieldNameChange, onFieldValueChange, fieldProperties, onSignatureOptionChange, getSignatureOption, annotation };\n  const fields = createFields(options, core);\n  const flags = createFlags(handleFlagChange, fieldFlags);\n\n  const indicatorProps = {\n    label: 'formField.formFieldPopup.includeFieldIndicator',\n    toggleIndicator: onShowFieldIndicatorChange,\n    isChecked: indicator.showIndicator,\n    onChange: onFieldIndicatorTextChange,\n    value: indicator.indicatorText,\n  };\n\n  const renderPanel = () => {\n    const panelFields = handleFieldCreation(annotation, fields, isSignatureOptionsDropdownDisabled, core);\n    const panelFlags = handleFlagsCreation(annotation, flags, core);\n    const shouldShowOptions = isRenderingOptions(annotation, core);\n\n    return (\n      <FormFieldPanel\n        width={fieldDimension.width}\n        height={fieldDimension.height}\n        isValid={isValid}\n        panelTitle={panelTitle}\n        fields={panelFields}\n        flags={panelFlags}\n        validationMessage={validationMessage}\n        fieldProperties={fieldProperties}\n        onRadioFieldNameChange={handleRadioFieldNameChange}\n        onFieldOptionsChange={onFieldOptionsChange}\n        fieldOptions={fieldOptions}\n        onToolOptionsChange={onToolOptionsChange}\n        toolOptions={toolOptions}\n        annotation={annotation}\n        redrawAnnotation={redrawAnnotation}\n        onWidthChange={onWidthChange}\n        onHeightChange={onHeightChange}\n        indicator={indicatorProps}\n        onCancelEmptyFieldName={onCancelEmptyFieldName}\n        closeFormFieldEditPanel={onCloseRadioButtonPanel}\n        shouldShowOptions={shouldShowOptions}\n      />\n    );\n  };\n\n  return (\n    <DataElementWrapper dataElement={DataElements.FORM_FIELD_PANEL} className={\n      classNames({\n        'Panel': true,\n        'FormFieldPanel': true,\n        [mobilePanelSize]: isMobile,\n        'modular-ui-panel': customizableUI,\n      })\n    }>\n      {!isInDesktopOnlyMode && isMobile && renderMobileCloseButton()}\n      {renderPanel()}\n    </DataElementWrapper>\n  );\n});\n\nFormFieldPanelContainer.displayName = 'FormFieldPanelContainer';\nFormFieldPanelContainer.propTypes = propTypes;\n\nexport default FormFieldPanelContainer;","import FormFieldPanel from './FormFieldPanelContainer';\n\nexport default FormFieldPanel;"],"sourceRoot":""}
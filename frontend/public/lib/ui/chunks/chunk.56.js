(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[56],{1555:function(e,t,n){},1556:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1567:function(e,t,n){"use strict";n.r(t),n.d(t,"renderPermissionStatus",(function(){return G})),n.d(t,"SignaturePanel",(function(){return ne}));n(9),n(10),n(14),n(36),n(27),n(21),n(20),n(12),n(43),n(22),n(309),n(310),n(311),n(18),n(26),n(16),n(40),n(23),n(41),n(37),n(42),n(8),n(54),n(1524),n(17),n(19),n(116),n(11),n(30),n(13);var r=n(0),i=n.n(r),a=n(6),o=n(307),c=n(2),u=n(33),s=n(3);n(38),n(49),n(83),n(165),n(57),n(62),n(111),n(1565),n(391),n(1566),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(l(e)+" is not iterable")}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return v(s,"_invoke",function(n,r,i){var a,c,u,s=0,l=i||[],f=!1,d={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,o}};function g(n,r){for(c=n,u=r,t=0;!f&&s&&!i&&t<l.length;t++){var i,a=l[t],g=d.p,m=a[2];n>3?(i=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=g&&((i=n<2&&g<a[1])?(c=0,d.v=r,d.n=a[1]):g<m&&(i=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(i||n>1)return o;throw f=!0,r}return function(i,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&g(l,m),c=l,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),g(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(i="next"),t=a[i]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==o)break}catch(t){a=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,i,a),!0),s}var o={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(v(t={},r,(function(){return this})),t),f=s.prototype=c.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,v(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,v(f,"constructor",s),v(s,"constructor",u),u.displayName="GeneratorFunction",v(s,i,"GeneratorFunction"),v(f),v(f,i,"Generator"),v(f,r,(function(){return this})),v(f,"toString",(function(){return"[object Generator]"})),(m=function(){return{w:a,m:d}})()}function v(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(v=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){v(e,t,(function(e){return this._invoke(t,n,e)}))};a("next",0),a("throw",1),a("return",2)}})(e,t,n,r)}function p(e,t,n,r,i,a,o){try{var c=e[a](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){p(a,r,i,o,c,"next",e)}function c(e){p(a,r,i,o,c,"throw",e)}o(void 0)}))}}var y=function(){var e=b(m().m((function e(t,n,r,i,a,o,u){var s;return m().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,S(t,n,r,i,a,o);case 1:return s=e.v,u(c.a.setVerificationResult(s)),e.a(2,s)}}),e)})));return function(t,n,r,i,a,o,c){return e.apply(this,arguments)}}(),S=function(){var e=b(m().m((function e(t,n,r,i,a,o){var c,u,s,l,g,v,p;return m().w((function(e){for(;;)switch(e.n){case 0:return c=window.Core.PDFNet,u=c.VerificationResult,s=u.TrustStatus,l=u.DigestStatus,g=u.ModificationPermissionsStatus,v=u.DocumentStatus,p={},e.n=1,c.runWithCleanup(b(m().m((function e(){var u,y,S,_,j,O,V,T,k,A,C,D,N,F,P,x,I,L,M,R,U,B,G,W,H,$,z,J,K,q,Z,Q,X,Y,ee,te,ne,re,ie,ae,oe,ce,ue,se,le,fe,de,ge,me,ve,pe,be,ye,Se,he,we,Ee,_e,je,Oe,Ve,Te,ke,Ae,Ce,De,Ne,Fe;return m().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,t.getPDFDoc();case 1:return t=e.v,e.n=2,c.VerificationOptions.create(c.VerificationOptions.SecurityLevel.e_compatibility_and_archiving);case 2:if(u=e.v,!a){e.n=3;break}return e.n=3,u.enableOnlineCRLRevocationChecking(!0);case 3:if(null!==o){e.n=5;break}return e.n=4,u.setRevocationProxyPrefix("https://proxy.pdftron.com");case 4:e.n=6;break;case 5:if(void 0===o){e.n=6;break}return e.n=6,u.setRevocationProxyPrefix(o);case 6:y=d(n),e.p=7,_=m().m((function e(){var t,n,r,i,a,o,c;return m().w((function(e){for(;;)switch(e.p=e.n){case 0:if("string"!=typeof(t=S.value)){e.n=5;break}return e.p=1,e.n=2,u.addTrustedCertificateFromURL(t);case 2:e.n=4;break;case 3:return e.p=3,e.v,console.error("Error encountered when trying to load certificate from URL: ".concat(t,"\n")+"Certificate will not be used as part of verification process."),e.a(2,0);case 4:e.n=15;break;case 5:if(!(t instanceof File||"[object File]"===Object.prototype.toString.call(t))){e.n=11;break}return n=new FileReader,r=new Promise((function(e,r){n.addEventListener("load",function(){var t=b(m().m((function t(n){return m().w((function(t){for(;;)switch(t.n){case 0:e(new Uint8Array(n.target.result));case 1:return t.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.addEventListener("error",(function(){r("Error reading the local certificate")})),n.readAsArrayBuffer(t)})),e.p=6,i=u,e.n=7,r;case 7:return a=e.v,e.n=8,i.addTrustedCertificate.call(i,a);case 8:e.n=10;break;case 9:return e.p=9,o=e.v,console.error("Error encountered when trying to load certificate: ".concat(o)+"Certificate will not be used as part of the verification process."),e.a(2,0);case 10:e.n=15;break;case 11:if(!(t instanceof ArrayBuffer||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray)){e.n=15;break}return e.p=12,e.n=13,u.addTrustedCertificate(t);case 13:e.n=15;break;case 14:return e.p=14,c=e.v,console.error("Error encountered when trying to load certificate: ".concat(c)+"Certificate will not be used as part of the verification process."),e.a(2,0);case 15:return e.a(2)}}),e,null,[[12,14],[6,9],[1,3]])})),y.s();case 8:if((S=y.n()).done){e.n=11;break}return e.d(f(_()),9);case 9:if(0!==e.v){e.n=10;break}return e.a(3,10);case 10:e.n=8;break;case 11:e.n=13;break;case 12:e.p=12,Ee=e.v,y.e(Ee);case 13:return e.p=13,y.f(),e.f(13);case 14:j=d(r),e.p=15,j.s();case 16:if((O=j.n()).done){e.n=25;break}if(V=O.value,T=V.constructor.name,k=["ArrayBuffer","Int8Array","Uint8Array","Uint8ClampedArray"],A=void 0,"Blob"!==T){e.n=18;break}return e.n=17,V.arrayBuffer();case 17:A=e.v,e.n=20;break;case 18:if(!k.includes(T)){e.n=19;break}A=V,e.n=20;break;case 19:return console.error("The provided TrustList is an unsupported data-structure. Please ensure the TrustList is formatted as one of the following "+"data-structures: ".concat([].concat(k,["Blob"]).join("|"))),e.a(3,24);case 20:return e.p=20,e.n=21,c.FDFDoc.createFromMemoryBuffer(A);case 21:return C=e.v,e.n=22,u.loadTrustList(C);case 22:e.n=24;break;case 23:return e.p=23,_e=e.v,console.error("Error encountered when trying to load certificate: ".concat(_e,". ")+"Certificate will not be used as part of the verification process."),e.a(3,24);case 24:e.n=16;break;case 25:e.n=27;break;case 26:e.p=26,je=e.v,j.e(je);case 27:return e.p=27,j.f(),e.f(27);case 28:return e.n=29,t.getFieldIteratorBegin();case 29:D=e.v;case 30:return e.n=31,D.hasNext();case 31:if(!e.v){e.n=91;break}return e.n=32,D.current();case 32:return N=e.v,e.n=33,N.isValid();case 33:if(Oe=!e.v){e.n=35;break}return e.n=34,N.getType();case 34:Ve=e.v,Te=c.Field.Type.e_signature,Oe=Ve!==Te;case 35:if(!Oe){e.n=36;break}return e.a(3,90);case 36:return e.n=37,c.DigitalSignatureField.createFromField(N);case 37:return F=e.v,e.p=38,e.n=39,F.verify(u);case 39:return P=e.v,e.n=40,F.getSDFObj();case 40:return e.n=41,e.v.getObjNum();case 41:return x=e.v,I=void 0,L=void 0,M=void 0,R=void 0,U=void 0,B=void 0,G=void 0,W=void 0,H=void 0,$={},z={},e.n=42,F.hasCryptographicSignature();case 42:if(!(J=e.v)){e.n=63;break}return e.n=43,F.getSubFilter();case 43:if((K=e.v)!==c.DigitalSignatureField.SubFilterType.e_adbe_pkcs7_detached){e.n=48;break}return e.n=44,F.getSignerCertFromCMS();case 44:return q=e.v,e.n=45,q.getSubjectField();case 45:return Z=e.v,e.n=46,E(Z);case 46:if(ke=e.v){e.n=47;break}ke={};case 47:I=ke.e_commonName;case 48:if(K===c.DigitalSignatureField.SubFilterType.e_ETSI_RFC3161){e.n=60;break}if(I){e.n=52;break}return e.n=49,F.getSignatureName();case 49:if(Ae=e.v){e.n=51;break}return e.n=50,F.getContactInfo();case 50:Ae=e.v;case 51:I=Ae;case 52:return e.n=53,F.getSigningTime();case 53:return L=e.v,e.n=54,L.isValid();case 54:if(!e.v){e.n=55;break}L=h(L,i),e.n=56;break;case 55:L=null;case 56:return e.n=57,F.getContactInfo();case 57:return U=e.v,e.n=58,F.getLocation();case 58:return B=e.v,e.n=59,F.getReason();case 59:G=e.v;case 60:return e.n=61,F.getDocumentPermissions();case 61:return M=e.v,e.n=62,F.isCertification();case 62:R=e.v;case 63:return e.n=64,P.getVerificationStatus();case 64:return Q=e.v,e.n=65,P.getDocumentStatus();case 65:return X=e.v,e.n=66,P.getDigestStatus();case 66:return Y=e.v,e.n=67,P.getTrustStatus();case 67:return ee=e.v,e.n=68,P.getPermissionsStatus();case 68:return te=e.v,e.n=69,P.getDigestAlgorithm();case 69:return ne=e.v,Ce=Promise,e.n=70,P.getDisallowedChanges();case 70:return De=e.v.map(function(){var e=b(m().m((function e(t){var n,r;return m().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,t.getObjNum();case 1:return n=e.v,e.n=2,t.getTypeAsString();case 2:return r=e.v,e.a(2,{objnum:n,type:r})}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.n=71,Ce.all.call(Ce,De);case 71:return re=e.v,ie=ee===s.e_trust_verified,ae=void 0,oe=void 0,ce=void 0,ue=void 0,e.n=72,P.hasTrustVerificationResult();case 72:if(!e.v){e.n=87;break}return e.n=73,P.getTrustVerificationResult();case 73:return se=e.v,e.n=74,se.wasSuccessful();case 74:return oe=e.v,e.n=75,se.getResultString();case 75:return ae=e.v,e.n=76,se.getTimeOfTrustVerificationEnum();case 76:return ce=e.v,e.n=77,se.getTimeOfTrustVerification();case 77:return(le=e.v)&&(ue=w(le,i)),e.n=78,se.getCertPath();case 78:if(!(fe=e.v).length){e.n=87;break}return de=fe[0],e.n=79,de.getIssuerField();case 79:return ge=e.v,e.n=80,E(ge);case 80:return me=e.v,Object.assign($,me),e.n=81,de.getSubjectField();case 81:return ve=e.v,e.n=82,E(ve);case 82:return pe=e.v,Object.assign(z,pe),be=fe[fe.length-1],e.p=83,e.n=84,be.getNotBeforeEpochTime();case 84:return ye=e.v,e.n=85,be.getNotAfterEpochTime();case 85:Se=e.v,W=Se>=le&&le>=ye,e.n=87;break;case 86:e.p=86,(Ne=e.v).includes("calendar_point::to_std_timepoint() does not support years after")&&(console.warn("The following error is a known issue with Botan, and aims to be addressed in a future release of PDFNet. This currently does not impact PDFTron's Digital Signature Verification capabilities."),console.warn(Ne));case 87:return he=void 0,he=Q?"digital_signature_valid":X!==v.e_no_error||Y!==l.e_digest_verified&&Y!==l.e_digest_verification_disabled||ee===s.e_no_trust_status||te!==g.e_unmodified&&te!==g.e_has_allowed_changes&&te!==g.e_permissions_verification_disabled?"digital_signature_error":"digital_signature_warning",I?H=I:!I&&z.e_commonName&&(H=z.e_commonName),e.n=88,N.getName();case 88:we=e.v,p[we]={signed:J,signer:I,signerName:H,signTime:L,verificationStatus:Q,documentStatus:X,digestStatus:Y,trustStatus:ee,permissionStatus:te,disallowedChanges:re,trustVerificationResultBoolean:oe,trustVerificationResultString:ae,timeOfTrustVerificationEnum:ce,trustVerificationTime:ue,id:x,badgeIcon:he,validSignerIdentity:ie,digestAlgorithm:ne,documentPermission:M,isCertification:R,contactInfo:U,location:B,reason:G,issuerField:$,subjectField:z,validAtTimeOfSigning:W},e.n=90;break;case 89:e.p=89,Fe=e.v,console.error(Fe);case 90:D.next(),e.n=30;break;case 91:return e.a(2)}}),e,null,[[83,86],[38,89],[20,23],[15,26,27,28],[7,12,13,14]])}))));case 1:return e.a(2,p)}}),e)})));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}(),h=function(e,t){var n=e.year,r=e.month,i=e.day,a=e.hour,o=e.minute,c=e.second;return new Date(Date.UTC(n,r-1,i,a,o,c)).toLocaleDateString(t.replace("_","-"),{year:"numeric",month:"long",weekday:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"})},w=function(e,t){var n=new Date(0);return n.setUTCSeconds(e),n.toLocaleDateString(t.replace("_","-"),{year:"numeric",month:"long",weekday:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"})},E=function(){var e=b(m().m((function e(t){var n,r,i,a,o,c,u,s,l;return m().w((function(e){for(;;)switch(e.p=e.n){case 0:return n={},e.n=1,t.getAllAttributesAndValues();case 1:r=e.v,i=d(r),e.p=2,i.s();case 3:if((a=i.n()).done){e.n=8;break}return o=a.value,e.n=4,o.getAttributeTypeOID();case 4:return c=e.v,e.n=5,c.getRawValue();case 5:return u=e.v,e.n=6,o.getStringValue();case 6:s=e.v,n[_(u)]=s;case 7:e.n=3;break;case 8:e.n=10;break;case 9:e.p=9,l=e.v,i.e(l);case 10:return e.p=10,i.f(),e.f(10);case 11:return e.a(2,n)}}),e,null,[[2,9,10,11]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){return{"[2,5,4,3]":"e_commonName","[2,5,4,4]":"e_surname","[2,5,4,6]":"e_countryName","[2,5,4,7]":"e_localityName","[2,5,4,8]":"e_stateOrProvinceName","[2,5,4,9]":"e_streetAddress","[2,5,4,10]":"e_organizationName","[2,5,4,11]":"e_organizationalUnitName","[1,2,840,113549,1,9,1]":"e_emailAddress"}["string"==typeof e?e:JSON.stringify(e)]},j=n(476),O=(n(31),n(32),n(29),n(1)),V=n.n(O),T=n(15),k=n.n(T),A=(n(94),n(123)),C=n.n(A),D=n(24);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,c=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=e.rect,n=Object(u.a)().core,a=N(Object(r.useState)(!1),2),o=a[0],c=a[1];return Object(r.useEffect)((function(){var e=n.getScrollViewElement(),t=function(){c(!1)};return e.addEventListener("scroll",t),function(){return e.removeEventListener("scroll",t)}})),Object(r.useEffect)((function(){t&&(setTimeout((function(){c(!0)}),50),setTimeout((function(){c(!1)}),700))}),[t]),o&&C.a.createPortal(i.a.createElement("div",{style:{position:"absolute",top:t.y1,left:t.x1,width:t.x2-t.x1,height:t.y2-t.y1,border:"1px solid #00a5e4",zIndex:99}}),Object(D.a)().querySelector("#app"))},x=n(90),I=n(1471),L=n(44);n(1555);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,c=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){var t=e.isCertification,n=e.ModificationPermissionsStatus,r=e.permissionStatus,a=e.translate;if(e.digestStatus===e.DigestStatusErrorCodes.e_digest_invalid)return i.a.createElement("p",null,a("digitalSignatureVerification.digestStatus.documentHasBeenAltered"));var o=B(B(B(B(B(B({},n.e_invalidated_by_disallowed_changes,"digitalSignatureVerification.permissionStatus.invalidatedByDisallowedChanges"),n.e_has_allowed_changes,"digitalSignatureVerification.permissionStatus.hasAllowedChanges"),n.e_unmodified,t?"".concat(a("digitalSignatureVerification.permissionStatus.unmodified")," ").concat(a("digitalSignatureVerification.certified"),"."):"".concat(a("digitalSignatureVerification.permissionStatus.unmodified")," ").concat(a("digitalSignatureVerification.signed"),".")),n.e_permissions_verification_disabled,"digitalSignatureVerification.permissionStatus.permissionsVerificationDisabled"),n.e_no_permissions_status,"digitalSignatureVerification.permissionStatus.noPermissionsStatus"),n.e_unsupported_permissions_features,"digitalSignatureVerification.permissionStatus.unsupportedPermissionsFeatures");return i.a.createElement("p",null,a(o[r]||""))},W={name:V.a.string.isRequired,onClick:V.a.func,field:V.a.instanceOf(window.Core.Annotations.Forms.Field)},H=function(e){var t,n,l=e.name,f=e.field,d=Object(u.a)().core,g=Object(a.e)((function(e){return s.a.getVerificationResult(e,l)})),m=R(Object(r.useState)(null),2),v=m[0],p=m[1],b=R(Object(r.useState)(!1),2),y=b[0],S=b[1],h=window.Core.PDFNet,w=h.VerificationResult,E=h.VerificationOptions.TimeMode,_=w.ModificationPermissionsStatus,j=w.DigestStatus,O=R(Object(o.a)(),1)[0],V=g.signed,T=g.signTime,A=g.verificationStatus,C=g.permissionStatus,D=g.disallowedChanges,N=g.trustVerificationResultBoolean,F=g.timeOfTrustVerificationEnum,M=g.trustVerificationTime,U=g.badgeIcon,B=g.isCertification,W=g.contactInfo,H=g.location,$=g.reason,z=g.signerName,J=g.digestStatus,K=Object(a.d)(),q=function(){!function(e){if(e.widgets.length){var t=e.widgets[0];d.jumpToAnnotation(t);var n=d.getScrollViewElement(),r=n.scrollLeft,i=n.scrollTop,a=t.getRect(),o=d.getDisplayModeObject().pageToWindow({x:a.x1,y:a.y1},t.PageNumber),c=d.getDisplayModeObject().pageToWindow({x:a.x2,y:a.y2},t.PageNumber);p({x1:o.x-r,y1:o.y-i,x2:c.x-r,y2:c.y-i})}}(f)},Z=Object(x.a)((function(){K(c.a.setSignatureValidationModalWidgetName(l)),K(c.a.openElement("signatureValidationModal"))}));return i.a.createElement("div",{className:"signature-widget-info"},V?i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{labelHeader:(n=O(B?"digitalSignatureVerification.Certified":"digitalSignatureVerification.Signed"),n+=" ".concat(O("digitalSignatureVerification.by")," ").concat(z||O("digitalSignatureModal.unknown")),T&&(n+=" ".concat(O("digitalSignatureVerification.on")," ").concat(T)),n),iconGlyph:U,useI18String:!1,onClick:q,onKeyDown:q},i.a.createElement("div",{className:"verificationDetails",tabIndex:-1},i.a.createElement("div",{className:"header"},(t=O(B?"digitalSignatureVerification.Certification":"digitalSignatureVerification.Signature"),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,O(A?"digitalSignatureVerification.verificationStatus.valid":"digitalSignatureVerification.verificationStatus.failed",{verificationType:t})))),i.a.createElement("ul",{className:"body"},i.a.createElement("li",null,G({isCertification:B,ModificationPermissionsStatus:_,permissionStatus:C,translate:O,digestStatus:J,DigestStatusErrorCodes:j})),D.map((function(e){var t=e.objnum,n=e.type;return i.a.createElement("li",{key:t},i.a.createElement("p",null,O("digitalSignatureVerification.disallowedChange",{type:n,objnum:t})))})),function(){var e;switch(F){case E.e_current:e=O("digitalSignatureVerification.trustVerification.current");break;case E.e_signing:e=O("digitalSignatureVerification.trustVerification.signing");break;case E.e_timestamp:e=O("digitalSignatureVerification.trustVerification.timestamp");break;default:console.warn("Unexpected pdftron::PDF::VerificationOptions::TimeMode: ".concat(F))}return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement("p",null,O(N?"digitalSignatureVerification.trustVerification.verifiedTrust":"digitalSignatureVerification.trustVerification.noTrustVerification"))),i.a.createElement("li",null,i.a.createElement("p",null,M)),i.a.createElement("li",null,i.a.createElement("p",null,e)))}(),i.a.createElement("li",null,i.a.createElement("button",{"data-element":"signatureProperties-".concat(l),onClick:Z,tabIndex:0,className:"signatureProperties link","aria-label":"Open signature properties modal"},i.a.createElement("p",{className:"bold underline"},O("digitalSignatureVerification.signatureProperties"))))))),i.a.createElement("div",{className:"header header-with-arrow"},W||H||$?i.a.createElement("div",{className:"signatureDetails",tabIndex:-1},i.a.createElement("div",{className:"title collapsible"},i.a.createElement(L.a,{img:"icon-chevron-right",className:k()({arrow:!0,expanded:y}),ariaExpanded:y,isActive:y,ariaLabel:O("digitalSignatureVerification.signatureDetails.signatureDetails"),onClick:function(){return S(!y)}}),i.a.createElement("p",null,O("digitalSignatureVerification.signatureDetails.signatureDetails"))),y&&i.a.createElement("ul",{className:"body"},i.a.createElement("li",null,i.a.createElement("p",{className:"bold"},"".concat(O("digitalSignatureVerification.signatureDetails.contactInformation"),":")),i.a.createElement("p",{className:"result-for-header"},W||O("digitalSignatureVerification.signatureDetails.noContactInformation"))),i.a.createElement("li",null,i.a.createElement("p",{className:"bold"},"".concat(O("digitalSignatureVerification.signatureDetails.location"),":")),i.a.createElement("p",{className:"result-for-header"},H||O("digitalSignatureVerification.signatureDetails.noLocation"))),i.a.createElement("li",null,i.a.createElement("p",{className:"bold"},"".concat(O("digitalSignatureVerification.signatureDetails.reason"),":")),i.a.createElement("p",{className:"result-for-header"},$||O("digitalSignatureVerification.signatureDetails.noReason"))),T&&i.a.createElement("li",null,i.a.createElement("p",{className:"bold"},"".concat(O("digitalSignatureVerification.signatureDetails.signingTime"),":")),i.a.createElement("p",{className:"result-for-header"},T||O("digitalSignatureVerification.signatureDetails.noSigningTime"))))):null))):i.a.createElement(I.a,{labelHeader:O("digitalSignatureVerification.unsignedSignatureField",{fieldName:f.name}),iconGlyph:"digital_signature_empty",useI18String:!1,onClick:q,onKeyDown:q}),i.a.createElement(P,{rect:v}))};H.propTypes=W;var $=H,z=(n(1556),n(53)),J=n(28);function K(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Z(s,"_invoke",function(n,r,i){var a,c,u,s=0,l=i||[],f=!1,d={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return a=t,c=0,u=e,d.n=n,o}};function g(n,r){for(c=n,u=r,t=0;!f&&s&&!i&&t<l.length;t++){var i,a=l[t],g=d.p,m=a[2];n>3?(i=m===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=g&&((i=n<2&&g<a[1])?(c=0,d.v=r,d.n=a[1]):g<m&&(i=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,d.n=m,c=0))}if(i||n>1)return o;throw f=!0,r}return function(i,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&g(l,m),c=l,u=m;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),g(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(i="next"),t=a[i]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),c=1);a=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==o)break}catch(t){a=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,i,a),!0),s}var o={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Z(t={},r,(function(){return this})),t),f=s.prototype=c.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Z(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,Z(f,"constructor",s),Z(s,"constructor",u),u.displayName="GeneratorFunction",Z(s,i,"GeneratorFunction"),Z(f),Z(f,i,"Generator"),Z(f,r,(function(){return this})),Z(f,"toString",(function(){return"[object Generator]"})),(q=function(){return{w:a,m:d}})()}function Z(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(Z=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){Z(e,t,(function(e){return this._invoke(t,n,e)}))};a("next",0),a("throw",1),a("return",2)}})(e,t,n,r)}function Q(e,t,n,r,i,a,o){try{var c=e[a](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,i)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Q(a,r,i,o,c,"next",e)}function c(e){Q(a,r,i,o,c,"throw",e)}o(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,c=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ne=function(){var e=Object(u.a)().core,t=Object(a.d)(),n=Y(Object(r.useState)([]),2),l=n[0],f=n[1],d=Y(Object(r.useState)(!1),2),g=d[0],m=d[1],v=Y(Object(r.useState)(""),2),p=v[0],b=v[1],S=Y(Object(r.useState)(e.getDocument()),2),h=S[0],w=S[1],E=Object(a.e)((function(e){return s.a.isElementDisabled(e,"signaturePanel")})),_=Object(a.e)(s.a.getCertificates,a.c),O=Object(a.e)(s.a.getCurrentLanguage),V=Object(a.e)(s.a.getIsRevocationCheckingEnabled),T=Object(a.e)(s.a.getRevocationProxyPrefix),k=Object(a.e)(s.a.getTrustListKey),A=Y(Object(o.a)(),1)[0],C=function(){var t=X(q().m((function t(){return q().w((function(t){for(;;)switch(t.n){case 0:w(e.getDocument());case 1:return t.a(2)}}),t)})));return function(){return t.apply(this,arguments)}}(),D=Object(r.useCallback)((function(){m(!0),t(c.a.setVerificationResult({}))}),[m,t]),N=function(t,n){var r=e.getAnnotationManager().getFormFieldCreationManager().isInFormFieldCreationMode();"add"===n?P(e.getAnnotationManager().getAnnotationsList()):"delete"===n&&r&&x(t)},F=function(){var t=e.getAnnotationManager().getAnnotationsList();P(t)},P=function(e){var t=[];e.forEach((function(e){e instanceof window.Core.Annotations.SignatureWidgetAnnotation&&t.push(e.getField())}));var n=new Set(t);f(K(n))},x=function(e){e.forEach((function(e){I(e)})),F()},I=function(t){if(t instanceof window.Core.Annotations.WidgetAnnotation){var n=e.getAnnotationManager(),r=n.getAnnotationsList().filter((function(e){return e.getCustomData("trn-editing-rectangle-id")===t.Id}));n.deleteAnnotations(r)}},L=function(){f([]),F()};Object(r.useEffect)((function(){return e.addEventListener("documentLoaded",C),e.addEventListener("documentUnloaded",D),e.addEventListener("annotationChanged",N),e.addEventListener("formFieldCreationModeStarted",L),e.addEventListener("formFieldCreationModeEnded",L),function(){e.removeEventListener("documentLoaded",C),e.removeEventListener("documentUnloaded",D),e.removeEventListener("annotationChanged",N),e.removeEventListener("formFieldCreationModeStarted",L),e.removeEventListener("formFieldCreationModeEnded",L)}}),[D]);var M=function(e,t,n){var r=e.result;if(!r.objectStoreNames.contains("trustList"))return r.close(),void t(null);var i=r.transaction("trustList","readonly"),a=i.objectStore("trustList").get(k);a.onsuccess=X(q().m((function e(){var n;return q().w((function(e){for(;;)switch(e.n){case 0:(n=a.result)?n instanceof ArrayBuffer?t(n.slice(0)):t(n):t(null);case 1:return e.a(2)}}),e)}))),a.onerror=function(){return n(a.error)},i.onerror=function(){n(i.error)},i.oncomplete=function(){return r.close()}},R=function(){var e=X(q().m((function e(){return q().w((function(e){for(;;)switch(e.n){case 0:return e.a(2,new Promise((function(e,t){var n=indexedDB.open("WebViewerTrustList",1);n.onerror=function(){return t(n.error)},n.onsuccess=function(){M(n,e,t)}})))}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){h?e.getAnnotationsLoadedPromise().then(X(q().m((function n(){var r,i;return q().w((function(n){for(;;)switch(n.n){case 0:if(m(!0),!k){n.n=3;break}return n.n=1,R();case 1:if(i=n.v){n.n=2;break}i=[];case 2:r=i,n.n=4;break;case 3:r=[];case 4:y(h,_,r,O,V,T,t).then(function(){var t=X(q().m((function t(n){var r;return q().w((function(t){for(;;)switch(t.n){case 0:r=e.getAnnotationManager().getFieldManager(),f(Object.keys(n).map((function(e){return r.getField(e)}))),b("");case 1:return t.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){e&&e.message?b(e.message):console.error(e)})).then((function(){F()})).finally((function(){m(!1)}));case 5:return n.a(2)}}),n)})))):m(!0)}),[_,h,t,O,k]),E)return null;return i.a.createElement("div",{className:"Panel SignaturePanel","data-element":"signaturePanel"},function(){var e;if(g)e=i.a.createElement(j.a,{inPanel:!0,width:"40px",height:"40px"});else if("Error reading the local certificate"===p)e=A("digitalSignatureVerification.panelMessages.localCertificateError");else if("Download Failed"===p)e=A("digitalSignatureVerification.panelMessages.certificateDownloadError");else{if(l.length)return null;e=A("digitalSignatureVerification.panelMessages.noSignatureFields")}return i.a.createElement("div",{className:"empty-panel-container"},i.a.createElement(z.a,{className:"empty-icon",glyph:J.c[J.e.SIGNATURE].icon}),i.a.createElement("div",{className:"empty-message"},e))}(),!g&&l.length>0&&l.map((function(e,t){return i.a.createElement($,{key:t,name:e.name,collapsible:!0,field:e})})))};t.default=ne}}]);
//# sourceMappingURL=chunk.56.js.map
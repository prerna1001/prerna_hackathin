(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[70],{1739:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1857:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(14),n(36),n(21),n(49),n(20),n(12),n(22),n(95),n(18),n(26),n(16),n(57),n(8),n(17),n(19),n(11),n(13);var a=n(0),r=n.n(a),o=n(15),i=n.n(o),c=n(185),u=n.n(c),l=n(1),s=n.n(l),m=n(33),f=n(56),v=n(2),p=n(3),d=n(6),E=(n(38),n(267),n(1437)),b=n(53);function y(e){return function(t){switch(Object(f.g)(e.annotation)){case"ellipse":return r.a.createElement(g,e);default:console.error("Custom overlay for annotation type: ".concat(t," not supported"))}}(e.type)}function g(e){var t,n=Object(f.g)(e.annotation),a=Object(f.e)(n).icon,o=e.t,i=Object(m.a)().core.getTool("AnnotationCreateDistanceMeasurement"),c=i.defaults.Precision,u=i.defaults.Scale,l=i.Measure,s=u[1][1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"measurement__title"},a&&r.a.createElement(b.a,{className:"measurement__icon",glyph:a}),e.title),r.a.createElement("div",{className:"measurement__scale"},o("option.measurementOverlay.scale"),": ","".concat(u[0][0]," ").concat(u[0][1]," = ").concat(u[1][0]," ").concat(u[1][1])),r.a.createElement("div",{className:"measurement__precision"},o("option.shared.precision"),": ",c),r.a.createElement("div",{className:"measurement__value"},e.label,": ",r.a.createElement("input",{className:"lineMeasurementInput",type:"number",min:"0",value:(t=l.axis[0].factor,(e.value(e.annotation).toFixed(2)*t).toFixed(2)),onChange:function(t){return e.onChange(t,e.annotation)}})," ",s))}y.propTypes={annotation:s.a.object.isRequired,value:s.a.func.isRequired,onChange:s.a.func.isRequired,label:s.a.string.isRequired,t:s.a.func.isRequired,title:s.a.string.isRequired},g.propTypes=y.propTypes;var O=Object(E.a)()(y),j=n(307);function h(e){var t=Object(f.g)(e.annotation),n=Object(f.e)(t).icon,a=Object(m.a)().core,o=Object(j.a)().t,i=a.getAnnotationsList().filter((function(e){return e.getCustomData("trn-is-count")})).length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"measurement__title"},n&&r.a.createElement(b.a,{className:"measurement__icon",glyph:n}),o("option.measurementOverlay.countMeasurement")),r.a.createElement("div",{className:"measurement__count"},o("option.measurementOverlay.count"),": ",i))}h.propTypes={annotation:s.a.object.isRequired};var _=h,M=n(5);n(1739);function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,c=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(e){l=!0,r=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var N={annotation:s.a.object},S=function(e){var t,n=Object(m.a)().core,o=e.annotation,c=Object(d.e)((function(e){return p.a.isElementDisabled(e,M.a.MEASUREMENT_OVERLAY)})),l=(t=R(Object(a.useState)(0),2)[1],function(){return t((function(e){return e+1}))}),s=Object(d.d)(),E=R(Object(a.useState)({x:0,y:0}),2),b=E[0],y=E[1],g=R(Object(a.useState)(!1),2),j=g[0],h=g[1],T=R(Object(a.useState)(!1),2),N=T[0],S=T[1],w=Object(d.e)((function(e){return p.a.isElementOpen(e,M.a.MEASUREMENT_OVERLAY)})),x=Object(d.e)((function(e){return p.a.getActiveToolName(e)})),C=Object(d.e)((function(e){return p.a.getCustomMeasurementOverlay(e)})),L=Object(a.useRef)(),D=Object(f.g)(o),I=function(e){return!function(e){return["countMeasurement"].includes(Object(f.g)(e))}(e)&&C.some((function(t){return t.validate(e)}))},U=function(e){var t=n.getTool(x);if(o){var a,r=function(e,t){if(null===t)return!1;var n,a,r=t.getBoundingClientRect();return e.touches&&e instanceof TouchEvent?(n=e.touches[0].clientX,a=e.touches[0].clientY):(n=e.clientX,a=e.clientY),n>=r.left&&n<=r.right&&a>=r.top&&a<=r.bottom}(e,L.current);if(N){var i,c,u=null===(i=(c=n.getToolMode()).getDrawMode)||void 0===i?void 0:i.call(c);a=r&&"twoClicks"!==u}else{var m=n.getAnnotationByMouseEvent(e);a=r&&m===o}h(a),l()}else I(t.annotation)&&(s(v.a.openElement(M.a.MEASUREMENT_OVERLAY)),S(!0))},q=function(e,t){"add"===t&&1===e.length&&e[0]===o&&s(v.a.closeElement(M.a.MEASUREMENT_OVERLAY)),"modify"===t&&1===e.length&&e[0]===o&&l()};return Object(a.useEffect)((function(){return n.addEventListener("mouseMove",U),n.addEventListener("annotationChanged",q),function(){n.removeEventListener("mouseMove",U),n.removeEventListener("annotationChanged",q)}}),[]),c||!o?null:r.a.createElement(u.a,{cancel:"input",position:b,onDrag:function(e,t){var n=t.x,a=t.y;return y({x:n,y:a})},onStop:function(e,t){var n=t.x,a=t.y;return y({x:n,y:a})}},r.a.createElement("div",{className:i()({Overlay:!0,MeasurementOverlay:!0,open:w,closed:!w,transparent:j}),ref:L,"data-element":M.a.MEASUREMENT_OVERLAY},function(e,t){return I(e)?r.a.createElement(O,A({annotation:e},C.filter((function(t){return t.validate(e)}))[0])):"countMeasurement"===t?r.a.createElement(_,{annotation:e}):void 0}(o,D)))};S.propTypes=N;var w=S;t.default=w}}]);
//# sourceMappingURL=chunk.70.js.map
(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[75],{1801:function(e,t,n){e.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1888:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(14),n(21),n(77),n(20),n(12),n(233),n(119),n(22),n(18),n(26),n(16),n(40),n(23),n(41),n(42),n(8),n(54),n(17),n(19),n(11),n(136),n(13),n(313),n(314),n(315);var r=n(0),a=n.n(r),o=n(6),i=n(140),l=n(15),c=n.n(l),u=n(39),s=n(44),f=n(307),p=n(141),d=n(1708),m=n(492),b=n(3),E=n(2),v=n(5),O=n(383),y=n(164),h=(n(1640),n(1801),n(1)),w=n.n(h),g=n(33);function j(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return S(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function d(n,r){for(l=n,c=r,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],d=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(l=0,p.v=r,p.n=o[1]):d<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw f=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,m),l=s,c=m;(t=l<2?e:c)||!f;){o||(l?l<3?(l>1&&(p.n=-1),d(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(f=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:f}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(S(t={},r,(function(){return this})),t),f=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,S(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=u,S(f,"constructor",u),S(u,"constructor",c),c.displayName="GeneratorFunction",S(u,a,"GeneratorFunction"),S(f),S(f,a,"Generator"),S(f,r,(function(){return this})),S(f,"toString",(function(){return"[object Generator]"})),(j=function(){return{w:o,m:p}})()}function S(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(S=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){S(e,t,(function(e){return this._invoke(t,n,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,n,r)}function D(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,l,"next",e)}function l(e){D(o,r,a,i,l,"throw",e)}i(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t=e.isDisabled,n=e.isOpen,l=e.tabManager,E=e.closeElements,h=Object(g.a)().core,w=Object(f.a)().t,S=N(Object(o.e)((function(e){return[b.a.getSelectedTab(e,"openFileModal")]})),1)[0],D=N(Object(r.useState)(""),2),_=D[0],M=D[1],L=N(Object(r.useState)("pdf"),2),T=L[0],I=L[1],x=N(Object(r.useState)(),2),A=x[0],P=x[1],R=N(Object(r.useState)(),2),k=R[0],C=R[1],G=N(Object(r.useState)({fileError:"",urlError:"",extensionError:""}),2),U=G[0],B=G[1],H=N(Object(r.useState)(null),2),V=H[0],W=H[1],q=function(){M(""),B({fileError:"",urlError:""}),P(null),I("pdf"),C(null),E([v.a.OPEN_FILE_MODAL])};Object(r.useEffect)((function(){n?E([v.a.PRINT_MODAL,v.a.LOADING_MODAL,v.a.PROGRESS_MODAL,v.a.ERROR_MODAL,v.a.MODEL3D_MODAL]):(M(""),B({fileError:"",urlError:""}),P(null),I(null),C(null))}),[n]);var J=function(){var e=F(j().m((function e(t,n,r,a){return j().w((function(e){for(;;)switch(e.n){case 0:if(W(null),t){e.n=1;break}return e.a(2,B({urlError:"URL or File must be provided"}));case 1:if(n&&-1!==K.indexOf(n)){e.n=2;break}return e.a(2,B({extensionError:"Extension must be provided"}));case 2:return e.n=3,h.performDocumentCreationChecks(t).then(F(j().m((function e(){var o;return j().w((function(e){for(;;)switch(e.n){case 0:return o=!a||i.a.MAX_FILE_SIZE>a,e.n=1,l.addTab(t,{extension:n,filename:r,setActive:!0,saveCurrentActiveTabState:!0,useDB:o});case 1:return e.a(2)}}),e)})))).catch((function(e){W(w("message.urlInputFileLoadError")),console.error("Error adding tab:",e)}));case 3:return e.a(2)}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),$=c()({Modal:!0,OpenFileModal:!0,open:n,closed:!n}),z=/(?:\.([^.?]+))?$/,X=function(){var e=F(j().m((function e(t){var n,r,a,o;return j().w((function(e){for(;;)switch(e.n){case 0:if(B(null),t){e.n=1;break}return e.a(2);case 1:if(!(t instanceof window.Core.Document)){e.n=3;break}return e.n=2,J(t,t.type,t.filename);case 2:e.n=4;break;case 3:return n=window.Core.mimeTypeToExtension[t.type]||z.exec(t.name)[1]||null,r=t.name,a=t.size,o=URL.createObjectURL(t),M(o),P(r),I(n),C(a),e.n=4,J(t,n,r,a);case 4:return e.a(2)}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=F(j().m((function e(t){var n;return j().w((function(e){for(;;)switch(e.n){case 0:B(null),M(t.trim()),n=t.substring(t.lastIndexOf("/")+1).split("?")[0],P(n),I(z.exec(n)[1]),C(null);case 1:return e.a(2)}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=!!Object(u.a)("webviewerServerURL",null)?window.Core.SupportedFileFormats.SERVER:window.Core.SupportedFileFormats.CLIENT;return K=K.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]),!t&&a.a.createElement("div",{className:$,"data-element":v.a.OPEN_FILE_MODAL,onMouseDown:q},a.a.createElement("div",{className:"container",onMouseDown:function(e){return e.stopPropagation()}},a.a.createElement(O.a,{title:w("OpenFile.newTab"),isOpen:n,closeButtonDataElement:"openFileModalClose",onCloseClick:q,swipeToClose:!0,closeHandler:q},a.a.createElement("div",{className:"swipe-indicator"}),a.a.createElement(p.d,{className:"open-file-modal-tabs",id:"openFileModal"},a.a.createElement("div",{className:"tabs-header-container"},a.a.createElement("div",{role:"tablist",className:"tab-list"},a.a.createElement(p.a,{dataElement:"urlInputPanelButton"},a.a.createElement("button",{role:"tab",className:"tab-options-button"},w("link.url"))),a.a.createElement("div",{className:"tab-options-divider"}),a.a.createElement(p.a,{dataElement:"filePickerPanelButton"},a.a.createElement("button",{role:"tab",className:"tab-options-button"},w("option.pageReplacementModal.localFile"))))),a.a.createElement(p.c,{dataElement:"urlInputPanel"},a.a.createElement("div",{className:"panel-body"},a.a.createElement(d.a,{onFileSelect:function(e){Z(e)},error:V,acceptFormats:K,extension:_.length&&null!=T&&T.length?T:"",setExtension:I,defaultValue:_}))),a.a.createElement(p.c,{dataElement:"filePickerPanel"},a.a.createElement("div",{className:"panel-body"},a.a.createElement(m.a,{onFileProcessed:function(e){return X(e)}})))),a.a.createElement("div",{className:"page-replacement-divider"}),a.a.createElement("div",{className:"footer"},(null==U?void 0:U.urlError)&&a.a.createElement("p",{className:"error"},"* ",U.urlError),(null==U?void 0:U.fileError)&&a.a.createElement("p",{className:"error"},"* ",U.fileError),(null==U?void 0:U.extensionError)&&a.a.createElement("p",{className:"error"},"* ",U.extensionError),a.a.createElement(s.a,{className:"modal-btn",dataElement:"linkSubmitButton",label:w("OpenFile.addTab"),style:{width:90},onClick:Object(y.a)((function(){return J(_,T,A,k)})),disabled:"urlInputPanelButton"!==S||!_.length||!(null!=T&&T.length)})))))};M.propTypes={isDisabled:w.a.bool,isOpen:w.a.bool,tabManager:w.a.instanceOf(i.a).isRequired,closeElements:w.a.func.isRequired};var L={closeElements:E.a.closeElements},T=Object(o.b)((function(e){return{isDisabled:b.a.isElementDisabled(e,v.a.OPEN_FILE_MODAL),isOpen:b.a.isElementOpen(e,v.a.OPEN_FILE_MODAL),tabManager:b.a.getTabManager(e)}}),L)(M);t.default=T}}]);
//# sourceMappingURL=chunk.75.js.map
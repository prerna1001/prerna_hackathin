(window.webpackJsonpWebViewerUI=window.webpackJsonpWebViewerUI||[]).push([[28,7,19,23,32,83],{1443:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const r=n(1538),o=n(1486),i=n(1487),a=n(1539);e.AttributeMap=a.default;const l=n(1488);e.Op=l.default;const u=n(1540);e.OpIterator=u.default;const c=String.fromCharCode(0),s=(t,e)=>{if("object"!=typeof t||null===t)throw new Error("cannot retain a "+typeof t);if("object"!=typeof e||null===e)throw new Error("cannot retain a "+typeof e);const n=Object.keys(t)[0];if(!n||n!==Object.keys(e)[0])throw new Error(`embed types not matched: ${n} != ${Object.keys(e)[0]}`);return[n,t[n],e[n]]};class f{constructor(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}static registerEmbed(t,e){this.handlers[t]=e}static unregisterEmbed(t){delete this.handlers[t]}static getHandler(t){const e=this.handlers[t];if(!e)throw new Error(`no handlers for embed type "${t}"`);return e}insert(t,e){const n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))}delete(t){return t<=0?this:this.push({delete:t})}retain(t,e){if("number"==typeof t&&t<=0)return this;const n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)}push(t){let e=this.ops.length,n=this.ops[e-1];if(t=o(t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,n=this.ops[e-1],"object"!=typeof n))return this.ops.unshift(t),this;if(i(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this}chop(){const t=this.ops[this.ops.length-1];return t&&"number"==typeof t.retain&&!t.attributes&&this.ops.pop(),this}filter(t){return this.ops.filter(t)}forEach(t){this.ops.forEach(t)}map(t){return this.ops.map(t)}partition(t){const e=[],n=[];return this.forEach(r=>{(t(r)?e:n).push(r)}),[e,n]}reduce(t,e){return this.ops.reduce(t,e)}changeLength(){return this.reduce((t,e)=>e.insert?t+l.default.length(e):e.delete?t-e.delete:t,0)}length(){return this.reduce((t,e)=>t+l.default.length(e),0)}slice(t=0,e=1/0){const n=[],r=new u.default(this.ops);let o=0;for(;o<e&&r.hasNext();){let i;o<t?i=r.next(t-o):(i=r.next(e-o),n.push(i)),o+=l.default.length(i)}return new f(n)}compose(t){const e=new u.default(this.ops),n=new u.default(t.ops),r=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){let t=o.retain;for(;"insert"===e.peekType()&&e.peekLength()<=t;)t-=e.peekLength(),r.push(e.next());o.retain-t>0&&n.next(o.retain-t)}const l=new f(r);for(;e.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===e.peekType())l.push(e.next());else{const t=Math.min(e.peekLength(),n.peekLength()),r=e.next(t),o=n.next(t);if(o.retain){const u={};if("number"==typeof r.retain)u.retain="number"==typeof o.retain?t:o.retain;else if("number"==typeof o.retain)null==r.retain?u.insert=r.insert:u.retain=r.retain;else{const t=null==r.retain?"insert":"retain",[e,n,i]=s(r[t],o.retain),a=f.getHandler(e);u[t]={[e]:a.compose(n,i,"retain"===t)}}const c=a.default.compose(r.attributes,o.attributes,"number"==typeof r.retain);if(c&&(u.attributes=c),l.push(u),!n.hasNext()&&i(l.ops[l.ops.length-1],u)){const t=new f(e.rest());return l.concat(t).chop()}}else"number"==typeof o.delete&&("number"==typeof r.retain||"object"==typeof r.retain&&null!==r.retain)&&l.push(o)}return l.chop()}concat(t){const e=new f(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e}diff(t,e){if(this.ops===t.ops)return new f;const n=[this,t].map(e=>e.map(n=>{if(null!=n.insert)return"string"==typeof n.insert?n.insert:c;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")}).join("")),o=new f,l=r(n[0],n[1],e,!0),s=new u.default(this.ops),d=new u.default(t.ops);return l.forEach(t=>{let e=t[1].length;for(;e>0;){let n=0;switch(t[0]){case r.INSERT:n=Math.min(d.peekLength(),e),o.push(d.next(n));break;case r.DELETE:n=Math.min(e,s.peekLength()),s.next(n),o.delete(n);break;case r.EQUAL:n=Math.min(s.peekLength(),d.peekLength(),e);const t=s.next(n),l=d.next(n);i(t.insert,l.insert)?o.retain(n,a.default.diff(t.attributes,l.attributes)):o.push(l).delete(n)}e-=n}}),o.chop()}eachLine(t,e="\n"){const n=new u.default(this.ops);let r=new f,o=0;for(;n.hasNext();){if("insert"!==n.peekType())return;const i=n.peek(),a=l.default.length(i)-n.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(e,a)-a:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===t(r,n.next(1).attributes||{},o))return;o+=1,r=new f}}r.length()>0&&t(r,{},o)}invert(t){const e=new f;return this.reduce((n,r)=>{if(r.insert)e.delete(l.default.length(r));else{if("number"==typeof r.retain&&null==r.attributes)return e.retain(r.retain),n+r.retain;if(r.delete||"number"==typeof r.retain){const o=r.delete||r.retain;return t.slice(n,n+o).forEach(t=>{r.delete?e.push(t):r.retain&&r.attributes&&e.retain(l.default.length(t),a.default.invert(r.attributes,t.attributes))}),n+o}if("object"==typeof r.retain&&null!==r.retain){const o=t.slice(n,n+1),i=new u.default(o.ops).next(),[l,c,d]=s(r.retain,i.insert),h=f.getHandler(l);return e.retain({[l]:h.invert(c,d)},a.default.invert(r.attributes,i.attributes)),n+1}}return n},0),e.chop()}transform(t,e=!1){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);const n=t,r=new u.default(this.ops),o=new u.default(n.ops),i=new f;for(;r.hasNext()||o.hasNext();)if("insert"!==r.peekType()||!e&&"insert"===o.peekType())if("insert"===o.peekType())i.push(o.next());else{const t=Math.min(r.peekLength(),o.peekLength()),n=r.next(t),l=o.next(t);if(n.delete)continue;if(l.delete)i.push(l);else{const r=n.retain,o=l.retain;let u="object"==typeof o&&null!==o?o:t;if("object"==typeof r&&null!==r&&"object"==typeof o&&null!==o){const t=Object.keys(r)[0];if(t===Object.keys(o)[0]){const n=f.getHandler(t);n&&(u={[t]:n.transform(r[t],o[t],e)})}}i.retain(u,a.default.transform(n.attributes,l.attributes,e))}}else i.retain(l.default.length(r.next()));return i.chop()}transformPosition(t,e=!1){e=!!e;const n=new u.default(this.ops);let r=0;for(;n.hasNext()&&r<=t;){const o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r)}return t}}f.Op=l.default,f.OpIterator=u.default,f.AttributeMap=a.default,f.handlers={},e.default=f,t.exports=f,t.exports.default=f},1448:function(t,e,n){"use strict";var r=n(0),o=n.n(r).a.createContext();e.a=o},1453:function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function o(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function i(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,l=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?l="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(l="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==l){var u=t.displayName||t.name,c="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==l?"\n  "+l:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=o),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var s=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},1457:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"Attributor",(function(){return a})),n.d(r,"AttributorStore",(function(){return p})),n.d(r,"BlockBlot",(function(){return C})),n.d(r,"ClassAttributor",(function(){return f})),n.d(r,"ContainerBlot",(function(){return A})),n.d(r,"EmbedBlot",(function(){return T})),n.d(r,"InlineBlot",(function(){return x})),n.d(r,"LeafBlot",(function(){return b})),n.d(r,"ParentBlot",(function(){return O})),n.d(r,"Registry",(function(){return c})),n.d(r,"Scope",(function(){return i})),n.d(r,"ScrollBlot",(function(){return R})),n.d(r,"StyleAttributor",(function(){return h})),n.d(r,"TextBlot",(function(){return I}));n(9),n(10),n(14),n(21),n(77),n(20),n(22),n(18),n(16),n(47),n(23),n(46),n(48),n(17),n(19),n(11),n(13),n(31),n(38),n(36),n(81),n(27),n(12),n(43),n(119),n(32),n(29),n(156),n(415),n(37),n(8),n(173),n(136),n(30);var o=n(1465),i=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(i||{});class a{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const r=i.TYPE&i.ATTRIBUTE;this.scope=null!=n.scope?n.scope&i.LEVEL|r:i.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(t=>t.name)}add(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}canAdd(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class l extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}const u=class t{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(null==t)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(e,n,r){const o=this.query(n);if(null==o)throw new l(`Unable to create ${n} blot`);const i=o,a=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(r),u=new i(e,a,r);return t.blots.set(u.domNode,u),u}find(e,n=!1){return t.find(e,n)}query(t,e=i.ANY){let n;return"string"==typeof t?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:"number"==typeof t?t&i.LEVEL&i.BLOCK?n=this.types.block:t&i.LEVEL&i.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(t=>(n=this.classes[t],!!n)),n=n||this.tags[t.tagName]),null==n?null:"scope"in n&&e&i.LEVEL&n.scope&&e&i.TYPE&n.scope?n:null}register(...t){return t.map(t=>{const e="blotName"in t,n="attrName"in t;if(!e&&!n)throw new l("Invalid definition");if(e&&"abstract"===t.blotName)throw new l("Cannot register abstract class");const r=e?t.blotName:n?t.attrName:void 0;return this.types[r]=t,n?"string"==typeof t.keyName&&(this.attributes[t.keyName]=t):e&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(t=>t.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(e=>{(null==this.tags[e]||null==t.className)&&(this.tags[e]=t)}))),t})}};u.blots=new WeakMap;let c=u;function s(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(t=>0===t.indexOf(e+"-"))}const f=class extends a{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0)}remove(t){s(t,this.keyName).forEach(e=>{t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")}value(t){const e=(s(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}};function d(t){const e=t.split("-"),n=e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("");return e[0]+n}const h=class extends a{static keys(t){return(t.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(t,e){return!!this.canAdd(t,e)&&(t.style[d(this.keyName)]=e,!0)}remove(t){t.style[d(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[d(this.keyName)];return this.canAdd(t,e)?e:""}};const p=class{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=c.find(this.domNode);if(null==t)return;const e=a.keys(this.domNode),n=f.keys(this.domNode),r=h.keys(this.domNode);e.concat(n).concat(r).forEach(e=>{const n=t.scroll.query(e,i.ATTRIBUTE);n instanceof a&&(this.attributes[n.attrName]=n)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}},y=class{constructor(t,e){this.scroll=t,this.domNode=e,c.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(null==this.tagName)throw new l("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?("string"==typeof t?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):"number"==typeof t&&(n=t),e="number"==typeof n?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){null!=this.parent&&this.parent.removeChild(this),c.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,r){const o=this.isolate(t,e);if(null!=this.scroll.query(n,i.BLOT)&&r)o.wrap(n,r);else if(null!=this.scroll.query(n,i.ATTRIBUTE)){const t=this.scroll.create(this.statics.scope);o.wrap(t),t.format(n,r)}}insertAt(t,e,n){const r=null==n?this.scroll.create("text",e):this.scroll.create(e,n),o=this.split(t);this.parent.insertBefore(r,o||void 0)}isolate(t,e){const n=this.split(t);if(null==n)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return 0===t?this:this.next}update(t,e){}wrap(t,e){const n="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new l("Cannot wrap "+t);return n.appendChild(this),n}};y.blotName="abstract";let m=y;const v=class extends m{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};v.scope=i.INLINE_BLOT;const b=v;class g{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),r=0;for(;n;){if(n===t)return r;r+=1,n=e()}return-1}insertBefore(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return null!=t&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let r=n();for(;r;){const o=r.length();if(t<o||e&&t===o&&(null==r.next||0!==r.next.length()))return[r,t];t-=o,r=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[r,o]=this.find(t);let i=t-o;const a=this.iterator(r);let l=a();for(;l&&i<t+e;){const r=l.length();t>i?n(l,t-i,Math.min(e,i+r-t)):n(l,0,Math.min(r,t+e-i)),i+=r,l=a()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let r=n();for(;r;)e=t(e,r),r=n();return e}}function w(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const n=e.create(i.INLINE);return Array.from(t.childNodes).forEach(t=>{n.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach(),n}}const S=class t extends m{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(e){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new g,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=w(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(t){if(t instanceof l)return;throw t}})}deleteAt(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(t,e,n)=>{t.deleteAt(e,n)})}descendant(e,n=0){const[r,o]=this.children.find(n);return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,o]:r instanceof t?r.descendant(e,o):[null,-1]}descendants(e,n=0,r=Number.MAX_VALUE){let o=[],i=r;return this.children.forEachAt(n,r,(n,r,a)=>{(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&o.push(n),n instanceof t&&(o=o.concat(n.descendants(e,r,i))),i-=a}),o}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(t=>n instanceof t)||(n.statics.scope===i.BLOCK_BLOT?(null!=n.next&&this.splitAfter(n),null!=n.prev&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof t?n.unwrap():n.remove())})}formatAt(t,e,n,r){this.children.forEachAt(t,e,(t,e,o)=>{t.formatAt(e,o,n,r)})}insertAt(t,e,n){const[r,o]=this.children.find(t);if(r)r.insertAt(o,e,n);else{const t=null==n?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(t)}}insertBefore(t,e){null!=t.parent&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,null!=e&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,n=!1){const[r,o]=this.children.find(e,n),i=[[this,e]];return r instanceof t?i.concat(r.path(o,n)):(null!=r&&i.push([r,o]),i)}removeChild(t){this.children.remove(t)}replaceWith(e,n){const r="string"==typeof e?this.scroll.create(e,n):e;return r instanceof t&&this.moveChildren(r),super.replaceWith(r)}split(t,e=!1){if(!e){if(0===t)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(t,r,o)=>{const i=t.split(r,e);null!=i&&n.appendChild(i)}),n}splitAfter(t){const e=this.clone();for(;null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],r=[];t.forEach(t=>{t.target===this.domNode&&"childList"===t.type&&(n.push(...t.addedNodes),r.push(...t.removedNodes))}),r.forEach(t=>{if(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const e=this.scroll.find(t);null!=e&&(null==e.domNode.parentNode||e.domNode.parentNode===this.domNode)&&e.detach()}),n.filter(t=>t.parentNode===this.domNode&&t!==this.uiNode).sort((t,e)=>t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(t=>{let e=null;null!=t.nextSibling&&(e=this.scroll.find(t.nextSibling));const n=w(t,this.scroll);(n.next!==e||null==n.next)&&(null!=n.parent&&n.parent.removeChild(this),this.insertBefore(n,e||void 0))}),this.enforceAllowedChildren()}};S.uiClass="";const O=S;const E=class t extends O{static create(t){return super.create(t)}static formats(e,n){const r=n.query(t.blotName);if(null==r||e.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new p(this.domNode)}format(e,n){if(e!==this.statics.blotName||n){const t=this.scroll.query(e,i.INLINE);if(null==t)return;t instanceof a?this.attributes.attribute(t,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}else this.children.forEach(e=>{e instanceof t||(e=e.wrap(t.blotName,!0)),this.attributes.copy(e)}),this.unwrap()}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,r){null!=this.formats()[n]||this.scroll.query(n,i.ATTRIBUTE)?this.isolate(t,e).format(n,r):super.formatAt(t,e,n,r)}optimize(e){super.optimize(e);const n=this.formats();if(0===Object.keys(n).length)return this.unwrap();const r=this.next;r instanceof t&&r.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(t=>t.target===this.domNode&&"attributes"===t.type)&&this.attributes.build()}wrap(e,n){const r=super.wrap(e,n);return r instanceof t&&this.attributes.move(r),r}};E.allowedChildren=[E,b],E.blotName="inline",E.scope=i.INLINE_BLOT,E.tagName="SPAN";const x=E,_=class t extends O{static create(t){return super.create(t)}static formats(e,n){const r=n.query(t.blotName);if(null==r||e.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new p(this.domNode)}format(e,n){const r=this.scroll.query(e,i.BLOCK);null!=r&&(r instanceof a?this.attributes.attribute(r,n):e!==this.statics.blotName||n?n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n):this.replaceWith(t.blotName))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,r){null!=this.scroll.query(n,i.BLOCK)?this.format(n,r):super.formatAt(t,e,n,r)}insertAt(t,e,n){if(null==n||null!=this.scroll.query(e,i.INLINE))super.insertAt(t,e,n);else{const r=this.split(t);if(null==r)throw new Error("Attempt to insertAt after block boundaries");{const t=this.scroll.create(e,n);r.parent.insertBefore(t,r)}}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(t=>t.target===this.domNode&&"attributes"===t.type)&&this.attributes.build()}};_.blotName="block",_.scope=i.BLOCK_BLOT,_.tagName="P",_.allowedChildren=[x,_,b];const C=_,j=class extends O{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,r){super.formatAt(t,e,n,r),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};j.blotName="container",j.scope=i.BLOCK_BLOT;const A=j;const T=class extends b{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,r){0===t&&e===this.length()?this.format(n,r):super.formatAt(t,e,n,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}},k={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},P=class extends O{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(t=>{this.update(t)}),this.observer.observe(this.domNode,k),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=i.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),0===t&&e===this.length()?this.children.forEach(t=>{t.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,r){this.update(),super.formatAt(t,e,n,r)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)t.push(r.pop());const o=(t,e=!0)=>{null==t||t===this||null!=t.domNode.parentNode&&(n.has(t.domNode)||n.set(t.domNode,[]),e&&o(t.parent))},i=t=>{n.has(t.domNode)&&(t instanceof O&&t.children.forEach(i),n.delete(t.domNode),t.optimize(e))};let a=t;for(let e=0;a.length>0;e+=1){if(e>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(t=>{const e=this.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(o(this.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach(t=>{const e=this.find(t,!1);o(e,!1),e instanceof O&&e.children.forEach(t=>{o(t,!1)})})):"attributes"===t.type&&o(e.prev)),o(e))}),this.children.forEach(i),a=Array.from(this.observer.takeRecords()),r=a.slice();r.length>0;)t.push(r.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(t=>{const e=this.find(t.target,!0);return null==e?null:n.has(e.domNode)?(n.get(e.domNode).push(t),null):(n.set(e.domNode,[t]),e)}).forEach(t=>{null!=t&&t!==this&&n.has(t.domNode)&&t.update(n.get(t.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};P.blotName="scroll",P.defaultChild=C,P.allowedChildren=[C,A],P.scope=i.BLOCK_BLOT,P.tagName="DIV";const R=P,N=class t extends b{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){null==n?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(0===t)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(t=>"characterData"===t.type&&t.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};N.blotName="text",N.scope=i.INLINE_BLOT;const I=N;var M=n(1443),L=n.n(M),D=(n(83),n(308),n(182),n(111),n(384),n(1477));var q=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},z=n(1511),B=n(1454),F=n(1476),H=Object(F.a)(Object.keys,Object);var U=function(t,e){return t&&Object(B.a)(e,H(e),t)},G=n(1464);var W=function(t,e){return t&&Object(B.a)(e,Object(G.a)(e),t)},V=n(1509),K=n(1508);var $=function(){return[]};var Z=function(t,e){return Object(B.a)(t,$(t),e)};var Y=function(){return[]};var X=function(t,e){return Object(B.a)(t,Y(t),e)},Q=n(1491);var J=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},tt=n(1489),et=Object.prototype.hasOwnProperty;var nt=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&et.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var rt=function(t){return t},ot=n(1517),it=n(1462),at=n(1475);var lt=function(){return!1},ut=n(1455);var ct=function(){return!1},st={};st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object DataView]"]=st["[object Boolean]"]=st["[object Date]"]=st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object Symbol]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Error]"]=st["[object Function]"]=st["[object WeakMap]"]=!1;var ft=function t(e,n,r,o,i,a){var l,u=1&n,c=2&n,s=4&n;if(r&&(l=i?r(e,o,i,a):r(e)),void 0!==l)return l;if(!Object(ut.a)(e))return e;var f=Object(it.a)(e);if(f){if(l=nt(e),!u)return Object(K.a)(e,l)}else{var d=Object(tt.a)(e),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(at.a)(e))return Object(V.a)(e,u);if("[object Object]"==d||"[object Arguments]"==d||h&&!i){if(l=c||h?{}:Object(ot.a)(e),!u)return c?X(e,W(l,e)):Z(e,U(l,e))}else{if(!st[d])return i?e:{};l=rt(e,d,u)}}a||(a=new D.a);var p=a.get(e);if(p)return p;a.set(e,l),ct(e)?e.forEach((function(o){l.add(t(o,n,r,o,e,a))})):lt(e)&&e.forEach((function(o,i){l.set(i,t(o,n,r,i,e,a))}));var y=s?c?J:Q.a:c?G.a:H,m=f?void 0:y(e);return q(m||e,(function(o,i){m&&(o=e[i=o]),Object(z.a)(l,i,t(o,n,r,i,e,a))})),l};var dt=function(t){return ft(t,5)},ht=n(1674);n(26),n(40),n(41),n(42),n(87),n(624),n(474);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vt(r.key),r)}}function vt(t){var e=function(t,e){if("object"!=pt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pt(e)?e:e+""}function bt(t,e,n){return e=gt(e),function(t,e){if(e&&("object"==pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],gt(t).constructor):e.apply(t,n))}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var St=function(t){function e(){return yt(this,e),bt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}(e,t),n=e,o=[{key:"value",value:function(){}}],(r=[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&mt(n.prototype,r),o&&mt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(T);St.blotName="break",St.tagName="BR";var Ot=St;function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_t(r.key),r)}}function _t(t){var e=function(t,e){if("object"!=Et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Et(e)?e:e+""}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e,n){return e=At(e),function(t,e){if(e&&("object"==Et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],At(t).constructor):e.apply(t,n))}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e){return(Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var kt=function(t){function e(){return Ct(this,e),jt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(e,t),n=e,r&&xt(n.prototype,r),o&&xt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(I),Pt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Rt(t){return t.replace(/[&<>"']/g,(function(t){return Pt[t]}))}function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ut(r.key),r)}}function Lt(t,e,n){return e=Bt(e),function(t,e){if(e&&("object"==Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Bt(t).constructor):e.apply(t,n))}function Dt(t,e,n,r){var o=qt(Bt(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function qt(){return(qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=zt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function zt(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Bt(t)););return t}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ht(t,e,n){return(e=Ut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ut(t){var e=function(t,e){if("object"!=Nt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nt(e)?e:e+""}var Gt=function(t){function e(){return It(this,e),Lt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ft(t,e)}(e,t),n=e,o=[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),o=e.order.indexOf(n);return r>=0||o>=0?r-o:t===n?0:t<n?-1:1}}],(r=[{key:"formatAt",value:function(t,n,r,o){if(e.compare(this.statics.blotName,r)<0&&this.scroll.query(r,i.BLOT)){var a=this.isolate(t,n);o&&a.wrap(r,o)}else Dt(e,"formatAt",this,3)([t,n,r,o])}},{key:"optimize",value:function(t){if(Dt(e,"optimize",this,3)([t]),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}])&&Mt(n.prototype,r),o&&Mt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(x);Ht(Gt,"allowedChildren",[Gt,Ot,T,kt]),Ht(Gt,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);var Wt=Gt;function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(n),!0).forEach((function(e){ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ae(r.key),r)}}function Xt(t,e,n){return e&&Yt(t.prototype,e),n&&Yt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qt(t,e,n){return e=ne(e),function(t,e){if(e&&("object"==Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],ne(t).constructor):e.apply(t,n))}function Jt(t,e,n,r){var o=te(ne(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function te(){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ee(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function ee(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ne(t)););return t}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}function oe(t,e){return(oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ie(t,e,n){return(e=ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ae(t){var e=function(t,e){if("object"!=Vt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vt(e)?e:e+""}var le=function(t){function e(){var t;Zt(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ie(t=Qt(this,e,[].concat(r)),"cache",{}),t}return re(e,t),Xt(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=ce(this)),this.cache.delta}},{key:"deleteAt",value:function(t,n){Jt(e,"deleteAt",this,3)([t,n]),this.cache={}}},{key:"formatAt",value:function(t,n,r,o){n<=0||(this.scroll.query(r,i.BLOCK)?t+n===this.length()&&this.format(r,o):Jt(e,"formatAt",this,3)([t,Math.min(n,this.length()-t-1),r,o]),this.cache={})}},{key:"insertAt",value:function(t,n,r){if(null!=r)return Jt(e,"insertAt",this,3)([t,n,r]),void(this.cache={});if(0!==n.length){var o=n.split("\n"),i=o.shift();i.length>0&&(t<this.length()-1||null==this.children.tail?Jt(e,"insertAt",this,3)([Math.min(t,this.length()-1),i]):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var a=this;o.reduce((function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length}),t+i.length)}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;Jt(e,"insertBefore",this,3)([t,n]),r instanceof Ot&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=Jt(e,"length",this,3)([])+1),this.cache.length}},{key:"moveChildren",value:function(t,n){Jt(e,"moveChildren",this,3)([t,n]),this.cache={}}},{key:"optimize",value:function(t){Jt(e,"optimize",this,3)([t]),this.cache={}}},{key:"path",value:function(t){return Jt(e,"path",this,3)([t,!0])}},{key:"removeChild",value:function(t){Jt(e,"removeChild",this,3)([t]),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=Jt(e,"split",this,3)([t,n]);return this.cache={},o}}])}(C);le.blotName="block",le.tagName="P",le.defaultChild=Ot,le.allowedChildren=[Ot,Wt,T,kt];var ue=function(t){function e(){return Zt(this,e),Qt(this,e,arguments)}return re(e,t),Xt(e,[{key:"attach",value:function(){Jt(e,"attach",this,3)([]),this.attributes=new p(this.domNode)}},{key:"delta",value:function(){return(new L.a).insert(this.value(),$t($t({},this.formats()),this.attributes.values()))}},{key:"format",value:function(t,e){var n=this.scroll.query(t,i.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,n,r){var o=this;if(null==r){var i=n.split("\n"),a=i.pop(),l=i.map((function(t){var e=o.scroll.create(le.blotName);return e.insertAt(0,t),e})),u=this.split(t);l.forEach((function(t){o.parent.insertBefore(t,u)})),a&&this.parent.insertBefore(this.scroll.create("text",a),u)}else Jt(e,"insertAt",this,3)([t,n,r])}}])}(T);function ce(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.descendants(b).reduce((function(t,n){return 0===n.length()?t:t.insert(n.value(),se(n,{},e))}),new L.a).insert("\n",se(t))}function se(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==t?e:("formats"in t&&"function"==typeof t.formats&&(e=$t($t({},e),t.formats()),n&&delete e["code-token"]),null==t.parent||"scroll"===t.parent.statics.blotName||t.parent.statics.scope!==t.statics.scope?e:se(t.parent,e,n))}ue.scope=i.BLOCK_BLOT;n(95);function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,we(r.key),r)}}function he(t,e,n){return e=ve(e),function(t,e){if(e&&("object"==fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],ve(t).constructor):e.apply(t,n))}function pe(t,e,n,r){var o=ye(ve(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function ye(){return(ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=me(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function me(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ve(t)););return t}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function be(t,e){return(be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ge(t,e,n){return(e=we(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function we(t){var e=function(t,e){if("object"!=fe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fe(e)?e:e+""}var Se=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=he(this,e,[t,n])).selection=r,o.textNode=document.createTextNode(e.CONTENTS),o.domNode.appendChild(o.textNode),o.savedLength=0,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&be(t,e)}(e,t),n=e,o=[{key:"value",value:function(){}}],(r=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0===this.savedLength){for(var r=this,o=0;null!=r&&r.statics.scope!==i.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this.savedLength=e.CONTENTS.length,r.optimize(),r.formatAt(o,e.CONTENTS.length,t,n),this.savedLength=0)}else pe(e,"format",this,3)([t,n])}},{key:"index",value:function(t,n){return t===this.textNode?0:pe(e,"index",this,3)([t,n])}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){pe(e,"remove",this,3)([]),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var t=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var n,r=this.prev instanceof kt?this.prev:null,o=r?r.length():0,i=this.next instanceof kt?this.next:null,a=i?i.text:"",l=this.textNode,u=l.data.split(e.CONTENTS).join("");if(l.data=e.CONTENTS,r)n=r,(u||i)&&(r.insertAt(r.length(),u+a),i&&i.remove());else if(i)n=i,i.insertAt(0,u);else{var c=document.createTextNode(u);n=this.scroll.create(c),this.parent.insertBefore(n,this)}if(this.remove(),t){var s=function(t,e){return r&&t===r.domNode?e:t===l?o+e-1:i&&t===i.domNode?o+u.length+e:null},f=s(t.start.node,t.start.offset),d=s(t.end.node,t.end.offset);if(null!==f&&null!==d)return{startNode:n.domNode,startOffset:f,endNode:n.domNode,endOffset:d}}return null}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var r=this.restore();r&&(e.range=r)}}},{key:"optimize",value:function(t){pe(e,"optimize",this,3)([t]);for(var n=this.parent;n;){if("A"===n.domNode.tagName){this.savedLength=e.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}},{key:"value",value:function(){return""}}])&&de(n.prototype,r),o&&de(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(T);ge(Se,"blotName","cursor"),ge(Se,"className","ql-cursor"),ge(Se,"tagName","span"),ge(Se,"CONTENTS","\ufeff");var Oe=Se,Ee=(n(94),n(1541)),xe=(n(1467),new WeakMap),_e=["error","warn","log","info"],Ce="warn";function je(t){if(Ce&&_e.indexOf(t)<=_e.indexOf(Ce)){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console)[t].apply(e,r)}}function Ae(t){return _e.reduce((function(e,n){return e[n]=je.bind(console,n,t),e}),{})}Ae.level=function(t){Ce=t},je.level=Ae.level;var Te=Ae;function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ze(r.key),r)}}function Re(t,e,n){return e=Le(e),function(t,e){if(e&&("object"==ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Le(t).constructor):e.apply(t,n))}function Ne(t,e,n,r){var o=Ie(Le(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Ie(){return(Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Me(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Me(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Le(t)););return t}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function De(t,e){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qe(t,e,n){return(e=ze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ze(t){var e=function(t,e){if("object"!=ke(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ke(e)?e:e+""}var Be=Te("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((function(t){var n,r=xe.get(t);r&&r.emitter&&(n=r.emitter).handleDOM.apply(n,e)}))}))}));var Fe=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Re(this,e)).domListeners={},t.on("error",Be.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}(e,t),n=e,(r=[{key:"emit",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Be.log).call.apply(t,[Be].concat(r)),Ne(e,"emit",this,3)(r)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.domListeners[t.type]||[]).forEach((function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}])&&Pe(n.prototype,r),o&&Pe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ee.EventEmitter);qe(Fe,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),qe(Fe,"sources",{API:"api",SILENT:"silent",USER:"user"});var He=Fe;function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t){return function(t){if(Array.isArray(t))return Ke(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ve(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||Ve(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(t,e){if(t){if("string"==typeof t)return Ke(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(t,e):void 0}}function Ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ye(r.key),r)}}function Ze(t,e,n){return e&&$e(t.prototype,e),n&&$e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ye(t){var e=function(t,e){if("object"!=Ue(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ue(e)?e:e+""}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Qe=Te("quill:selection"),Je=Ze((function t(e){Xe(this,t);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=e,this.length=n}));function tn(t,e){try{e.parentNode}catch(t){return!1}return t.contains(e)}var en=function(){return Ze((function t(e,n){var r=this;Xe(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Je(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||r.composing||setTimeout(r.update.bind(r,He.sources.USER),1)})),this.emitter.on(He.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(He.events.SCROLL_UPDATE,(function(e,n){try{r.root.contains(t.start.node)&&r.root.contains(t.end.node)&&r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset);var o=n.some((function(t){return"characterData"===t.type||"childList"===t.type||"attributes"===t.type&&t.target===r.root}));r.update(o?He.sources.SILENT:e)}catch(t){}}))}})),this.emitter.on(He.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,a=n.endNode,l=n.endOffset;r.setNativeRange(o,i,a,l),r.update(He.sources.SILENT)}})),this.update(He.sources.SILENT)}),[{key:"handleComposition",value:function(){var t=this;this.emitter.on(He.events.COMPOSITION_BEFORE_START,(function(){t.composing=!0})),this.emitter.on(He.events.COMPOSITION_END,(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(He.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(t,i.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=this.scroll.find(n.start.node,!1);if(null==r)return;if(r instanceof b){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();t=Math.min(t,r-1),n=Math.min(t+n,r-1)-t;var o=this.scroll.leaf(t),i=We(o,2),a=i[0],l=i[1];if(null==a)return null;if(n>0&&l===a.length()){var u=this.scroll.leaf(t+1),c=We(u,1),s=c[0];if(s){var f=this.scroll.line(t),d=We(f,1),h=d[0],p=this.scroll.line(t+1),y=We(p,1),m=y[0];h===m&&(a=s,l=0)}}var v=a.position(l,!0),b=We(v,2);e=b[0],l=b[1];var g=document.createRange();if(n>0){g.setStart(e,l);var w=this.scroll.leaf(t+n),S=We(w,2);if(a=S[0],l=S[1],null==a)return null;var O=a.position(l,!0),E=We(O,2);return e=E[0],l=E[1],g.setEnd(e,l),g.getBoundingClientRect()}var x,_="left";if(e instanceof Text){if(!e.data.length)return null;l<e.data.length?(g.setStart(e,l),g.setEnd(e,l+1)):(g.setStart(e,l-1),g.setEnd(e,l),_="right"),x=g.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;x=a.domNode.getBoundingClientRect(),l>0&&(_="right")}return{bottom:x.top+x.height,height:x.height,left:x[_],right:x[_],top:x.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return Qe.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||null!=document.activeElement&&tn(this.root,document.activeElement)}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map((function(t){var n=We(t,2),r=n[0],o=n[1],i=e.scroll.find(r,!0),a=i.offset(e.scroll);return 0===o?a:i instanceof b?a+i.index(r,o):a+i.length()})),o=Math.min(Math.max.apply(Math,Ge(r)),this.scroll.length()-1),i=Math.min.apply(Math,[o].concat(Ge(r)));return new Je(i,o-i)}},{key:"normalizeNative",value:function(t){if(!tn(this.root,t.startContainer)||!t.collapsed&&!tn(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length>0?e.childNodes.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=this.scroll.length(),r=function(t,r){t=Math.min(n-1,t);var o=We(e.scroll.leaf(t),2),i=o[0],a=o[1];return i?i.position(a,r):[null,-1]};return[].concat(Ge(r(t.index,!1)),Ge(r(t.index+t.length,!0)))}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Qe.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus({preventScroll:!0});var a=this.getNativeRange()||{},l=a.native;if(null==l||o||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||r!==l.endOffset){t instanceof Element&&"BR"===t.tagName&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var u=document.createRange();u.setStart(t,e),u.setEnd(n,r),i.removeAllRanges(),i.addRange(u)}}else i.removeAllRanges(),this.root.blur()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:He.sources.API;if("string"==typeof e&&(n=e,e=!1),Qe.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,Ge(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.sources.USER,e=this.lastRange,n=this.getRange(),r=We(n,2),o=r[0],i=r[1];if(this.lastRange=o,this.lastNative=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!Object(ht.a)(e,this.lastRange)){var a;if(!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode){var l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}var u,c=[He.events.SELECTION_CHANGE,dt(this.lastRange),dt(e),t];if((a=this.emitter).emit.apply(a,[He.events.EDITOR_CHANGE].concat(c)),t!==He.sources.SILENT)(u=this.emitter).emit.apply(u,c)}}}])}();function nn(t){return dn(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||sn(t)||cn()}function rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){an(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function an(t,e,n){return(e=pn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){return dn(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||sn(t,e)||cn()}function cn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sn(t,e){if(t){if("string"==typeof t)return fn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(t,e):void 0}}function fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dn(t){if(Array.isArray(t))return t}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pn(r.key),r)}}function pn(t){var e=function(t,e){if("object"!=ln(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ln(e)?e:e+""}var yn=/^[ -~]*$/;function mn(t,e,n){if(0===t.length){var r=un(gn(n.pop()),1)[0];return e<=0?"</li></".concat(r,">"):"</li></".concat(r,">").concat(mn([],e-1,n))}var o=nn(t),i=o[0],a=i.child,l=i.offset,u=i.length,c=i.indent,s=i.type,f=o.slice(1),d=un(gn(s),2),h=d[0],p=d[1];if(c>e)return n.push(s),c===e+1?"<".concat(h,"><li").concat(p,">").concat(vn(a,l,u)).concat(mn(f,c,n)):"<".concat(h,"><li>").concat(mn(t,e+1,n));var y=n[n.length-1];if(c===e&&s===y)return"</li><li".concat(p,">").concat(vn(a,l,u)).concat(mn(f,c,n));var m=un(gn(n.pop()),1)[0];return"</li></".concat(m,">").concat(mn(t,e-1,n))}function vn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in t&&"function"==typeof t.html)return t.html(e,n);if(t instanceof kt){var o=Rt(t.value().slice(e,e+n));return o.replaceAll(" ","&nbsp;")}if(t instanceof O){if("list-container"===t.statics.blotName){var i=[];return t.children.forEachAt(e,n,(function(t,e,n){var r="formats"in t&&"function"==typeof t.formats?t.formats():{};i.push({child:t,offset:e,length:n,indent:r.indent||0,type:r.list})})),mn(i,-1,[])}var a=[];if(t.children.forEachAt(e,n,(function(t,e,n){a.push(vn(t,e,n))})),r||"list"===t.statics.blotName)return a.join("");var l=t.domNode,u=l.outerHTML,c=l.innerHTML,s=u.split(">".concat(c,"<")),f=un(s,2),d=f[0],h=f[1];return"<table"===d?'<table style="border: 1px solid #000;">'.concat(a.join(""),"<").concat(h):"".concat(d,">").concat(a.join(""),"<").concat(h)}return t.domNode instanceof Element?t.domNode.outerHTML:""}function bn(t,e){return Object.keys(e).reduce((function(n,r){if(null==t[r])return n;var o=e[r];return o===t[r]?n[r]=o:Array.isArray(o)?o.indexOf(t[r])<0?n[r]=o.concat([t[r]]):n[r]=o:n[r]=[o,t[r]],n}),{})}function gn(t){var e="ordered"===t?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function wn(t){return t.reduce((function(t,e){if("string"==typeof e.insert){var n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)}),new L.a)}function Sn(t,e){var n=t.index,r=t.length;return new Je(n+e,r)}var On=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()},(e=[{key:"applyDelta",value:function(t){var e=this;this.scroll.update();var n=this.scroll.length();this.scroll.batchStart();var r,a,l=wn(t),u=new L.a;return(r=l.ops.slice(),a=[],r.forEach((function(t){"string"==typeof t.insert?t.insert.split("\n").forEach((function(e,n){n&&a.push({insert:"\n",attributes:t.attributes}),e&&a.push({insert:e,attributes:t.attributes})})):a.push(t)})),a).reduce((function(t,r){var a=M.Op.length(r),l=r.attributes||{},c=!1,s=!1;if(null!=r.insert){if(u.retain(a),"string"==typeof r.insert){var f=r.insert;s=!f.endsWith("\n")&&(n<=t||!!e.scroll.descendant(ue,t)[0]),e.scroll.insertAt(t,f);var d=un(e.scroll.line(t),2),h=d[0],p=d[1],y=Object(o.a)({},se(h));if(h instanceof le){var m=un(h.descendant(b,p),1)[0];m&&(y=Object(o.a)(y,se(m)))}l=M.AttributeMap.diff(y,l)||{}}else if("object"===ln(r.insert)){var v=Object.keys(r.insert)[0];if(null==v)return t;var g=null!=e.scroll.query(v,i.INLINE);if(g)(n<=t||e.scroll.descendant(ue,t)[0])&&(s=!0);else if(t>0){var w=un(e.scroll.descendant(b,t-1),2),S=w[0],O=w[1];S instanceof kt?"\n"!==S.value()[O]&&(c=!0):S instanceof T&&S.statics.scope===i.INLINE_BLOT&&(c=!0)}if(e.scroll.insertAt(t,v,r.insert[v]),g){var E=un(e.scroll.descendant(b,t),1)[0];if(E){var x=Object(o.a)({},se(E));l=M.AttributeMap.diff(x,l)||{}}}}n+=a}else if(u.push(r),null!==r.retain&&"object"===ln(r.retain)){var _=Object.keys(r.retain)[0];if(null==_)return t;e.scroll.updateEmbedAt(t,_,r.retain[_])}Object.keys(l).forEach((function(n){e.scroll.formatAt(t,a,n,l[n])}));var C=c?1:0,j=s?1:0;return n+=C+j,u.retain(C),u.delete(j),t+a+C+j}),0),u.reduce((function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+M.Op.length(n)}),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(l)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new L.a).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach((function(o){n.scroll.lines(t,Math.max(e,1)).forEach((function(t){t.format(o,r[o])}))})),this.scroll.optimize();var o=(new L.a).retain(t).retain(e,dt(r));return this.update(o)}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e,o,r[o])}));var o=(new L.a).retain(t).retain(e,dt(r));return this.update(o)}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new L.a)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=un(t,1)[0];e instanceof le?n.push(e):e instanceof b&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(b,t,e));var o=[n,r].map((function(t){var e=t.shift();if(null==e)return{};for(var n=se(e);Object.keys(n).length>0;){var r=t.shift();if(null==r)return n;n=bn(se(r),n)}return n})),i=un(o,2),a=i[0],l=i[1];return on(on({},a),l)}},{key:"getHTML",value:function(t,e){var n=un(this.scroll.line(t),2),r=n[0],o=n[1];if(r){var i=r.length();return r.length()>=o+e&&(0!==o||e!==i)?vn(r,o,e,!0):vn(this.scroll,t,e,!0)}return""}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertContents",value:function(t,e){var n=wn(e),r=(new L.a).retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(r)}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new L.a).retain(t).insert(an({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e.length,o,r[o])})),this.update((new L.a).retain(t).insert(e,dt(r)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;if((null==t?void 0:t.statics.blotName)!==le.blotName)return!1;var e=t;return!(e.children.length>1)&&e.children.head instanceof Ot}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=un(this.scroll.line(t+e),2),o=r[0],i=r[1],a=0,l=new L.a;null!=o&&(a=o.length()-i,l=o.delta().slice(i,i+a-1).insert("\n"));var u=this.getContents(t,e+a).diff((new L.a).insert(n).concat(l)),c=(new L.a).retain(t).concat(u);return this.applyDelta(c)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(yn)&&this.scroll.find(e[0].target)){var o=this.scroll.find(e[0].target),i=se(o),a=o.offset(this.scroll),l=e[0].oldValue.replace(Oe.CONTENTS,""),u=(new L.a).insert(l),c=(new L.a).insert(o.value()),s=n&&{oldRange:Sn(n.oldRange,-a),newRange:Sn(n.newRange,-a)},f=(new L.a).retain(a).concat(u.diff(c,s));t=f.reduce((function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)}),new L.a),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&Object(ht.a)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}])&&hn(t.prototype,e),n&&hn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function En(t){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jn(r.key),r)}}function _n(t,e,n){return e&&xn(t.prototype,e),n&&xn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t){var e=function(t,e){if("object"!=En(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=En(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==En(e)?e:e+""}var An,Tn,kn,Pn=_n((function t(e){Cn(this,t);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=e,this.options=n}));An=Pn,kn={},(Tn=jn(Tn="DEFAULTS"))in An?Object.defineProperty(An,Tn,{value:kn,enumerable:!0,configurable:!0,writable:!0}):An[Tn]=kn;var Rn=Pn;n(1544);function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mn(r.key),r)}}function Mn(t){var e=function(t,e){if("object"!=Nn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nn(e)?e:e+""}function Ln(t,e,n){return e=zn(e),function(t,e){if(e&&("object"==Nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],zn(t).constructor):e.apply(t,n))}function Dn(){return(Dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=qn(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function qn(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=zn(t)););return t}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bn(t,e){return(Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Fn=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ln(this,e,[t,n])).contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable","false"),Array.from(r.domNode.childNodes).forEach((function(t){r.contentNode.appendChild(t)})),r.leftGuard=document.createTextNode("\ufeff"),r.rightGuard=document.createTextNode("\ufeff"),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}(e,t),function(t,e,n){return e&&In(t.prototype,e),n&&In(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:function(t,e,n,r){var o=Dn(zn(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}(e,"index",this,3)([t,n])}},{key:"restore",value:function(t){var e,n=null,r=t.data.split("\ufeff").join("");if(t===this.leftGuard)if(this.prev instanceof kt){var o=this.prev.length();this.prev.insertAt(o,r),n={startNode:this.prev.domNode,startOffset:o+r.length}}else e=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(e),this),n={startNode:e,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof kt?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(e=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(e),this.next),n={startNode:e,startOffset:r.length}));return t.data="\ufeff",n}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}])}(T);function Hn(t){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gn(r.key),r)}}function Gn(t){var e=function(t,e){if("object"!=Hn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hn(e)?e:e+""}var Wn,Vn=function(){return function(t,e,n){return e&&Un(t.prototype,e),n&&Un(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){(e=Gn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"isComposing",!1),this.scroll=e,this.emitter=n,this.setupListeners()}),[{key:"setupListeners",value:function(){var t=this;this.scroll.domNode.addEventListener("compositionstart",(function(e){t.isComposing||t.handleCompositionStart(e)})),this.scroll.domNode.addEventListener("compositionend",(function(e){t.isComposing&&queueMicrotask((function(){t.handleCompositionEnd(e)}))}))}},{key:"handleCompositionStart",value:function(t){var e=t.target instanceof Node?this.scroll.find(t.target,!0):null;!e||e instanceof Fn||(this.emitter.emit(He.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(He.events.COMPOSITION_START,t),this.isComposing=!0)}},{key:"handleCompositionEnd",value:function(t){this.emitter.emit(He.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(He.events.COMPOSITION_END,t),this.isComposing=!1}}])}();function Kn(t){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yn(r.key),r)}}function Zn(t,e,n){return(e=Yn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yn(t){var e=function(t,e){if("object"!=Kn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Kn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kn(e)?e:e+""}var Xn=function(){return function(t,e,n){return e&&$n(t.prototype,e),n&&$n(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Zn(this,"modules",{}),this.quill=e,this.options=n}),[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/".concat(t));return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}])}();Wn=Xn,Zn(Xn,"DEFAULTS",{modules:{}}),Zn(Xn,"themes",{default:Wn});var Qn=Xn,Jn=(n(1480),n(112),function(t){var e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}}),tr=function(t){var e=parseInt(t,10);return Number.isNaN(e)?0:e},er=function(t,e,n,r,o,i){return t<n&&e>r?0:t<n?-(n-t+o):e>r?e-t>r-n?t+o-n:e-r+i:0},nr=function(t,e){for(var n,r=t.ownerDocument,o=e,i=t;i;){var a,l,u,c,s=i===r.body,f=s?{top:0,right:null!==(a=null===(l=window.visualViewport)||void 0===l?void 0:l.width)&&void 0!==a?a:r.documentElement.clientWidth,bottom:null!==(u=null===(c=window.visualViewport)||void 0===c?void 0:c.height)&&void 0!==u?u:r.documentElement.clientHeight,left:0}:Jn(i),d=getComputedStyle(i),h=er(o.left,o.right,f.left,f.right,tr(d.scrollPaddingLeft),tr(d.scrollPaddingRight)),p=er(o.top,o.bottom,f.top,f.bottom,tr(d.scrollPaddingTop),tr(d.scrollPaddingBottom));if(h||p)if(s){var y;null===(y=r.defaultView)||void 0===y||y.scrollBy(h,p)}else{var m=i,v=m.scrollLeft,b=m.scrollTop;p&&(i.scrollTop+=p),h&&(i.scrollLeft+=h);var g=i.scrollLeft-v,w=i.scrollTop-b;o={left:o.left-g,top:o.top-w,right:o.right-g,bottom:o.bottom-w}}i=s||"fixed"===d.position?null:(n=i).parentElement||n.getRootNode().host||null}},rr=["block","break","cursor","inline","scroll","text"],or=function(t,e,n){var r=new c;return rr.forEach((function(t){var n=e.query(t);n&&r.register(n)})),t.forEach((function(t){var o=e.query(t);o||n.error('Cannot register "'.concat(t,'" specified in "formats" config. Are you sure it was registered?'));for(var i=0;o;){var a;if(r.register(o),o="blotName"in o&&null!==(a=o.requiredContainer)&&void 0!==a?a:null,(i+=1)>100){n.error('Cycle detected in registering blot requiredContainer: "'.concat(t,'"'));break}}})),r},ir=["modules"],ar=["modules"];function lr(t){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function cr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cr(Object(n),!0).forEach((function(e){yr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mr(r.key),r)}}function yr(t,e,n){return(e=mr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mr(t){var e=function(t,e){if("object"!=lr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lr(e)?e:e+""}var vr=Te("quill"),br=new c;O.uiClass="ql-ui";var gr=function(){function t(e){var n=this;hr(this,t);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=Er(e,r),this.container=this.options.container,null!=this.container){this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",xe.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new He;var i=R.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error('Cannot initialize Quill without "'.concat(i,'" blot'));if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new On(this.scroll),this.selection=new en(this.scroll,this.emitter),this.composition=new Vn(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(He.events.EDITOR_CHANGE,(function(t){t===He.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(He.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,o=fr(n.selection.getRange(),1)[0],i=r&&o?{oldRange:r,newRange:o}:void 0;xr.call(n,(function(){return n.editor.update(null,e,i)}),t)})),this.emitter.on(He.events.SCROLL_EMBED_UPDATE,(function(e,r){var o=n.selection.lastRange,i=fr(n.selection.getRange(),1)[0],a=o&&i?{oldRange:o,newRange:i}:void 0;xr.call(n,(function(){var t=(new L.a).retain(e.offset(n)).retain(yr({},e.statics.blotName,r));return n.editor.update(t,[],a)}),t.sources.USER)})),o){var l=this.clipboard.convert({html:"".concat(o,"<p><br></p>"),text:"\n"});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}else vr.error("Invalid Quill container",e)}return function(t,e,n){return e&&pr(t.prototype,e),n&&pr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,o=fr(_r(t,e,n),4);return t=o[0],e=o[1],n=o[3],xr.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(t){this.allowReadOnlyEdits=!0;var e=t();return this.allowReadOnlyEdits=!1,e}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:He.sources.API;return xr.call(this,(function(){var r=n.getSelection(!0),o=new L.a;if(null==r)return o;if(n.scroll.query(t,i.BLOCK))o=n.editor.formatLine(r.index,r.length,yr({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,yr({},t,e))}return n.setSelection(r,He.sources.SILENT),o}),r)}},{key:"formatLine",value:function(t,e,n,r,o){var i,a=this,l=fr(_r(t,e,n,r,o),4);return t=l[0],e=l[1],i=l[2],o=l[3],xr.call(this,(function(){return a.editor.formatLine(t,e,i)}),o,t,0)}},{key:"formatText",value:function(t,e,n,r,o){var i,a=this,l=fr(_r(t,e,n,r,o),4);return t=l[0],e=l[1],i=l[2],o=l[3],xr.call(this,(function(){return a.editor.formatText(t,e,i)}),o,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null;if(!(n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length)))return null;var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=_r(t,e),r=fr(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;"number"==typeof t&&(e=null!=e?e:this.getLength()-t);var n=_r(t,e),r=fr(n,2);return t=r[0],e=r[1],this.editor.getHTML(t,e)}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;"number"==typeof t&&(e=null!=e?e:this.getLength()-t);var n=_r(t,e),r=fr(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return xr.call(this,(function(){return o.editor.insertEmbed(e,n,r)}),i,e)}},{key:"insertText",value:function(t,e,n,r,o){var i,a=this,l=fr(_r(t,0,n,r,o),4);return t=l[0],i=l[2],o=l[3],xr.call(this,(function(){return a.editor.insertText(t,e,i)}),o,t,e.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var t;return(t=this.emitter).off.apply(t,arguments)}},{key:"on",value:function(){var t;return(t=this.emitter).on.apply(t,arguments)}},{key:"once",value:function(){var t;return(t=this.emitter).once.apply(t,arguments)}},{key:"removeFormat",value:function(t,e,n){var r=this,o=fr(_r(t,e,n),4);return t=o[0],e=o[1],n=o[3],xr.call(this,(function(){return r.editor.removeFormat(t,e)}),n,t)}},{key:"scrollRectIntoView",value:function(t){nr(this.root,t)}},{key:"scrollIntoView",value:function(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}},{key:"scrollSelectionIntoView",value:function(){var t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He.sources.API;return xr.call(this,(function(){t=new L.a(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.insertContents(0,t),i=e.editor.deleteText(e.getLength()-1,1);return r.compose(o).compose(i)}),n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=fr(_r(e,n,r),4);e=o[0],n=o[1],r=o[3],this.selection.setRange(new Je(Math.max(0,e),n),r),r!==He.sources.SILENT&&this.scrollSelectionIntoView()}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He.sources.API,n=(new L.a).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He.sources.API;return xr.call(this,(function(){return t=new L.a(t),e.editor.applyDelta(t)}),n,!0)}}],[{key:"debug",value:function(t){!0===t&&(t="log"),Te.level(t)}},{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return xe.get(t)||br.find(t,e)}},{key:"import",value:function(t){return null==this.imports[t]&&vr.error("Cannot import ".concat(t,". Are you sure it was registered?")),this.imports[t]}},{key:"register",value:function(){var t=this;if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0],n=!!(arguments.length<=1?void 0:arguments[1]),r="attrName"in e?e.attrName:e.blotName;"string"==typeof r?this.register("formats/".concat(r),e,n):Object.keys(e).forEach((function(r){t.register(r,e[r],n)}))}else{var o=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],a=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[o]||a||vr.warn("Overwriting ".concat(o," with"),i),this.imports[o]=i,(o.startsWith("blots/")||o.startsWith("formats/"))&&i&&"boolean"!=typeof i&&"abstract"!==i.blotName&&br.register(i),"function"==typeof i.register&&i.register(br)}}}])}();function wr(t){return"string"==typeof t?document.querySelector(t):t}function Sr(t){return Object.entries(null!=t?t:{}).reduce((function(t,e){var n=fr(e,2),r=n[0],o=n[1];return sr(sr({},t),{},yr({},r,!0===o?{}:o))}),{})}function Or(t){return Object.fromEntries(Object.entries(t).filter((function(t){return void 0!==t[1]})))}function Er(t,e){var n=wr(t);if(!n)throw new Error("Invalid Quill container");var r=!e.theme||e.theme===gr.DEFAULTS.theme?Qn:gr.import("themes/".concat(e.theme));if(!r)throw new Error("Invalid theme ".concat(e.theme,". Did you register it?"));var i=gr.DEFAULTS,a=i.modules,l=ur(i,ir),u=r.DEFAULTS,c=u.modules,s=ur(u,ar),f=Sr(e.modules);null!=f&&f.toolbar&&f.toolbar.constructor!==Object&&(f=sr(sr({},f),{},{toolbar:{container:f.toolbar}}));var d=Object(o.a)({},Sr(a),Sr(c),f),h=sr(sr(sr({},l),Or(s)),Or(e)),p=e.registry;return p?e.formats&&vr.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?or(e.formats,h.registry,vr):h.registry,sr(sr({},h),{},{registry:p,container:n,theme:r,modules:Object.entries(d).reduce((function(t,e){var n=fr(e,2),r=n[0],i=n[1];if(!i)return t;var a=gr.import("modules/".concat(r));return null==a?(vr.error("Cannot load ".concat(r," module. Are you sure you registered it?")),t):sr(sr({},t),{},yr({},r,Object(o.a)({},a.DEFAULTS||{},i)))}),{}),bounds:wr(h.bounds)})}function xr(t,e,n,r){if(!this.isEnabled()&&e===He.sources.USER&&!this.allowReadOnlyEdits)return new L.a;var o=null==n?null:this.getSelection(),i=this.editor.delta,a=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=Cr(o,a,e):0!==r&&(o=Cr(o,n,r,e)),this.setSelection(o,He.sources.SILENT)),a.length()>0){var l,u,c=[He.events.TEXT_CHANGE,a,i,e];if((l=this.emitter).emit.apply(l,[He.events.EDITOR_CHANGE].concat(c)),e!==He.sources.SILENT)(u=this.emitter).emit.apply(u,c)}return a}function _r(t,e,n,r,o){var i={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(o=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(o=r,r=n,n=e,e=0),"object"===lr(n)?(i=n,o=r):"string"==typeof n&&(null!=r?i[n]=r:o=n),[t,e,i,o=o||He.sources.API]}function Cr(t,e,n,r){var o,i,a="number"==typeof n?n:0;if(null==t)return null;if(e&&"function"==typeof e.transformPosition){var l=fr([t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==He.sources.USER)})),2);o=l[0],i=l[1]}else{var u=fr([t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===He.sources.USER?t:a>=0?t+a:Math.max(e,t+a)})),2);o=u[0],i=u[1]}return new Je(o,i-o)}function jr(t){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tr(r.key),r)}}function Tr(t){var e=function(t,e){if("object"!=jr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jr(e)?e:e+""}function kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pr(t,e,n){return e=Rr(e),function(t,e){if(e&&("object"==jr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Rr(t).constructor):e.apply(t,n))}function Rr(t){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nr(t,e){return(Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}yr(gr,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:br,theme:"default"}),yr(gr,"events",He.events),yr(gr,"sources",He.sources),yr(gr,"version","2.0.3"),yr(gr,"imports",{delta:L.a,parchment:r,"core/module":Rn,"core/theme":Qn});var Ir=function(t){function e(){return kr(this,e),Pr(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(e,t),function(t,e,n){return e&&Ar(t.prototype,e),n&&Ar(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(A);function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Dr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vr(r.key),r)}}function zr(t,e,n){return e=Ur(e),function(t,e){if(e&&("object"==Mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Ur(t).constructor):e.apply(t,n))}function Br(t,e,n,r){var o=Fr(Ur(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Fr(){return(Fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Hr(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Hr(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ur(t)););return t}function Ur(t){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gr(t,e){return(Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wr(t,e,n){return(e=Vr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vr(t){var e=function(t,e){if("object"!=Mr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mr(e)?e:e+""}function Kr(t){return t instanceof le||t instanceof ue}function $r(t){return"function"==typeof t.updateContent}var Zr=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r.emitter;return(o=zr(this,e,[t,n])).emitter=i,o.batch=!1,o.optimize(),o.enable(),o.domNode.addEventListener("dragstart",(function(t){return o.handleDragStart(t)})),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gr(t,e)}(e,t),function(t,e,n){return e&&qr(t.prototype,e),n&&qr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){if(this.batch){var t=this.batch;this.batch=!1,this.update(t)}}},{key:"emitMount",value:function(t){this.emitter.emit(He.events.SCROLL_BLOT_MOUNT,t)}},{key:"emitUnmount",value:function(t){this.emitter.emit(He.events.SCROLL_BLOT_UNMOUNT,t)}},{key:"emitEmbedUpdate",value:function(t,e){this.emitter.emit(He.events.SCROLL_EMBED_UPDATE,t,e)}},{key:"deleteAt",value:function(t,n){var r=Lr(this.line(t),2),o=r[0],i=r[1],a=Lr(this.line(t+n),1)[0];if(Br(e,"deleteAt",this,3)([t,n]),null!=a&&o!==a&&i>0){if(o instanceof ue||a instanceof ue)return void this.optimize();var l=a.children.head instanceof Ot?null:a.children.head;o.moveChildren(a,l),o.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t?"true":"false")}},{key:"formatAt",value:function(t,n,r,o){Br(e,"formatAt",this,3)([t,n,r,o]),this.optimize()}},{key:"insertAt",value:function(t,n,r){if(t>=this.length())if(null==r||null==this.scroll.query(n,i.BLOCK)){var o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o),null==r&&n.endsWith("\n")?o.insertAt(0,n.slice(0,-1),r):o.insertAt(0,n,r)}else{var a=this.scroll.create(n,r);this.appendChild(a)}else Br(e,"insertAt",this,3)([t,n,r]);this.optimize()}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===i.INLINE_BLOT){var r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),Br(e,"insertBefore",this,3)([r,n])}else Br(e,"insertBefore",this,3)([t,n])}},{key:"insertContents",value:function(t,e){var n=this,r=this.deltaToRenderBlocks(e.concat((new L.a).insert("\n"))),o=r.pop();if(null!=o){this.batchStart();var i=r.shift();if(i){var a="block"===i.type&&(0===i.delta.length()||!this.descendant(ue,t)[0]&&t<this.length()),l="block"===i.type?i.delta:(new L.a).insert(Wr({},i.key,i.value));Yr(this,t,l);var u="block"===i.type?1:0,c=t+l.length()+u;a&&this.insertAt(c-1,"\n");var s=se(this.line(t)[0]),f=M.AttributeMap.diff(s,i.attributes)||{};Object.keys(f).forEach((function(t){n.formatAt(c-1,1,t,f[t])})),t=c}var d=Lr(this.children.find(t),2),h=d[0],p=d[1];if(r.length&&(h&&(h=h.split(p),p=0),r.forEach((function(t){if("block"===t.type){Yr(n.createBlock(t.attributes,h||void 0),0,t.delta)}else{var e=n.create(t.key,t.value);n.insertBefore(e,h||void 0),Object.keys(t.attributes).forEach((function(n){e.format(n,t.attributes[n])}))}}))),"block"===o.type&&o.delta.length())Yr(this,h?h.offset(h.scroll)+p:this.length(),o.delta);this.batchEnd(),this.optimize()}}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(t){var e=this.path(t).pop();if(!e)return[null,-1];var n=Lr(e,2),r=n[0],o=n[1];return r instanceof b?[r,o]:[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(Kr,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function(t,e,r){var o=[],i=r;return t.children.forEachAt(e,r,(function(t,e,r){Kr(t)?o.push(t):t instanceof A&&(o=o.concat(n(t,e,i))),i-=r})),o};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(Br(e,"optimize",this,3)([t,n]),t.length>0&&this.emitter.emit(He.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return Br(e,"path",this,3)([t]).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(t){var n=this;if(this.batch)Array.isArray(t)&&(this.batch=this.batch.concat(t));else{var r=He.sources.USER;"string"==typeof t&&(r=t),Array.isArray(t)||(t=this.observer.takeRecords()),(t=t.filter((function(t){var e=t.target,r=n.find(e,!0);return r&&!$r(r)}))).length>0&&this.emitter.emit(He.events.SCROLL_BEFORE_UPDATE,r,t),Br(e,"update",this,3)([t.concat([])]),t.length>0&&this.emitter.emit(He.events.SCROLL_UPDATE,r,t)}}},{key:"updateEmbedAt",value:function(t,e,n){var r=Lr(this.descendant((function(t){return t instanceof ue}),t),1)[0];r&&r.statics.blotName===e&&$r(r)&&r.updateContent(n)}},{key:"handleDragStart",value:function(t){t.preventDefault()}},{key:"deltaToRenderBlocks",value:function(t){var e=this,n=[],r=new L.a;return t.forEach((function(t){var o=null==t?void 0:t.insert;if(o)if("string"==typeof o){var a=o.split("\n");a.slice(0,-1).forEach((function(e){var o;r.insert(e,t.attributes),n.push({type:"block",delta:r,attributes:null!==(o=t.attributes)&&void 0!==o?o:{}}),r=new L.a}));var l=a[a.length-1];l&&r.insert(l,t.attributes)}else{var u,c=Object.keys(o)[0];if(!c)return;if(e.query(c,i.INLINE))r.push(t);else r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new L.a,n.push({type:"blockEmbed",key:c,value:o[c],attributes:null!==(u=t.attributes)&&void 0!==u?u:{}})}})),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}},{key:"createBlock",value:function(t,e){var n,r=this,o={};Object.entries(t).forEach((function(t){var e=Lr(t,2),a=e[0],l=e[1];null!=r.query(a,i.BLOCK&i.BLOT)?n=a:o[a]=l}));var a=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(a,e||void 0);var l=a.length();return Object.entries(o).forEach((function(t){var e=Lr(t,2),n=e[0],r=e[1];a.formatAt(0,l,n,r)})),a}}])}(R);function Yr(t,e,n){n.reduce((function(e,n){var r=M.Op.length(n),o=n.attributes||{};if(null!=n.insert)if("string"==typeof n.insert){var a=n.insert;t.insertAt(e,a);var l=se(Lr(t.descendant(b,e),1)[0]);o=M.AttributeMap.diff(l,o)||{}}else if("object"===Mr(n.insert)){var u=Object.keys(n.insert)[0];if(null==u)return e;if(t.insertAt(e,u,n.insert[u]),null!=t.scroll.query(u,i.INLINE)){var c=se(Lr(t.descendant(b,e),1)[0]);o=M.AttributeMap.diff(c,o)||{}}}return Object.keys(o).forEach((function(n){t.formatAt(e,r,n,o[n])})),e+r}),e)}Wr(Zr,"blotName","scroll"),Wr(Zr,"className","ql-editor"),Wr(Zr,"tagName","DIV"),Wr(Zr,"defaultChild",le),Wr(Zr,"allowedChildren",[le,ue,Ir]);var Xr=Zr,Qr=(n(49),n(137),n(62),{scope:i.BLOCK,whitelist:["right","center","justify"]}),Jr=new a("align","align",Qr),to=new f("align","ql-align",Qr),eo=new h("align","text-align",Qr);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,io(r.key),r)}}function io(t){var e=function(t,e){if("object"!=no(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=no(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==no(e)?e:e+""}function ao(t,e,n){return e=co(e),function(t,e){if(e&&("object"==no(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],co(t).constructor):e.apply(t,n))}function lo(){return(lo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=uo(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function uo(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=co(t)););return t}function co(t){return(co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function so(t,e){return(so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var fo=function(t){function e(){return ro(this,e),ao(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&so(t,e)}(e,t),function(t,e,n){return e&&oo(t.prototype,e),n&&oo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"value",value:function(t){var n=function(t,e,n,r){var o=lo(co(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}(e,"value",this,3)([t]);if(!n.startsWith("rgb("))return n;n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var r=n.split(",").map((function(t){return"00".concat(parseInt(t,10).toString(16)).slice(-2)})).join("");return"#".concat(r)}}])}(h),ho=new f("color","ql-color",{scope:i.INLINE}),po=new fo("color","color",{scope:i.INLINE}),yo=new f("background","ql-bg",{scope:i.INLINE}),mo=new fo("background","background-color",{scope:i.INLINE});function vo(t){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,So(r.key),r)}}function wo(t,e,n){return e&&go(t.prototype,e),n&&go(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function So(t){var e=function(t,e){if("object"!=vo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vo(e)?e:e+""}function Oo(t,e,n){return e=_o(e),function(t,e){if(e&&("object"==vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],_o(t).constructor):e.apply(t,n))}function Eo(){return(Eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=xo(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function xo(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=_o(t)););return t}function _o(t){return(_o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Co(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}function jo(t,e){return(jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Ao=function(t){function e(){return bo(this,e),Oo(this,e,arguments)}return Co(e,t),wo(e,[{key:"code",value:function(t,e){return this.children.map((function(t){return t.length()<=1?"":t.domNode.innerText})).join("\n").slice(t,t+e)}},{key:"html",value:function(t,e){return"<pre>\n".concat(Rt(this.code(t,e)),"\n</pre>")}}],[{key:"create",value:function(t){var n=function(t,e,n,r){var o=Eo(_o(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}(e,"create",this,2)([t]);return n.setAttribute("spellcheck","false"),n}}])}(Ir),To=function(t){function e(){return bo(this,e),Oo(this,e,arguments)}return Co(e,t),wo(e,null,[{key:"register",value:function(){gr.register(Ao)}}])}(le);!function(t,e,n){(e=So(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(To,"TAB","  ");var ko=function(t){function e(){return bo(this,e),Oo(this,e,arguments)}return Co(e,t),wo(e)}(Wt);ko.blotName="code",ko.tagName="CODE",To.blotName="code-block",To.className="ql-code-block",To.tagName="DIV",Ao.blotName="code-block-container",Ao.className="ql-code-block-container",Ao.tagName="DIV",Ao.allowedChildren=[To],To.allowedChildren=[kt,Ot,Oe],To.requiredContainer=Ao;var Po={scope:i.BLOCK,whitelist:["rtl"]},Ro=new a("direction","dir",Po),No=new f("direction","ql-direction",Po),Io=new h("direction","direction",Po);function Mo(t){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Do(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qo(r.key),r)}}function qo(t){var e=function(t,e){if("object"!=Mo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mo(e)?e:e+""}function zo(t,e,n){return e=Ho(e),function(t,e){if(e&&("object"==Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Ho(t).constructor):e.apply(t,n))}function Bo(){return(Bo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Fo(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Fo(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ho(t)););return t}function Ho(t){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uo(t,e){return(Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Go={scope:i.INLINE,whitelist:["serif","monospace"]},Wo=new f("font","ql-font",Go),Vo=new(function(t){function e(){return Lo(this,e),zo(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uo(t,e)}(e,t),function(t,e,n){return e&&Do(t.prototype,e),n&&Do(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"value",value:function(t){return function(t,e,n,r){var o=Bo(Ho(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}(e,"value",this,3)([t]).replace(/["']/g,"")}}])}(h))("font","font-family",Go),Ko=new f("size","ql-size",{scope:i.INLINE,whitelist:["small","large","huge"]}),$o=new h("size","font-size",{scope:i.INLINE,whitelist:["10px","18px","32px"]});n(117);function Zo(t){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Xo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xo(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qo(Object(n),!0).forEach((function(e){ti(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ti(t,e,n){return(e=ni(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ni(r.key),r)}}function ni(t){var e=function(t,e){if("object"!=Zo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zo(e)?e:e+""}function ri(t,e,n){return e=oi(e),function(t,e){if(e&&("object"==Zo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],oi(t).constructor):e.apply(t,n))}function oi(t){return(oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ii(t,e){return(ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ai=Te("quill:keyboard"),li=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ui=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ri(this,e,[t,n])).bindings={},Object.keys(r.options.bindings).forEach((function(t){r.options.bindings[t]&&r.addBinding(r.options.bindings[t])})),r.addBinding({key:"Enter",shiftKey:null},r.handleEnter),r.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:"Backspace"},{collapsed:!0},r.handleBackspace),r.addBinding({key:"Delete"},{collapsed:!0},r.handleDelete)):(r.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},r.handleBackspace),r.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},r.handleDelete)),r.addBinding({key:"Backspace"},{collapsed:!1},r.handleDeleteRange),r.addBinding({key:"Delete"},{collapsed:!1},r.handleDeleteRange),r.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},r.handleBackspace),r.listen(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ii(t,e)}(e,t),function(t,e,n){return e&&ei(t.prototype,e),n&&ei(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"addBinding",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=pi(t);if(null!=o){"function"==typeof n&&(n={handler:n}),"function"==typeof r&&(r={handler:r});var i=Array.isArray(o.key)?o.key:[o.key];i.forEach((function(t){var i=Jo(Jo(Jo({},o),{},{key:t},n),r);e.bindings[i.key]=e.bindings[i.key]||[],e.bindings[i.key].push(i)}))}else ai.warn("Attempted to add invalid keyboard binding",o)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented&&!n.isComposing&&!(229===n.keyCode&&("Enter"===n.key||"Backspace"===n.key))){var r=(t.bindings[n.key]||[]).concat(t.bindings[n.which]||[]).filter((function(t){return e.match(n,t)}));if(0!==r.length){var o=gr.find(n.target,!0);if(!o||o.scroll===t.quill.scroll){var i=t.quill.getSelection();if(null!=i&&t.quill.hasFocus()){var a=Yo(t.quill.getLine(i.index),2),l=a[0],u=a[1],c=Yo(t.quill.getLeaf(i.index),2),s=c[0],f=c[1],d=Yo(0===i.length?[s,f]:t.quill.getLeaf(i.index+i.length),2),h=d[0],p=d[1],y=s instanceof I?s.value().slice(0,f):"",m=h instanceof I?h.value().slice(p):"",v={collapsed:0===i.length,empty:0===i.length&&l.length()<=1,format:t.quill.getFormat(i),line:l,offset:u,prefix:y,suffix:m,event:n};r.some((function(e){if(null!=e.collapsed&&e.collapsed!==v.collapsed)return!1;if(null!=e.empty&&e.empty!==v.empty)return!1;if(null!=e.offset&&e.offset!==v.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==v.format[t]})))return!1}else if("object"===Zo(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=v.format[t]:!1===e.format[t]?null==v.format[t]:Object(ht.a)(e.format[t],v.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(v.prefix))&&(!(null!=e.suffix&&!e.suffix.test(v.suffix))&&!0!==e.handler.call(t,i,v,e))}))&&n.preventDefault()}}}}}))}},{key:"handleBackspace",value:function(t,e){var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(!(0===t.index||this.quill.getLength()<=1)){var r={},o=Yo(this.quill.getLine(t.index),1)[0],i=(new L.a).retain(t.index-n).delete(n);if(0===e.offset){var a=Yo(this.quill.getLine(t.index-1),1)[0];if(a)if(!("block"===a.statics.blotName&&a.length()<=1)){var l=o.formats(),u=this.quill.getFormat(t.index-1,1);if(r=M.AttributeMap.diff(l,u)||{},Object.keys(r).length>0){var c=(new L.a).retain(t.index+o.length()-2).retain(1,r);i=i.compose(c)}}}this.quill.updateContents(i,gr.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},o=Yo(this.quill.getLine(t.index),1)[0],i=(new L.a).retain(t.index).delete(n);if(e.offset>=o.length()-1){var a=Yo(this.quill.getLine(t.index+1),1)[0];if(a){var l=o.formats(),u=this.quill.getFormat(t.index,1);r=M.AttributeMap.diff(l,u)||{},Object.keys(r).length>0&&(i=i.retain(a.length()-1).retain(1,r))}}this.quill.updateContents(i,gr.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(t){yi({range:t,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(t,e){var n=this,r=Object.keys(e.format).reduce((function(t,r){return n.quill.scroll.query(r,i.BLOCK)&&!Array.isArray(e.format[r])&&(t[r]=e.format[r]),t}),{}),o=(new L.a).retain(t.index).delete(t.length).insert("\n",r);this.quill.updateContents(o,gr.sources.USER),this.quill.setSelection(t.index+1,gr.sources.SILENT),this.quill.focus()}}],[{key:"match",value:function(t,e){return!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&(e.key===t.key||e.key===t.which)}}])}(Rn),ci={bindings:{bold:di("bold"),italic:di("italic"),underline:di("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","+1",gr.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","-1",gr.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",gr.sources.USER):null!=e.format.list&&this.quill.format("list",!1,gr.sources.USER)}},"indent code-block":si(!0),"outdent code-block":si(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,gr.sources.USER)}},tab:{key:"Tab",handler:function(t,e){if(e.format.table)return!0;this.quill.history.cutoff();var n=(new L.a).retain(t.index).delete(t.length).insert("\t");return this.quill.updateContents(n,gr.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,gr.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,gr.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler:function(t,e){var n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,gr.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler:function(t){var e=Yo(this.quill.getLine(t.index),2),n=e[0],r=e[1],o=Jo(Jo({},n.formats()),{},{list:"checked"}),i=(new L.a).retain(t.index).insert("\n",o).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,gr.sources.USER),this.quill.setSelection(t.index+1,gr.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=Yo(this.quill.getLine(t.index),2),r=n[0],o=n[1],i=(new L.a).retain(t.index).insert("\n",e.format).retain(r.length()-o-1).retain(1,{header:null});this.quill.updateContents(i,gr.sources.USER),this.quill.setSelection(t.index+1,gr.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler:function(t){var e=this.quill.getModule("table");if(e){var n=Yo(e.getTable(t),4),r=n[0],o=function(t,e,n,r){if(null==e.prev&&null==e.next)return null==n.prev&&null==n.next?0===r?-1:1:null==n.prev?-1:1;if(null==e.prev)return-1;if(null==e.next)return 1;return null}(0,n[1],n[2],n[3]);if(null==o)return;var i=r.offset();if(o<0){var a=(new L.a).retain(i).insert("\n");this.quill.updateContents(a,gr.sources.USER),this.quill.setSelection(t.index+1,t.length,gr.sources.SILENT)}else if(o>0){i+=r.length();var l=(new L.a).retain(i).insert("\n");this.quill.updateContents(l,gr.sources.USER),this.quill.setSelection(i,gr.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler:function(t,e){var n=e.event,r=e.line,o=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(o-1,gr.sources.USER):this.quill.setSelection(o+r.length(),gr.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){if(null==this.quill.scroll.query("list"))return!0;var n,r=e.prefix.length,o=Yo(this.quill.getLine(t.index),2),i=o[0],a=o[1];if(a>r)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(t.index," ",gr.sources.USER),this.quill.history.cutoff();var l=(new L.a).retain(t.index-a).delete(r+1).retain(i.length()-2-a).retain(1,{list:n});return this.quill.updateContents(l,gr.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,gr.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(t){for(var e=Yo(this.quill.getLine(t.index),2),n=e[0],r=e[1],o=2,i=n;null!=i&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,(o-=1)<=0){var a=(new L.a).retain(t.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,gr.sources.USER),this.quill.setSelection(t.index-1,gr.sources.SILENT),!1}return!0}},"embed left":fi("ArrowLeft",!1),"embed left shift":fi("ArrowLeft",!0),"embed right":fi("ArrowRight",!1),"embed right shift":fi("ArrowRight",!0),"table down":hi(!1),"table up":hi(!0)}};function si(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler:function(e,n){var r=n.event,o=this.quill.scroll.query("code-block").TAB;if(0===e.length&&!r.shiftKey)return this.quill.insertText(e.index,o,gr.sources.USER),void this.quill.setSelection(e.index+o.length,gr.sources.SILENT);var i=0===e.length?this.quill.getLines(e.index,1):this.quill.getLines(e),a=e.index,l=e.length;i.forEach((function(e,n){t?(e.insertAt(0,o),0===n?a+=o.length:l+=o.length):e.domNode.textContent.startsWith(o)&&(e.deleteAt(0,o.length),0===n?a-=o.length:l-=o.length)})),this.quill.update(gr.sources.USER),this.quill.setSelection(a,l,gr.sources.SILENT)}}}function fi(t,e){return ti(ti({key:t,shiftKey:e,altKey:null},"ArrowLeft"===t?"prefix":"suffix",/^$/),"handler",(function(n){var r=n.index;return"ArrowRight"===t&&(r+=n.length+1),!(Yo(this.quill.getLeaf(r),1)[0]instanceof T)||("ArrowLeft"===t?e?this.quill.setSelection(n.index-1,n.length+1,gr.sources.USER):this.quill.setSelection(n.index-1,gr.sources.USER):e?this.quill.setSelection(n.index,n.length+1,gr.sources.USER):this.quill.setSelection(n.index+n.length+1,gr.sources.USER),!1)}))}function di(t){return{key:t[0],shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],gr.sources.USER)}}}function hi(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler:function(e,n){var r=t?"prev":"next",o=n.line,i=o.parent[r];if(null!=i){if("table-row"===i.statics.blotName){for(var a=i.children.head,l=o;null!=l.prev;)l=l.prev,a=a.next;var u=a.offset(this.quill.scroll)+Math.min(n.offset,a.length()-1);this.quill.setSelection(u,0,gr.sources.USER)}}else{var c=o.table()[r];null!=c&&(t?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,gr.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,gr.sources.USER))}return!1}}}function pi(t){if("string"==typeof t||"number"==typeof t)t={key:t};else{if("object"!==Zo(t))return null;t=dt(t)}return t.shortKey&&(t[li]=t.shortKey,delete t.shortKey),t}function yi(t){var e=t.quill,n=t.range,r=e.getLines(n),o={};if(r.length>1){var i=r[0].formats(),a=r[r.length-1].formats();o=M.AttributeMap.diff(a,i)||{}}e.deleteText(n,gr.sources.USER),Object.keys(o).length>0&&e.formatLine(n.index,1,o,gr.sources.USER),e.setSelection(n.index,gr.sources.SILENT)}function mi(t){return function(t){if(Array.isArray(t))return vi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return vi(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}ui.DEFAULTS=ci;var bi=/font-weight:\s*normal/,gi=["P","OL","UL"],wi=function(t){return t&&gi.includes(t.tagName)};n(475);var Si=/\bmso-list:[^;]*ignore/i,Oi=/\bmso-list:[^;]*\bl(\d+)/i,Ei=/\bmso-list:[^;]*\blevel(\d+)/i,xi=function(t){var e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach((function(t){(t.getAttribute("style")||"").match(Si)?n.push(t):r.push(t)})),n.forEach((function(t){var e;return null===(e=t.parentNode)||void 0===e?void 0:e.removeChild(t)}));for(var o=t.documentElement.innerHTML,i=r.map((function(t){return function(t,e){var n=t.getAttribute("style"),r=null==n?void 0:n.match(Oi);if(!r)return null;var o=Number(r[1]),i=null==n?void 0:n.match(Ei),a=i?Number(i[1]):1,l=new RegExp("@list l".concat(o,":level").concat(a,"\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)"),"i"),u=e.match(l);return{id:o,indent:a,type:u&&"bullet"===u[1]?"bullet":"ordered",element:t}}(t,o)})).filter((function(t){return t})),a=function(){for(var t,e=[],n=i.shift();n;){var r;e.push(n),n=i.length&&(null===(r=i[0])||void 0===r?void 0:r.element)===n.element.nextElementSibling&&i[0].id===n.id?i.shift():null}var o=document.createElement("ul");e.forEach((function(t){var e=document.createElement("li");e.setAttribute("data-list",t.type),t.indent>1&&e.setAttribute("class","ql-indent-".concat(t.indent-1)),e.innerHTML=t.element.innerHTML,o.appendChild(e)}));var a=null===(t=e[0])||void 0===t?void 0:t.element,l=(null!=a?a:{}).parentNode;a&&(null==l||l.replaceChild(o,a)),e.slice(1).forEach((function(t){var e=t.element;null==l||l.removeChild(e)}))};i.length;)a()};var _i=[function(t){"urn:schemas-microsoft-com:office:word"===t.documentElement.getAttribute("xmlns:w")&&xi(t)},function(t){t.querySelector('[id^="docs-internal-guid-"]')&&(function(t){Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter((function(t){var e;return null===(e=t.getAttribute("style"))||void 0===e?void 0:e.match(bi)})).forEach((function(e){var n,r=t.createDocumentFragment();r.append.apply(r,mi(e.childNodes)),null===(n=e.parentNode)||void 0===n||n.replaceChild(r,e)}))}(t),function(t){Array.from(t.querySelectorAll("br")).filter((function(t){return wi(t.previousElementSibling)&&wi(t.nextElementSibling)})).forEach((function(t){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)}))}(t))}],Ci=function(t){t.documentElement&&_i.forEach((function(e){e(t)}))};function ji(t){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ai(Object(n),!0).forEach((function(e){Li(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ki(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Pi(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pi(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Di(r.key),r)}}function Ni(t,e,n){return e=Ii(e),function(t,e){if(e&&("object"==ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Ii(t).constructor):e.apply(t,n))}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mi(t,e){return(Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Li(t,e,n){return(e=Di(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Di(t){var e=function(t,e){if("object"!=ji(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ji(e)?e:e+""}var qi=Te("quill:clipboard"),zi=[[Node.TEXT_NODE,function(t,e,n){var r,o=t.data;if("O:P"===(null===(r=t.parentElement)||void 0===r?void 0:r.tagName))return e.insert(o.trim());if(!function t(e){if(null==e)return!1;Vi.has(e)||("PRE"===e.tagName?Vi.set(e,!0):Vi.set(e,t(e.parentNode)));return Vi.get(e)}(t)){if(0===o.trim().length&&o.includes("\n")&&!function(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Wi(t.previousElementSibling,e)&&!Wi(t.nextElementSibling,e)}(t,n))return e;o=(o=o.replace(/[^\S\u00a0]/g," ")).replace(/ {2,}/g," "),(null==t.previousSibling&&null!=t.parentElement&&Wi(t.parentElement,n)||t.previousSibling instanceof Element&&Wi(t.previousSibling,n))&&(o=o.replace(/^ /,"")),(null==t.nextSibling&&null!=t.parentElement&&Wi(t.parentElement,n)||t.nextSibling instanceof Element&&Wi(t.nextSibling,n))&&(o=o.replace(/ $/,"")),o=o.replaceAll(""," ")}return e.insert(o)}],[Node.TEXT_NODE,Zi],["br",function(t,e){Gi(e,"\n")||e.insert("\n");return e}],[Node.ELEMENT_NODE,Zi],[Node.ELEMENT_NODE,function(t,e,n){var r=n.query(t);if(null==r)return e;if(r.prototype instanceof T){var o={},i=r.value(t);if(null!=i)return o[r.blotName]=i,(new L.a).insert(o,r.formats(t,n))}else if(r.prototype instanceof C&&!Gi(e,"\n")&&e.insert("\n"),"blotName"in r&&"formats"in r&&"function"==typeof r.formats)return Ui(e,r.blotName,r.formats(t,n),n);return e}],[Node.ELEMENT_NODE,function(t,e,n){var r=a.keys(t),o=f.keys(t),l=h.keys(t),u={};return r.concat(o).concat(l).forEach((function(e){var r=n.query(e,i.ATTRIBUTE);null!=r&&(u[r.attrName]=r.value(t),u[r.attrName])||(null==(r=Bi[e])||r.attrName!==e&&r.keyName!==e||(u[r.attrName]=r.value(t)||void 0),null==(r=Fi[e])||r.attrName!==e&&r.keyName!==e||(r=Fi[e],u[r.attrName]=r.value(t)||void 0))})),Object.entries(u).reduce((function(t,e){var r=ki(e,2);return Ui(t,r[0],r[1],n)}),e)}],[Node.ELEMENT_NODE,function(t,e,n){var r,o={},i=t.style||{};"italic"===i.fontStyle&&(o.italic=!0);"underline"===i.textDecoration&&(o.underline=!0);"line-through"===i.textDecoration&&(o.strike=!0);(null!==(r=i.fontWeight)&&void 0!==r&&r.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(o.bold=!0);if(e=Object.entries(o).reduce((function(t,e){var r=ki(e,2);return Ui(t,r[0],r[1],n)}),e),parseFloat(i.textIndent||0)>0)return(new L.a).insert("\t").concat(e);return e}],["li",function(t,e,n){var r=n.query(t);if(null==r||"list"!==r.blotName||!Gi(e,"\n"))return e;var o=-1,i=t.parentNode;for(;null!=i;)["OL","UL"].includes(i.tagName)&&(o+=1),i=i.parentNode;return o<=0?e:e.reduce((function(t,e){return e.insert?e.attributes&&"number"==typeof e.attributes.indent?t.push(e):t.insert(e.insert,Ti({indent:o},e.attributes||{})):t}),new L.a)}],["ol, ul",function(t,e,n){var r=t,o="OL"===r.tagName?"ordered":"bullet",i=r.getAttribute("data-checked");i&&(o="true"===i?"checked":"unchecked");return Ui(e,"list",o,n)}],["pre",function(t,e,n){var r=n.query("code-block"),o=!r||!("formats"in r)||"function"!=typeof r.formats||r.formats(t,n);return Ui(e,"code-block",o,n)}],["tr",function(t,e,n){var r,o,i="TABLE"===(null===(r=t.parentElement)||void 0===r?void 0:r.tagName)?t.parentElement:null===(o=t.parentElement)||void 0===o?void 0:o.parentElement;if(null!=i){var a=Array.from(i.querySelectorAll("tr")).indexOf(t)+1;return Ui(e,"table",a,n)}return e}],["b",$i("bold")],["i",$i("italic")],["strike",$i("strike")],["style",function(){return new L.a}]],Bi=[Jr,Ro].reduce((function(t,e){return t[e.keyName]=e,t}),{}),Fi=[eo,mo,po,Io,Vo,$o].reduce((function(t,e){return t[e.keyName]=e,t}),{}),Hi=function(t){function e(t,n){var r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Ni(this,e,[t,n])).quill.root.addEventListener("copy",(function(t){return o.onCaptureCopy(t,!1)})),o.quill.root.addEventListener("cut",(function(t){return o.onCaptureCopy(t,!0)})),o.quill.root.addEventListener("paste",o.onCapturePaste.bind(o)),o.matchers=[],zi.concat(null!==(r=o.options.matchers)&&void 0!==r?r:[]).forEach((function(t){var e=ki(t,2),n=e[0],r=e[1];o.addMatcher(n,r)})),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mi(t,e)}(e,t),function(t,e,n){return e&&Ri(t.prototype,e),n&&Ri(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){var e=t.html,n=t.text,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[To.blotName])return(new L.a).insert(n||"",Li({},To.blotName,r[To.blotName]));if(!e)return(new L.a).insert(n||"",r);var o=this.convertHTML(e);return Gi(o,"\n")&&(null==o.ops[o.ops.length-1].attributes||r.table)?o.compose((new L.a).retain(o.length()-1).delete(1)):o}},{key:"normalizeHTML",value:function(t){Ci(t)}},{key:"convertHTML",value:function(t){var e=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(e);var n=e.body,r=new WeakMap,o=ki(this.prepareMatching(n,r),2),i=o[0],a=o[1];return Ki(this.quill.scroll,n,i,a,r)}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gr.sources.API;if("string"==typeof t){var r=this.convert({html:t,text:""});this.quill.setContents(r,e),this.quill.setSelection(0,gr.sources.SILENT)}else{var o=this.convert({html:e,text:""});this.quill.updateContents((new L.a).retain(t).concat(o),n),this.quill.setSelection(t+o.length(),gr.sources.SILENT)}}},{key:"onCaptureCopy",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.defaultPrevented){t.preventDefault();var o=this.quill.selection.getRange(),i=ki(o,1),a=i[0];if(null!=a){var l=this.onCopy(a,r),u=l.html,c=l.text;null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",c),null===(n=t.clipboardData)||void 0===n||n.setData("text/html",u),r&&yi({range:a,quill:this.quill})}}}},{key:"normalizeURIList",value:function(t){return t.split(/\r?\n/).filter((function(t){return"#"!==t[0]})).join("\n")}},{key:"onCapturePaste",value:function(t){var e,n,r;if(!t.defaultPrevented&&this.quill.isEnabled()){t.preventDefault();var o=this.quill.getSelection(!0);if(null!=o){var i=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("text/html"),a=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain");if(!i&&!a){var l,u=null===(l=t.clipboardData)||void 0===l?void 0:l.getData("text/uri-list");u&&(a=this.normalizeURIList(u))}var c=Array.from((null===(r=t.clipboardData)||void 0===r?void 0:r.files)||[]);if(!i&&c.length>0)this.quill.uploader.upload(o,c);else{if(i&&c.length>0){var s,f=(new DOMParser).parseFromString(i,"text/html");if(1===f.body.childElementCount&&"IMG"===(null===(s=f.body.firstElementChild)||void 0===s?void 0:s.tagName))return void this.quill.uploader.upload(o,c)}this.onPaste(o,{html:i,text:a})}}}}},{key:"onCopy",value:function(t){var e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}},{key:"onPaste",value:function(t,e){var n=e.text,r=e.html,o=this.quill.getFormat(t.index),i=this.convert({text:n,html:r},o);qi.log("onPaste",i,{text:n,html:r});var a=(new L.a).retain(t.index).delete(t.length).concat(i);this.quill.updateContents(a,gr.sources.USER),this.quill.setSelection(a.length()-t.length,gr.sources.SILENT),this.quill.scrollSelectionIntoView()}},{key:"prepareMatching",value:function(t,e){var n=[],r=[];return this.matchers.forEach((function(o){var i=ki(o,2),a=i[0],l=i[1];switch(a){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(a)).forEach((function(t){if(e.has(t)){var n=e.get(t);null==n||n.push(l)}else e.set(t,[l])}))}})),[n,r]}}])}(Rn);function Ui(t,e,n,r){return r.query(e)?t.reduce((function(t,r){if(!r.insert)return t;if(r.attributes&&r.attributes[e])return t.push(r);var o=n?Li({},e,n):{};return t.insert(r.insert,Ti(Ti({},o),r.attributes))}),new L.a):t}function Gi(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function Wi(t,e){if(!(t instanceof Element))return!1;var n=e.query(t);return!(n&&n.prototype instanceof T)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}Li(Hi,"DEFAULTS",{matchers:[]});var Vi=new WeakMap;function Ki(t,e,n,r,o){return e.nodeType===e.TEXT_NODE?r.reduce((function(n,r){return r(e,n,t)}),new L.a):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((function(i,a){var l=Ki(t,a,n,r,o);return a.nodeType===e.ELEMENT_NODE&&(l=n.reduce((function(e,n){return n(a,e,t)}),l),l=(o.get(a)||[]).reduce((function(e,n){return n(a,e,t)}),l)),i.concat(l)}),new L.a):new L.a}function $i(t){return function(e,n,r){return Ui(n,t,!0,r)}}function Zi(t,e,n){if(!Gi(e,"\n")){if(Wi(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert("\n");if(e.length()>0&&t.nextSibling)for(var r=t.nextSibling;null!=r;){if(Wi(r,n))return e.insert("\n");var o=n.query(r);if(o&&o.prototype instanceof ue)return e.insert("\n");r=r.firstChild}}return e}n(128),n(386);function Yi(t){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,na(r.key),r)}}function Qi(t,e,n){return e=Ji(e),function(t,e){if(e&&("object"==Yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Ji(t).constructor):e.apply(t,n))}function Ji(t){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ta(t,e){return(ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ea(t,e,n){return(e=na(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function na(t){var e=function(t,e){if("object"!=Yi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yi(e)?e:e+""}var ra=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ea(r=Qi(this,e,[t,n]),"lastRecorded",0),ea(r,"ignoreChange",!1),ea(r,"stack",{undo:[],redo:[]}),ea(r,"currentRange",null),r.quill.on(gr.events.EDITOR_CHANGE,(function(t,e,n,o){t===gr.events.SELECTION_CHANGE?e&&o!==gr.sources.SILENT&&(r.currentRange=e):t===gr.events.TEXT_CHANGE&&(r.ignoreChange||(r.options.userOnly&&o!==gr.sources.USER?r.transform(e):r.record(e,n)),r.currentRange=ia(r.currentRange,e))})),r.quill.keyboard.addBinding({key:"z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"y",shortKey:!0},r.redo.bind(r)),r.quill.root.addEventListener("beforeinput",(function(t){"historyUndo"===t.inputType?(r.undo(),t.preventDefault()):"historyRedo"===t.inputType&&(r.redo(),t.preventDefault())})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ta(t,e)}(e,t),function(t,e,n){return e&&Xi(t.prototype,e),n&&Xi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();if(n){var r=this.quill.getContents(),o=n.delta.invert(r);this.stack[e].push({delta:o,range:ia(n.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,gr.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=t.invert(e),r=this.currentRange,o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){var i=this.stack.undo.pop();i&&(n=n.compose(i.delta),r=i.range)}else this.lastRecorded=o;0!==n.length()&&(this.stack.undo.push({delta:n,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){oa(this.stack.undo,t),oa(this.stack.redo,t)}},{key:"undo",value:function(){this.change("undo","redo")}},{key:"restoreSelection",value:function(t){if(t.range)this.quill.setSelection(t.range,gr.sources.USER);else{var e=function(t,e){var n=e.reduce((function(t,e){return t+(e.delete||0)}),0),r=e.length()-n;(function(t,e){var n=e.ops[e.ops.length-1];if(null==n)return!1;if(null!=n.insert)return"string"==typeof n.insert&&n.insert.endsWith("\n");if(null!=n.attributes)return Object.keys(n.attributes).some((function(e){return null!=t.query(e,i.BLOCK)}));return!1})(t,e)&&(r-=1);return r}(this.quill.scroll,t.delta);this.quill.setSelection(e,gr.sources.USER)}}}])}(Rn);function oa(t,e){for(var n=e,r=t.length-1;r>=0;r-=1){var o=t[r];t[r]={delta:n.transform(o.delta,!0),range:o.range&&ia(o.range,n)},n=o.delta.transform(n),0===t[r].delta.length()&&t.splice(r,1)}}function ia(t,e){if(!t)return t;var n=e.transformPosition(t.index);return{index:n,length:e.transformPosition(t.index+t.length)-n}}ea(ra,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});n(54);function aa(t){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function la(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ua(r.key),r)}}function ua(t){var e=function(t,e){if("object"!=aa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aa(e)?e:e+""}function ca(t,e,n){return e=sa(e),function(t,e){if(e&&("object"==aa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],sa(t).constructor):e.apply(t,n))}function sa(t){return(sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fa(t,e){return(fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var da=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=ca(this,e,[t,n]),t.root.addEventListener("drop",(function(e){e.preventDefault();var n=null;if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(e.clientX,e.clientY);else if(document.caretPositionFromPoint){var o=document.caretPositionFromPoint(e.clientX,e.clientY);(n=document.createRange()).setStart(o.offsetNode,o.offset),n.setEnd(o.offsetNode,o.offset)}var i=n&&t.selection.normalizeNative(n);if(i){var a,l=t.selection.normalizedToRange(i);null!==(a=e.dataTransfer)&&void 0!==a&&a.files&&r.upload(l,e.dataTransfer.files)}})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fa(t,e)}(e,t),function(t,e,n){return e&&la(t.prototype,e),n&&la(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"upload",value:function(t,e){var n=this,r=[];Array.from(e).forEach((function(t){var e;t&&null!==(e=n.options.mimetypes)&&void 0!==e&&e.includes(t.type)&&r.push(t)})),r.length>0&&this.options.handler.call(this,t,r)}}])}(Rn);da.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler:function(t,e){var n=this;if(this.quill.scroll.query("image")){var r=e.map((function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsDataURL(t)}))}));Promise.all(r).then((function(e){var r=e.reduce((function(t,e){return t.insert({image:e})}),(new L.a).retain(t.index).delete(t.length));n.quill.updateContents(r,He.sources.USER),n.quill.setSelection(t.index+e.length,He.sources.SILENT)}))}}};var ha=da;function pa(t){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ya(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ma(r.key),r)}}function ma(t){var e=function(t,e){if("object"!=pa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pa(e)?e:e+""}function va(t,e,n){return e=ba(e),function(t,e){if(e&&("object"==pa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],ba(t).constructor):e.apply(t,n))}function ba(t){return(ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ga(t,e){return(ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var wa=["insertText","insertReplacementText"];var Sa=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=va(this,e,[t,n]),t.root.addEventListener("beforeinput",(function(t){r.handleBeforeInput(t)})),/Android/i.test(navigator.userAgent)||t.on(gr.events.COMPOSITION_BEFORE_START,(function(){r.handleCompositionStart()})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ga(t,e)}(e,t),function(t,e,n){return e&&ya(t.prototype,e),n&&ya(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"deleteRange",value:function(t){yi({range:t,quill:this.quill})}},{key:"replaceText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.length)return!1;if(e){var n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents((new L.a).retain(t.index).insert(e,n),gr.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,gr.sources.SILENT),!0}},{key:"handleBeforeInput",value:function(t){if(!this.quill.composition.isComposing&&!t.defaultPrevented&&wa.includes(t.inputType)){var e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(e&&!0!==e.collapsed){var n=function(t){var e;if("string"==typeof t.data)return t.data;if(null!==(e=t.dataTransfer)&&void 0!==e&&e.types.includes("text/plain"))return t.dataTransfer.getData("text/plain");return null}(t);if(null!=n){var r=this.quill.selection.normalizeNative(e),o=r?this.quill.selection.normalizedToRange(r):null;o&&this.replaceText(o,n)&&t.preventDefault()}}}}},{key:"handleCompositionStart",value:function(){var t=this.quill.getSelection();t&&this.replaceText(t)}}])}(Rn);function Oa(t){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aa(r.key),r)}}function xa(t,e,n){return e=_a(e),function(t,e){if(e&&("object"==Oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],_a(t).constructor):e.apply(t,n))}function _a(t){return(_a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ca(t,e){return(Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ja(t,e,n){return(e=Aa(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aa(t){var e=function(t,e){if("object"!=Oa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oa(e)?e:e+""}var Ta=/Mac/i.test(navigator.platform),ka=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ja(r=xa(this,e,[t,n]),"isListening",!1),ja(r,"selectionChangeDeadline",0),r.handleArrowKeys(),r.handleNavigationShortcuts(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ca(t,e)}(e,t),function(t,e,n){return e&&Ea(t.prototype,e),n&&Ea(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"handleArrowKeys",value:function(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler:function(t,e){var n=e.line,r=e.event;if(!(n instanceof O&&n.uiNode))return!0;var o="rtl"===getComputedStyle(n.domNode).direction;return!!(o&&"ArrowRight"!==r.key||!o&&"ArrowLeft"!==r.key)||(this.quill.setSelection(t.index-1,t.length+(r.shiftKey?1:0),gr.sources.USER),!1)}})}},{key:"handleNavigationShortcuts",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(e){!e.defaultPrevented&&function(t){return"ArrowLeft"===t.key||"ArrowRight"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key||"Home"===t.key||!(!Ta||"a"!==t.key||!0!==t.ctrlKey)}(e)&&t.ensureListeningToSelectionChange()}))}},{key:"ensureListeningToSelectionChange",value:function(){var t=this;if(this.selectionChangeDeadline=Date.now()+100,!this.isListening){this.isListening=!0;document.addEventListener("selectionchange",(function(){t.isListening=!1,Date.now()<=t.selectionChangeDeadline&&t.handleSelectionChange()}),{once:!0})}}},{key:"handleSelectionChange",value:function(){var t=document.getSelection();if(t){var e=t.getRangeAt(0);if(!0===e.collapsed&&0===e.startOffset){var n=this.quill.scroll.find(e.startContainer);if(n instanceof O&&n.uiNode){var r=document.createRange();r.setStartAfter(n.uiNode),r.setEndAfter(n.uiNode),t.removeAllRanges(),t.addRange(r)}}}}}])}(Rn);gr.register({"blots/block":le,"blots/block/embed":ue,"blots/break":Ot,"blots/container":Ir,"blots/cursor":Oe,"blots/embed":Fn,"blots/inline":Wt,"blots/scroll":Xr,"blots/text":kt,"modules/clipboard":Hi,"modules/history":ra,"modules/keyboard":ui,"modules/uploader":ha,"modules/input":Sa,"modules/uiNode":ka});var Pa=gr;function Ra(t){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Na(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ma(r.key),r)}}function Ma(t){var e=function(t,e){if("object"!=Ra(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ra(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ra(e)?e:e+""}function La(t,e,n){return e=Ba(e),function(t,e){if(e&&("object"==Ra(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Ba(t).constructor):e.apply(t,n))}function Da(t,e,n,r){var o=qa(Ba(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function qa(){return(qa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=za(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function za(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ba(t)););return t}function Ba(t){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fa(t,e){return(Fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Ha=new(function(t){function e(){return Na(this,e),La(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fa(t,e)}(e,t),function(t,e,n){return e&&Ia(t.prototype,e),n&&Ia(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"add",value:function(t,n){var r=0;if("+1"===n||"-1"===n){var o=this.value(t)||0;r="+1"===n?o+1:o-1}else"number"==typeof n&&(r=n);return 0===r?(this.remove(t),!0):Da(e,"add",this,3)([t,r.toString()])}},{key:"canAdd",value:function(t,n){return Da(e,"canAdd",this,3)([t,n])||Da(e,"canAdd",this,3)([t,parseInt(n,10)])}},{key:"value",value:function(t){return parseInt(Da(e,"value",this,3)([t]),10)||void 0}}])}(f))("indent","ql-indent",{scope:i.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});function Ua(t){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ya(r.key),r)}}function Wa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Va(t,e,n){return e=Ka(e),function(t,e){if(e&&("object"==Ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Ka(t).constructor):e.apply(t,n))}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $a(t,e){return($a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Za(t,e,n){return(e=Ya(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ya(t){var e=function(t,e){if("object"!=Ua(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ua(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ua(e)?e:e+""}var Xa=function(t){function e(){return Wa(this,e),Va(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$a(t,e)}(e,t),function(t,e,n){return e&&Ga(t.prototype,e),n&&Ga(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(le);Za(Xa,"blotName","blockquote"),Za(Xa,"tagName","blockquote");var Qa=Xa;function Ja(t){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function el(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,al(r.key),r)}}function nl(t,e,n){return e=rl(e),function(t,e){if(e&&("object"==Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],rl(t).constructor):e.apply(t,n))}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ol(t,e){return(ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function il(t,e,n){return(e=al(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function al(t){var e=function(t,e){if("object"!=Ja(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ja(e)?e:e+""}var ll=function(t){function e(){return tl(this,e),nl(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ol(t,e)}(e,t),function(t,e,n){return e&&el(t.prototype,e),n&&el(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}])}(le);il(ll,"blotName","header"),il(ll,"tagName",["H1","H2","H3","H4","H5","H6"]);var ul=ll;function cl(t){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sl(t,e,n,r){var o=fl(bl(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function fl(){return(fl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=dl(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function dl(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=bl(t)););return t}function hl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yl(r.key),r)}}function pl(t,e,n){return e&&hl(t.prototype,e),n&&hl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yl(t){var e=function(t,e){if("object"!=cl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cl(e)?e:e+""}function ml(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t,e,n){return e=bl(e),function(t,e){if(e&&("object"==cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],bl(t).constructor):e.apply(t,n))}function bl(t){return(bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wl(t,e)}function wl(t,e){return(wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Sl=function(t){function e(){return ml(this,e),vl(this,e,arguments)}return gl(e,t),pl(e)}(Ir);Sl.blotName="list-container",Sl.tagName="OL";var Ol=function(t){function e(t,n){var r;ml(this,e),r=vl(this,e,[t,n]);var o=n.ownerDocument.createElement("span"),i=function(e){if(t.isEnabled()){var o=r.statics.formats(n,t);"checked"===o?(r.format("list","unchecked"),e.preventDefault()):"unchecked"===o&&(r.format("list","checked"),e.preventDefault())}};return o.addEventListener("mousedown",i),o.addEventListener("touchstart",i),r.attachUI(o),r}return gl(e,t),pl(e,[{key:"format",value:function(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):sl(e,"format",this,3)([t,n])}}],[{key:"create",value:function(t){var n=sl(e,"create",this,2)([]);return n.setAttribute("data-list",t),n}},{key:"formats",value:function(t){return t.getAttribute("data-list")||void 0}},{key:"register",value:function(){gr.register(Sl)}}])}(le);function El(t){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nl(r.key),r)}}function Cl(t,e,n){return e=kl(e),function(t,e){if(e&&("object"==El(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],kl(t).constructor):e.apply(t,n))}function jl(t,e,n,r){var o=Al(kl(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Al(){return(Al="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Tl(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Tl(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=kl(t)););return t}function kl(t){return(kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pl(t,e){return(Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rl(t,e,n){return(e=Nl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nl(t){var e=function(t,e){if("object"!=El(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=El(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==El(e)?e:e+""}Ol.blotName="list",Ol.tagName="LI",Sl.allowedChildren=[Ol],Ol.requiredContainer=Sl;var Il=function(t){function e(){return xl(this,e),Cl(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pl(t,e)}(e,t),function(t,e,n){return e&&_l(t.prototype,e),n&&_l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"optimize",value:function(t){jl(e,"optimize",this,3)([t]),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return jl(e,"create",this,2)([])}},{key:"formats",value:function(){return!0}}])}(Wt);Rl(Il,"blotName","bold"),Rl(Il,"tagName",["STRONG","B"]);var Ml=Il;function Ll(t){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ul(r.key),r)}}function ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zl(t,e,n){return e=Bl(e),function(t,e){if(e&&("object"==Ll(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Bl(t).constructor):e.apply(t,n))}function Bl(t){return(Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fl(t,e){return(Fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hl(t,e,n){return(e=Ul(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ul(t){var e=function(t,e){if("object"!=Ll(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ll(e)?e:e+""}var Gl=function(t){function e(){return ql(this,e),zl(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fl(t,e)}(e,t),function(t,e,n){return e&&Dl(t.prototype,e),n&&Dl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(Ml);Hl(Gl,"blotName","italic"),Hl(Gl,"tagName",["EM","I"]);var Wl=Gl;function Vl(t){return(Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nu(r.key),r)}}function Zl(t,e,n){return e=Jl(e),function(t,e){if(e&&("object"==Vl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Jl(t).constructor):e.apply(t,n))}function Yl(t,e,n,r){var o=Xl(Jl(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Xl(){return(Xl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ql(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Ql(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Jl(t)););return t}function Jl(t){return(Jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tu(t,e){return(tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eu(t,e,n){return(e=nu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nu(t){var e=function(t,e){if("object"!=Vl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vl(e)?e:e+""}var ru=function(t){function e(){return Kl(this,e),Zl(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tu(t,e)}(e,t),function(t,e,n){return e&&$l(t.prototype,e),n&&$l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"format",value:function(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("href",this.constructor.sanitize(n)):Yl(e,"format",this,3)([t,n])}}],[{key:"create",value:function(t){var n=Yl(e,"create",this,2)([t]);return n.setAttribute("href",this.sanitize(t)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return ou(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}])}(Wt);function ou(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}function iu(t){return(iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function au(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pu(r.key),r)}}function uu(t,e,n){return e=fu(e),function(t,e){if(e&&("object"==iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],fu(t).constructor):e.apply(t,n))}function cu(){return(cu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=su(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function su(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=fu(t)););return t}function fu(t){return(fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function du(t,e){return(du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function hu(t,e,n){return(e=pu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pu(t){var e=function(t,e){if("object"!=iu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=iu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iu(e)?e:e+""}eu(ru,"blotName","link"),eu(ru,"tagName","A"),eu(ru,"SANITIZED_URL","about:blank"),eu(ru,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);var yu=function(t){function e(){return au(this,e),uu(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&du(t,e)}(e,t),function(t,e,n){return e&&lu(t.prototype,e),n&&lu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):function(t,e,n,r){var o=cu(fu(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}(e,"create",this,2)([t])}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}])}(Wt);hu(yu,"blotName","script"),hu(yu,"tagName",["SUB","SUP"]);var mu=yu;function vu(t){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xu(r.key),r)}}function gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e,n){return e=Su(e),function(t,e){if(e&&("object"==vu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Su(t).constructor):e.apply(t,n))}function Su(t){return(Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ou(t,e){return(Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eu(t,e,n){return(e=xu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xu(t){var e=function(t,e){if("object"!=vu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vu(e)?e:e+""}var _u=function(t){function e(){return gu(this,e),wu(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ou(t,e)}(e,t),function(t,e,n){return e&&bu(t.prototype,e),n&&bu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(Ml);Eu(_u,"blotName","strike"),Eu(_u,"tagName",["S","STRIKE"]);var Cu=_u;function ju(t){return(ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Au(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iu(r.key),r)}}function Tu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ku(t,e,n){return e=Pu(e),function(t,e){if(e&&("object"==ju(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Pu(t).constructor):e.apply(t,n))}function Pu(t){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ru(t,e){return(Ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Nu(t,e,n){return(e=Iu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iu(t){var e=function(t,e){if("object"!=ju(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ju(e)?e:e+""}var Mu=function(t){function e(){return Tu(this,e),ku(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ru(t,e)}(e,t),function(t,e,n){return e&&Au(t.prototype,e),n&&Au(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(Wt);Nu(Mu,"blotName","underline"),Nu(Mu,"tagName","U");var Lu=Mu;function Du(t){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vu(r.key),r)}}function Bu(t,e,n){return e=Uu(e),function(t,e){if(e&&("object"==Du(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Uu(t).constructor):e.apply(t,n))}function Fu(){return(Fu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Hu(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Hu(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Uu(t)););return t}function Uu(t){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gu(t,e){return(Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wu(t,e,n){return(e=Vu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vu(t){var e=function(t,e){if("object"!=Du(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Du(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Du(e)?e:e+""}var Ku=function(t){function e(){return qu(this,e),Bu(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gu(t,e)}(e,t),function(t,e,n){return e&&zu(t.prototype,e),n&&zu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"html",value:function(){var t=this.value().formula;return"<span>".concat(t,"</span>")}}],[{key:"create",value:function(t){if(null==window.katex)throw new Error("Formula module requires KaTeX.");var n=function(t,e,n,r){var o=Fu(Uu(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}(e,"create",this,2)([t]);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}])}(Fn);Wu(Ku,"blotName","formula"),Wu(Ku,"className","ql-formula"),Wu(Ku,"tagName","SPAN");var $u=Ku;function Zu(t){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ic(r.key),r)}}function Qu(t,e,n){return e=nc(e),function(t,e){if(e&&("object"==Zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],nc(t).constructor):e.apply(t,n))}function Ju(t,e,n,r){var o=tc(nc(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function tc(){return(tc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ec(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function ec(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=nc(t)););return t}function nc(t){return(nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rc(t,e){return(rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function oc(t,e,n){return(e=ic(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ic(t){var e=function(t,e){if("object"!=Zu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zu(e)?e:e+""}var ac=["alt","height","width"],lc=function(t){function e(){return Yu(this,e),Qu(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rc(t,e)}(e,t),function(t,e,n){return e&&Xu(t.prototype,e),n&&Xu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"format",value:function(t,n){ac.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):Ju(e,"format",this,3)([t,n])}}],[{key:"create",value:function(t){var n=Ju(e,"create",this,2)([t]);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return ac.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return ou(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}])}(T);oc(lc,"blotName","image"),oc(lc,"tagName","IMG");var uc=lc;function cc(t){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gc(r.key),r)}}function dc(t,e,n){return e=mc(e),function(t,e){if(e&&("object"==cc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],mc(t).constructor):e.apply(t,n))}function hc(t,e,n,r){var o=pc(mc(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function pc(){return(pc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=yc(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function yc(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=mc(t)););return t}function mc(t){return(mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vc(t,e){return(vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bc(t,e,n){return(e=gc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gc(t){var e=function(t,e){if("object"!=cc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cc(e)?e:e+""}var wc=["height","width"],Sc=function(t){function e(){return sc(this,e),dc(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vc(t,e)}(e,t),function(t,e,n){return e&&fc(t.prototype,e),n&&fc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"format",value:function(t,n){wc.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):hc(e,"format",this,3)([t,n])}},{key:"html",value:function(){var t=this.value().video;return'<a href="'.concat(t,'">').concat(t,"</a>")}}],[{key:"create",value:function(t){var n=hc(e,"create",this,2)([t]);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return wc.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return ru.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}])}(ue);bc(Sc,"blotName","video"),bc(Sc,"className","ql-video"),bc(Sc,"tagName","IFRAME");var Oc=Sc;function Ec(t){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xc(t,e,n){return(e=kc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Cc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function jc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ac(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kc(r.key),r)}}function Tc(t,e,n){return e&&Ac(t.prototype,e),n&&Ac(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kc(t){var e=function(t,e){if("object"!=Ec(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ec(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ec(e)?e:e+""}function Pc(t,e,n){return e=Dc(e),function(t,e){if(e&&("object"==Ec(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Dc(t).constructor):e.apply(t,n))}function Rc(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nc(t,e)}function Nc(t,e){return(Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ic(t,e,n,r){var o=Mc(Dc(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Mc(){return(Mc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Lc(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Lc(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Dc(t)););return t}function Dc(t){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qc=new f("code-token","hljs",{scope:i.INLINE}),zc=function(t){function e(t,n,r){var o;return jc(this,e),o=Pc(this,e,[t,n,r]),qc.add(o.domNode,r),o}return Rc(e,t),Tc(e,[{key:"format",value:function(t,n){t!==e.blotName?Ic(e,"format",this,3)([t,n]):n?qc.add(this.domNode,n):(qc.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){Ic(e,"optimize",this,3)(arguments),qc.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(t,n){for(;null!=t&&t!==n.domNode;){if(t.classList&&t.classList.contains(To.className))return Ic(e,"formats",this,2)([t,n]);t=t.parentNode}}}])}(Wt);zc.blotName="code-token",zc.className="ql-token";var Bc=function(t){function e(){return jc(this,e),Pc(this,e,arguments)}return Rc(e,t),Tc(e,[{key:"format",value:function(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):Ic(e,"format",this,3)([t,n])}},{key:"replaceWith",value:function(t,n){return this.formatAt(0,this.length(),zc.blotName,!1),Ic(e,"replaceWith",this,3)([t,n])}}],[{key:"create",value:function(t){var n=Ic(e,"create",this,2)([t]);return"string"==typeof t&&n.setAttribute("data-language",t),n}},{key:"formats",value:function(t){return t.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}])}(To),Fc=function(t){function e(){return jc(this,e),Pc(this,e,arguments)}return Rc(e,t),Tc(e,[{key:"attach",value:function(){Ic(e,"attach",this,3)([]),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(t,e){t===Bc.blotName&&(this.forceNext=!0,this.children.forEach((function(n){n.format(t,e)})))}},{key:"formatAt",value:function(t,n,r,o){r===Bc.blotName&&(this.forceNext=!0),Ic(e,"formatAt",this,3)([t,n,r,o])}},{key:"highlight",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.children.head){var r=Array.from(this.domNode.childNodes).filter((function(t){return t!==e.uiNode})),o="".concat(r.map((function(t){return t.textContent})).join("\n"),"\n"),i=Bc.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==o){if(o.trim().length>0||null==this.cachedText){var a=this.children.reduce((function(t,e){return t.concat(ce(e,!1))}),new L.a),l=t(o,i);a.diff(l).reduce((function(t,n){var r=n.retain,o=n.attributes;return r?(o&&Object.keys(o).forEach((function(n){[Bc.blotName,zc.blotName].includes(n)&&e.formatAt(t,r,n,o[n])})),t+r):t}),0)}this.cachedText=o,this.forceNext=!1}}}},{key:"html",value:function(t,e){var n=_c(this.children.find(t),1)[0],r=n?Bc.formats(n.domNode):"plain";return'<pre data-language="'.concat(r,'">\n').concat(Rt(this.code(t,e)),"\n</pre>")}},{key:"optimize",value:function(t){if(Ic(e,"optimize",this,3)([t]),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){var n=Bc.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}])}(Ao);Fc.allowedChildren=[Bc],Bc.requiredContainer=Fc,Bc.allowedChildren=[zc,Oe,kt,Ot];var Hc=function(t,e,n){if("string"==typeof t.versionString){var r=t.versionString.split(".")[0];if(parseInt(r,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value},Uc=function(t){function e(t,n){var r;if(jc(this,e),null==(r=Pc(this,e,[t,n])).options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return r.languages=r.options.languages.reduce((function(t,e){return t[e.key]=!0,t}),{}),r.highlightBlot=r.highlightBlot.bind(r),r.initListener(),r.initTimer(),r}return Rc(e,t),Tc(e,[{key:"initListener",value:function(){var t=this;this.quill.on(gr.events.SCROLL_BLOT_MOUNT,(function(e){if(e instanceof Fc){var n=t.quill.root.ownerDocument.createElement("select");t.options.languages.forEach((function(t){var e=t.key,r=t.label,o=n.ownerDocument.createElement("option");o.textContent=r,o.setAttribute("value",e),n.appendChild(o)})),n.addEventListener("change",(function(){e.format(Bc.blotName,n.value),t.quill.root.focus(),t.highlight(e,!0)})),null==e.uiNode&&(e.attachUI(n),e.children.head&&(n.value=Bc.formats(e.children.head.domNode)))}}))}},{key:"initTimer",value:function(){var t=this,e=null;this.quill.on(gr.events.SCROLL_OPTIMIZE,(function(){e&&clearTimeout(e),e=setTimeout((function(){t.highlight(),e=null}),t.options.interval)}))}},{key:"highlight",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.quill.selection.composing){this.quill.update(gr.sources.USER);var r=this.quill.getSelection(),o=null==e?this.quill.scroll.descendants(Fc):[e];o.forEach((function(e){e.highlight(t.highlightBlot,n)})),this.quill.update(gr.sources.SILENT),null!=r&&this.quill.setSelection(r,gr.sources.SILENT)}}},{key:"highlightBlot",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(e=this.languages[e]?e:"plain"))return Rt(t).split("\n").reduce((function(t,n,r){return 0!==r&&t.insert("\n",xc({},To.blotName,e)),t.insert(n)}),new L.a);var n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(To.className),n.innerHTML=Hc(this.options.hljs,e,t),Ki(this.quill.scroll,n,[function(t,e){var n=qc.value(t);return n?e.compose((new L.a).retain(e.length(),xc({},zc.blotName,n))):e}],[function(t,n){return t.data.split("\n").reduce((function(t,n,r){return 0!==r&&t.insert("\n",xc({},To.blotName,e)),t.insert(n)}),n)}],new WeakMap)}}],[{key:"register",value:function(){gr.register(zc,!0),gr.register(Bc,!0),gr.register(Fc,!0)}}])}(Rn);Uc.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};n(626);function Gc(t){return(Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,os(r.key),r)}}function Zc(t,e,n){return e&&$c(t.prototype,e),n&&$c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yc(t,e,n){return e=ts(e),function(t,e){if(e&&("object"==Gc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],ts(t).constructor):e.apply(t,n))}function Xc(t,e,n,r){var o=Qc(ts(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Qc(){return(Qc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Jc(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Jc(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ts(t)););return t}function ts(t){return(ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function es(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ns(t,e)}function ns(t,e){return(ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rs(t,e,n){return(e=os(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function os(t){var e=function(t,e){if("object"!=Gc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gc(e)?e:e+""}var is=function(t){function e(){return Kc(this,e),Yc(this,e,arguments)}return es(e,t),Zc(e,[{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"format",value:function(t,n){t===e.blotName&&n?this.domNode.setAttribute("data-row",n):Xc(e,"format",this,3)([t,n])}},{key:"row",value:function(){return this.parent}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){return this.row()&&this.row().table()}}],[{key:"create",value:function(t){var n=Xc(e,"create",this,2)([]);return t?n.setAttribute("data-row",t):n.setAttribute("data-row",cs()),n}},{key:"formats",value:function(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}}])}(le);rs(is,"blotName","table"),rs(is,"tagName","TD");var as=function(t){function e(){return Kc(this,e),Yc(this,e,arguments)}return es(e,t),Zc(e,[{key:"checkMerge",value:function(){if(Xc(e,"checkMerge",this,3)([])&&null!=this.next.children.head){var t=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),o=this.next.children.tail.formats();return t.table===n.table&&t.table===r.table&&t.table===o.table}return!1}},{key:"optimize",value:function(t){var n=this;Xc(e,"optimize",this,3)([t]),this.children.forEach((function(t){if(null!=t.next){var e=t.formats(),r=t.next.formats();if(e.table!==r.table){var o=n.splitAfter(t);o&&o.optimize(),n.prev&&n.prev.optimize()}}}))}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){return this.parent&&this.parent.parent}}])}(Ir);rs(as,"blotName","table-row"),rs(as,"tagName","TR");var ls=function(t){function e(){return Kc(this,e),Yc(this,e,arguments)}return es(e,t),Zc(e)}(Ir);rs(ls,"blotName","table-body"),rs(ls,"tagName","TBODY");var us=function(t){function e(){return Kc(this,e),Yc(this,e,arguments)}return es(e,t),Zc(e,[{key:"balanceCells",value:function(){var t=this,e=this.descendants(as),n=e.reduce((function(t,e){return Math.max(e.children.length,t)}),0);e.forEach((function(e){new Array(n-e.children.length).fill(0).forEach((function(){var n;null!=e.children.head&&(n=is.formats(e.children.head.domNode));var r=t.scroll.create(is.blotName,n);e.appendChild(r),r.optimize()}))}))}},{key:"cells",value:function(t){return this.rows().map((function(e){return e.children.at(t)}))}},{key:"deleteColumn",value:function(t){var e=Wc(this.descendant(ls),1)[0];null!=e&&null!=e.children.head&&e.children.forEach((function(e){var n=e.children.at(t);null!=n&&n.remove()}))}},{key:"insertColumn",value:function(t){var e=this,n=Wc(this.descendant(ls),1)[0];null!=n&&null!=n.children.head&&n.children.forEach((function(n){var r=n.children.at(t),o=is.formats(n.children.head.domNode),i=e.scroll.create(is.blotName,o);n.insertBefore(i,r)}))}},{key:"insertRow",value:function(t){var e=this,n=Wc(this.descendant(ls),1)[0];if(null!=n&&null!=n.children.head){var r=cs(),o=this.scroll.create(as.blotName);n.children.head.children.forEach((function(){var t=e.scroll.create(is.blotName,r);o.appendChild(t)}));var i=n.children.at(t);n.insertBefore(o,i)}}},{key:"rows",value:function(){var t=this.children.head;return null==t?[]:t.children.map((function(t){return t}))}}])}(Ir);function cs(){var t=Math.random().toString(36).slice(2,6);return"row-".concat(t)}function ss(t){return(ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ds(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ds(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ds(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ys(r.key),r)}}function ys(t){var e=function(t,e){if("object"!=ss(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ss(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ss(e)?e:e+""}function ms(t,e,n){return e=vs(e),function(t,e){if(e&&("object"==ss(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],vs(t).constructor):e.apply(t,n))}function vs(t){return(vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bs(t,e){return(bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}rs(us,"blotName","table-container"),rs(us,"tagName","TABLE"),us.allowedChildren=[ls],ls.requiredContainer=us,ls.allowedChildren=[as],as.requiredContainer=ls,as.allowedChildren=[is],is.requiredContainer=as;var gs=function(t){function e(){var t;return hs(this,e),(t=ms(this,e,arguments)).listenBalanceCells(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bs(t,e)}(e,t),function(t,e,n){return e&&ps(t.prototype,e),n&&ps(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"balanceTables",value:function(){this.quill.scroll.descendants(us).forEach((function(t){t.balanceCells()}))}},{key:"deleteColumn",value:function(){var t=fs(this.getTable(),3),e=t[0],n=t[2];null!=n&&(e.deleteColumn(n.cellOffset()),this.quill.update(gr.sources.USER))}},{key:"deleteRow",value:function(){var t=fs(this.getTable(),2)[1];null!=t&&(t.remove(),this.quill.update(gr.sources.USER))}},{key:"deleteTable",value:function(){var t=fs(this.getTable(),1)[0];if(null!=t){var e=t.offset();t.remove(),this.quill.update(gr.sources.USER),this.quill.setSelection(e,gr.sources.SILENT)}}},{key:"getTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==t)return[null,null,null,-1];var e=this.quill.getLine(t.index),n=fs(e,2),r=n[0],o=n[1];if(null==r||r.statics.blotName!==is.blotName)return[null,null,null,-1];var i=r.parent,a=i.parent.parent;return[a,i,r,o]}},{key:"insertColumn",value:function(t){var e=this.quill.getSelection();if(e){var n=fs(this.getTable(e),3),r=n[0],o=n[1],i=n[2];if(null!=i){var a=i.cellOffset();r.insertColumn(a+t),this.quill.update(gr.sources.USER);var l=o.rowOffset();0===t&&(l+=1),this.quill.setSelection(e.index+l,e.length,gr.sources.SILENT)}}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(t){var e=this.quill.getSelection();if(e){var n=fs(this.getTable(e),3),r=n[0],o=n[1];if(null!=n[2]){var i=o.rowOffset();r.insertRow(i+t),this.quill.update(gr.sources.USER),t>0?this.quill.setSelection(e,gr.sources.SILENT):this.quill.setSelection(e.index+o.children.length,e.length,gr.sources.SILENT)}}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertTable",value:function(t,e){var n=this.quill.getSelection();if(null!=n){var r=new Array(t).fill(0).reduce((function(t){var n=new Array(e).fill("\n").join("");return t.insert(n,{table:cs()})}),(new L.a).retain(n.index));this.quill.updateContents(r,gr.sources.USER),this.quill.setSelection(n.index,gr.sources.SILENT),this.balanceTables()}}},{key:"listenBalanceCells",value:function(){var t=this;this.quill.on(gr.events.SCROLL_OPTIMIZE,(function(e){e.some((function(e){return!!["TD","TR","TBODY","TABLE"].includes(e.target.tagName)&&(t.quill.once(gr.events.TEXT_CHANGE,(function(e,n,r){r===gr.sources.USER&&t.balanceTables()})),!0)}))}))}}],[{key:"register",value:function(){gr.register(is),gr.register(as),gr.register(ls),gr.register(us)}}])}(Rn);function ws(t){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ss(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Os(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Os(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Es(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xs(r.key),r)}}function xs(t){var e=function(t,e){if("object"!=ws(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ws(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ws(e)?e:e+""}function _s(t,e,n){return e=js(e),Cs(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],js(t).constructor):e.apply(t,n))}function Cs(t,e){if(e&&("object"==ws(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function js(t){return(js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function As(t,e){return(As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Ts=Te("quill:toolbar"),ks=function(t){function e(t,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=_s(this,e,[t,n]),Array.isArray(r.options.container)){var o,i,a=document.createElement("div");a.setAttribute("role","toolbar"),function(t,e){Array.isArray(e[0])||(e=[e]);e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"==typeof t)Ps(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement("select");r.classList.add("ql-".concat(e)),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",String(t)):e.setAttribute("selected","selected"),r.appendChild(e)})),t.appendChild(r)}(n,e,r):Ps(n,e,r)}})),t.appendChild(n)}))}(a,r.options.container),null===(o=t.container)||void 0===o||null===(i=o.parentNode)||void 0===i||i.insertBefore(a,t.container),r.container=a}else"string"==typeof r.options.container?r.container=document.querySelector(r.options.container):r.container=r.options.container;return r.container instanceof HTMLElement?(r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},r.options.handlers&&Object.keys(r.options.handlers).forEach((function(t){var e,n=null===(e=r.options.handlers)||void 0===e?void 0:e[t];n&&r.addHandler(t,n)})),Array.from(r.container.querySelectorAll("button, select")).forEach((function(t){r.attach(t)})),r.quill.on(gr.events.EDITOR_CHANGE,(function(){var t=Ss(r.quill.selection.getRange(),1)[0];r.update(t)})),r):(Ts.error("Container required for toolbar",r.options),Cs(r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&As(t,e)}(e,t),function(t,e,n){return e&&Es(t.prototype,e),n&&Es(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=Array.from(t.classList).find((function(t){return 0===t.indexOf("ql-")}));if(n)if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null!=this.handlers[n]||null!=this.quill.scroll.query(n)){var r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,(function(r){var o;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var i=t.options[t.selectedIndex];o=!i.hasAttribute("selected")&&(i.value||!1)}else o=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();e.quill.focus();var a=Ss(e.quill.selection.getRange(),1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,o);else if(e.quill.scroll.query(n).prototype instanceof T){if(!(o=prompt("Enter ".concat(n))))return;e.quill.updateContents((new L.a).retain(a.index).delete(a.length).insert(function(t,e,n){return(e=xs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,o)),gr.sources.USER)}else e.quill.format(n,o,gr.sources.USER);e.update(a)})),this.controls.push([n,t])}else Ts.warn("ignoring attaching to nonexistent format",n,t)}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var r=Ss(n,2),o=r[0],i=r[1];if("SELECT"===i.tagName){var a=null;if(null==t)a=null;else if(null==e[o])a=i.querySelector("option[selected]");else if(!Array.isArray(e[o])){var l=e[o];"string"==typeof l&&(l=l.replace(/"/g,'\\"')),a=i.querySelector('option[value="'.concat(l,'"]'))}null==a?(i.value="",i.selectedIndex=-1):a.selected=!0}else if(null==t)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){var u=e[o],c=u===i.getAttribute("value")||null!=u&&u.toString()===i.getAttribute("value")||null==u&&!i.getAttribute("value");i.classList.toggle("ql-active",c),i.setAttribute("aria-pressed",c.toString())}else{var s=null!=e[o];i.classList.toggle("ql-active",s),i.setAttribute("aria-pressed",s.toString())}}))}}])}(Rn);function Ps(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-".concat(e)),r.setAttribute("aria-pressed","false"),null!=n?(r.value=n,r.setAttribute("aria-label","".concat(e,": ").concat(n))):r.setAttribute("aria-label",e),t.appendChild(r)}ks.DEFAULTS={},ks.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0===e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=t.quill.scroll.query(e,i.INLINE)&&t.quill.format(e,!1,gr.sources.USER)}))}else this.quill.removeFormat(e.index,e.length,gr.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",gr.sources.USER):t||"right"!==e||this.quill.format("align",!1,gr.sources.USER),this.quill.format("direction",t,gr.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,gr.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,gr.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,gr.sources.USER):this.quill.format("list","unchecked",gr.sources.USER):this.quill.format("list",t,gr.sources.USER)}}};var Rs='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Ns={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Rs,"code-block":Rs,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};function Is(t){return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ls(r.key),r)}}function Ls(t){var e=function(t,e){if("object"!=Is(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Is(e)?e:e+""}var Ds=0;function qs(t,e){t.setAttribute(e,"".concat(!("true"===t.getAttribute(e))))}var zs=function(){return function(t,e,n){return e&&Ms(t.prototype,e),n&&Ms(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.key){case"Enter":n.togglePicker();break;case"Escape":n.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}),[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),qs(this.label,"aria-expanded"),qs(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");var r=t.getAttribute("value");return r&&n.setAttribute("data-value",r),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.key){case"Enter":e.selectItem(n,!0),t.preventDefault();break;case"Escape":e.escape(),t.preventDefault()}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-".concat(Ds),Ds+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach((function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;Array.from(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}},{key:"update",value:function(){var t;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}])}();function Bs(t){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hs(r.key),r)}}function Hs(t){var e=function(t,e){if("object"!=Bs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bs(e)?e:e+""}function Us(t,e,n){return e=Ks(e),function(t,e){if(e&&("object"==Bs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Ks(t).constructor):e.apply(t,n))}function Gs(t,e,n,r){var o=Ws(Ks(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Ws(){return(Ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Vs(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Vs(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ks(t)););return t}function Ks(t){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $s(t,e){return($s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Zs=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Us(this,e,[t])).label.innerHTML=n,r.container.classList.add("ql-color-picker"),Array.from(r.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((function(t){t.classList.add("ql-primary")})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$s(t,e)}(e,t),function(t,e,n){return e&&Fs(t.prototype,e),n&&Fs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"buildItem",value:function(t){var n=Gs(e,"buildItem",this,3)([t]);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){Gs(e,"selectItem",this,3)([t,n]);var r=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o)}}])}(zs);function Ys(t){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qs(r.key),r)}}function Qs(t){var e=function(t,e){if("object"!=Ys(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ys(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ys(e)?e:e+""}function Js(t,e,n){return e=nf(e),function(t,e){if(e&&("object"==Ys(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function tf(){return(tf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ef(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function ef(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=nf(t)););return t}function nf(t){return(nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rf(t,e){return(rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var of=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Js(this,e,[t])).container.classList.add("ql-icon-picker"),Array.from(r.container.querySelectorAll(".ql-picker-item")).forEach((function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rf(t,e)}(e,t),function(t,e,n){return e&&Xs(t.prototype,e),n&&Xs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"selectItem",value:function(t,n){!function(t,e,n,r){var o=tf(nf(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}(e,"selectItem",this,3)([t,n]);var r=t||this.defaultItem;if(null!=r){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}])}(zs);function af(t){return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uf(r.key),r)}}function uf(t){var e=function(t,e){if("object"!=af(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=af(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==af(e)?e:e+""}var cf=function(){return function(t,e,n){return e&&lf(t.prototype,e),n&&lf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,r=this.quill.root,"visible"!==(o=getComputedStyle(r,null).overflowY)&&"clip"!==o&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop="".concat(-1*i.quill.root.scrollTop,"px")})),this.hide()}),[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left="".concat(e,"px"),this.root.style.top="".concat(n,"px"),this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left="".concat(e+i,"px")),o.left<r.left&&(i=r.left-o.left,this.root.style.left="".concat(e+i,"px")),o.bottom>r.bottom){var a=o.bottom-o.top,l=t.bottom-t.top+a;this.root.style.top="".concat(n-l,"px"),this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}])}();function sf(t){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ff(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function df(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pf(r.key),r)}}function hf(t,e,n){return e&&df(t.prototype,e),n&&df(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pf(t){var e=function(t,e){if("object"!=sf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sf(e)?e:e+""}function yf(t,e,n){return e=bf(e),function(t,e){if(e&&("object"==sf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],bf(t).constructor):e.apply(t,n))}function mf(){return(mf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=vf(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function vf(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=bf(t)););return t}function bf(t){return(bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wf(t,e)}function wf(t,e){return(wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Sf=[!1,"center","right","justify"],Of=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Ef=[!1,"serif","monospace"],xf=["1","2","3",!1],_f=["small",!1,"large","huge"],Cf=function(t){function e(t,n){var r;ff(this,e),r=yf(this,e,[t,n]);var o=function(e){document.body.contains(t.root)?(null==r.tooltip||r.tooltip.root.contains(e.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(t){t.container.contains(e.target)||t.close()}))):document.body.removeEventListener("click",o)};return t.emitter.listenDOM("click",document.body,o),r}return gf(e,t),hf(e,[{key:"addModule",value:function(t){var n=function(t,e,n,r){var o=mf(bf(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}(e,"addModule",this,3)([t]);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){Array.from(t).forEach((function(t){(t.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=Array.from(t).map((function(t){if(t.classList.contains("ql-align")&&(null==t.querySelector("option")&&Af(t,Sf),"object"===sf(e.align)))return new of(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&Af(t,Of,"background"===n?"#ffffff":"#000000"),new Zs(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?Af(t,Ef):t.classList.contains("ql-header")?Af(t,xf):t.classList.contains("ql-size")&&Af(t,_f)),new zs(t)}));this.quill.on(He.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(t){t.update()}))}))}}])}(Qn);Cf.DEFAULTS=Object(o.a)({},Qn.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",(function(){var n=t.quill.getSelection(!0);t.quill.uploader.upload(n,e.files),e.value=""})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var jf=function(t){function e(t,n){var r;return ff(this,e),(r=yf(this,e,[t,n])).textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return gf(e,t),hf(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){"Enter"===e.key?(t.save(),e.preventDefault()):"Escape"===e.key&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide(),this.restoreFocus()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=this.textbox){null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");var n=this.quill.getBounds(this.quill.selection.savedRange);null!=n&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-".concat(t))||""),this.root.setAttribute("data-mode",t)}}},{key:"restoreFocus",value:function(){this.quill.focus({preventScroll:!0})}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,He.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,He.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=function(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e)return"".concat(e[1]||"https","://www.youtube.com/embed/").concat(e[2],"?showinfo=0");if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return"".concat(e[1]||"https","://player.vimeo.com/video/").concat(e[2],"/");return t}(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,He.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",He.sources.USER),this.quill.setSelection(r+2,He.sources.USER)}}this.textbox.value="",this.hide()}}])}(cf);function Af(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(e)),t.appendChild(r)}))}function Tf(t){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bf(r.key),r)}}function Rf(t,e,n){return e&&Pf(t.prototype,e),n&&Pf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nf(t,e,n){return e=Df(e),function(t,e){if(e&&("object"==Tf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Df(t).constructor):e.apply(t,n))}function If(t,e,n,r){var o=Mf(Df(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Mf(){return(Mf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Lf(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Lf(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Df(t)););return t}function Df(t){return(Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zf(t,e)}function zf(t,e){return(zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bf(t){var e=function(t,e){if("object"!=Tf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tf(e)?e:e+""}var Ff=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],Hf=function(t){function e(t,n){var r;return kf(this,e),(r=Nf(this,e,[t,n])).quill.on(He.events.EDITOR_CHANGE,(function(t,e,n,o){if(t===He.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===He.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width="".concat(r.root.offsetWidth,"px");var i=r.quill.getLines(e.index,e.length);if(1===i.length){var a=r.quill.getBounds(e);null!=a&&r.position(a)}else{var l=i[i.length-1],u=r.quill.getIndex(l),c=Math.min(l.length()-1,e.index+e.length-u),s=r.quill.getBounds(new Je(u,c));null!=s&&r.position(s)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return qf(e,t),Rf(e,[{key:"listen",value:function(){var t=this;If(e,"listen",this,3)([]),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(He.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();if(null!=e){var n=t.quill.getBounds(e);null!=n&&t.position(n)}}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=If(e,"position",this,3)([t]),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",0!==n&&(r.style.marginLeft="".concat(-1*n-r.offsetWidth/2,"px")),n}}])}(jf);!function(t,e,n){(e=Bf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Hf,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));var Uf=function(t){function e(t,n){var r;return kf(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=Ff),(r=Nf(this,e,[t,n])).quill.container.classList.add("ql-bubble"),r}return qf(e,t),Rf(e,[{key:"extendToolbar",value:function(t){this.tooltip=new Hf(this.quill,this.options.bounds),null!=t.container&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Ns),this.buildPickers(t.container.querySelectorAll("select"),Ns))}}])}(Cf);Uf.DEFAULTS=Object(o.a)({},Cf.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,gr.sources.USER)}}}}});n(1484);function Gf(t){return(Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vf(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,od(r.key),r)}}function Zf(t,e,n){return e&&$f(t.prototype,e),n&&$f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yf(t,e,n){return e=td(e),function(t,e){if(e&&("object"==Gf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],td(t).constructor):e.apply(t,n))}function Xf(t,e,n,r){var o=Qf(td(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Qf(){return(Qf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Jf(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function Jf(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=td(t)););return t}function td(t){return(td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ed(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nd(t,e)}function nd(t,e){return(nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rd(t,e,n){return(e=od(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function od(t){var e=function(t,e){if("object"!=Gf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gf(e)?e:e+""}var id=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],ad=function(t){function e(){var t;Kf(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rd(t=Yf(this,e,[].concat(r)),"preview",t.root.querySelector("a.ql-preview")),t}return ed(e,t),Zf(e,[{key:"listen",value:function(){var t=this;Xf(e,"listen",this,3)([]),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,He.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(He.events.SELECTION_CHANGE,(function(e,n,r){if(null!=e){if(0===e.length&&r===He.sources.USER){var o=Wf(t.quill.scroll.descendant(ru,e.index),2),i=o[0],a=o[1];if(null!=i){t.linkRange=new Je(e.index-a,i.length());var l=ru.formats(i.domNode);t.preview.textContent=l,t.preview.setAttribute("href",l),t.show();var u=t.quill.getBounds(t.linkRange);return void(null!=u&&t.position(u))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){Xf(e,"show",this,3)([]),this.root.removeAttribute("data-mode")}}])}(jf);rd(ad,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));var ld=function(t){function e(t,n){var r;return Kf(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=id),(r=Yf(this,e,[t,n])).quill.container.classList.add("ql-snow"),r}return ed(e,t),Zf(e,[{key:"extendToolbar",value:function(t){null!=t.container&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Ns),this.buildPickers(t.container.querySelectorAll("select"),Ns),this.tooltip=new ad(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(function(e,n){t.handlers.link.call(t,!n.format.link)})))}}])}(Cf);ld.DEFAULTS=Object(o.a)({},Cf.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0===e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:".concat(n)),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1,gr.sources.USER)}}}}});var ud=ld;Pa.register({"attributors/attribute/direction":Ro,"attributors/class/align":to,"attributors/class/background":yo,"attributors/class/color":ho,"attributors/class/direction":No,"attributors/class/font":Wo,"attributors/class/size":Ko,"attributors/style/align":eo,"attributors/style/background":mo,"attributors/style/color":po,"attributors/style/direction":Io,"attributors/style/font":Vo,"attributors/style/size":$o},!0),Pa.register({"formats/align":to,"formats/direction":No,"formats/indent":Ha,"formats/background":mo,"formats/color":po,"formats/font":Wo,"formats/size":Ko,"formats/blockquote":Qa,"formats/code-block":To,"formats/header":ul,"formats/list":Ol,"formats/bold":Ml,"formats/code":ko,"formats/italic":Wl,"formats/link":ru,"formats/script":mu,"formats/strike":Cu,"formats/underline":Lu,"formats/formula":$u,"formats/image":uc,"formats/video":Oc,"modules/syntax":Uc,"modules/table":gs,"modules/toolbar":ks,"themes/bubble":Uf,"themes/snow":ud,"ui/icons":Ns,"ui/picker":zs,"ui/icon-picker":of,"ui/color-picker":Zs,"ui/tooltip":cf},!0);e.a=Pa},1458:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),l=n(44),u=(n(1513),{img:a.a.string,label:a.a.oneOfType([a.a.string,a.a.number]),dataElement:a.a.string,onClick:a.a.func,ariaLabel:a.a.string,ariaControls:a.a.string,role:a.a.string,disabled:a.a.bool}),c=function(t){var e=t.img,n=t.dataElement,r=t.onClick,i=t.label,a=t.ariaLabel,u=t.ariaControls,c=t.role,s=t.disabled;return o.a.createElement(l.a,{className:"TextButton",img:e,label:i,dataElement:n,onClick:r,ariaLabel:a,ariaControls:u,role:c,disabled:s})};c.propTypes=u;var s=o.a.memo(c);e.a=s},1467:function(t,e,n){n(1542)},1470:function(t,e,n){"use strict";n(27),n(8),n(232),n(268),n(389),n(30);e.a=function(t,e){var n={},r=t.getContents().ops,o=0;r.forEach((function(t){var e,r=t.attributes,i=null===(e=t.insert)||void 0===e?void 0:e.mention,a=t.insert;if(i){var l=t.insert.mention;a=l.denotationChar+l.value}var u={};(null==r?void 0:r.bold)&&(u["font-weight"]="bold"),(null==r?void 0:r.italic)&&(u["font-style"]="italic"),(null==r?void 0:r.color)&&(u.color=r.color),(null==r?void 0:r.underline)&&(u["text-decoration"]="word"),(null==r?void 0:r.strike)&&(u["text-decoration"]?u["text-decoration"]="".concat(u["text-decoration"]," line-through"):u["text-decoration"]="line-through"),(null==r?void 0:r.size)&&(u["font-size"]=r.size),(null==r?void 0:r.font)&&(u["font-family"]=r.font),n[o]=u,o+=a.length})),e.setRichTextStyle(n)}},1473:function(t,e,n){"use strict";n(9),n(10),n(14),n(31),n(36),n(27),n(21),n(20),n(12),n(22),n(32),n(18),n(16),n(29),n(47),n(23),n(46),n(48),n(37),n(8),n(17),n(19),n(11),n(111),n(136),n(30),n(13),n(94);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),l=n(6),u=n(130),c=n.n(u),s=n(1448),f=n(3),d=(n(38),n(26),n(40),n(41),n(42),n(54),n(1485)),h=n(1560),p=n(382),y=n(44),m=n(307),v=n(5),b=n(24);n(83),n(43);var g=function(t){if(!t)return t;var e=t.split("\n");return e.length>1?e.map((function(t){return"<p>".concat(t||"<br>","</p>")})).join(""):t};n(77),n(87);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return(e=C(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function _(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e,n){return e=T(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],T(t).constructor):e.apply(t,n))}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}function P(t,e){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var R=d.a.import("modules/clipboard"),N=window.Core.quillShadowDOMWorkaround,I=function(t){function e(t,n){return j(this,e),N(t),A(this,e,[t,n])}return k(e,t),_(e)}(R),M=d.a.import("modules/keyboard"),L=function(t){function e(){return j(this,e),A(this,e,arguments)}return k(e,t),_(e)}(M);E(L,"DEFAULTS",O(O({},M.DEFAULTS),{},{bindings:O(O({},M.DEFAULTS.bindings),{},{"list autofill":void 0})}));var D=function(){return _((function t(e){var n,r=this;j(this,t),E(this,"handleKeyDown",(function(t){"Escape"===t.key?r.blurQuill():"Tab"===t.key&&r.shouldSkipInput&&(t.preventDefault(),r.moveFocus(t.shiftKey))})),this.quill=e,this.noteContainer=e.root.closest(".Note"),this.shouldSkipInput=!1,null===(n=this.noteContainer)||void 0===n||n.addEventListener("keydown",this.handleKeyDown.bind(this))}),[{key:"blurQuill",value:function(){this.shouldSkipInput=!0,this.quill.blur(),this.quill.container.tabIndex=0,this.quill.container.focus()}},{key:"moveFocus",value:function(t){var e,n=Array.from(this.noteContainer.querySelectorAll(".ql-container.ql-snow, button.modular-ui")),r=n.indexOf(this.quill.container);-1!==r&&(null===(e=n[t?r-1:r+1])||void 0===e||e.focus());this.shouldSkipInput=!1,this.quill.container.tabIndex=-1}}])}();n(1545),n(1546);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function F(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==q(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return U(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,l=0,u=t,d.n=n,a}};function h(n,r){for(l=n,u=r,e=0;!f&&c&&!o&&e<s.length;e++){var o,i=s[e],h=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,p),l=s,u=p;(e=l<2?t:u)||!f;){i||(l?l<3?(l>1&&(d.n=-1),h(l,u)):d.n=u:d.v=u);try{if(c=2,i){if(l||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,l=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(U(e={},r,(function(){return this})),e),f=c.prototype=l.prototype=Object.create(s);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,U(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,U(f,"constructor",c),U(c,"constructor",u),u.displayName="GeneratorFunction",U(c,o,"GeneratorFunction"),U(f),U(f,o,"Generator"),U(f,r,(function(){return this})),U(f,"toString",(function(){return"[object Generator]"})),(H=function(){return{w:i,m:d}})()}function U(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(U=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){U(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}})(t,e,n,r)}function G(t,e,n,r,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(r,o)}var W=[],V=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula","mention"];d.a.register("modules/keyboard",L,!0),d.a.register("modules/clipboard",I,!0),d.a.register("modules/blurInput",D),d.a.register({"modules/mention":h.a,"blots/mention":h.b});var K={mention:{allowedChars:/^[A-Za-z\s0-9\-_]*$/,mentionDenotationChars:["@","#"],mentionContainerClass:"mention__element",mentionListClass:"mention__suggestions__list",listItemClass:"mention__suggestions__item",renderItem:function(t){var e=document.createElement("div");if(e.innerText=t.value,t.email){var n=document.createElement("p");n.innerText=t.email,n.className="email",e.appendChild(n)}return e},source:function(t,e){return(n=H().m((function n(){var r,o;return H().w((function(n){for(;;)switch(n.n){case 0:return r=p.a.getMentionLookupCallback(),n.n=1,r(W,t);case 1:o=n.v,e(o,t);case 2:return n.a(2)}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){G(i,r,o,a,l,"next",t)}function l(t){G(i,r,o,a,l,"throw",t)}a(void 0)}))})();var n}}},$=o.a.forwardRef((function(t,e){var n=t.value,r=void 0===n?"":n,i=t.onChange,a=t.onKeyDown,u=t.onBlur,c=t.onFocus,s=t.userData,h=t.isReply,p=Object(m.a)(),w=p.t,S=p.i18n,O=S.resolvedLanguage||S.language,E=Object(l.e)((function(t){return f.a.isElementDisabled(t,v.a.NotesPanel.ADD_REPLY_ATTACHMENT_BUTTON)}));W=s;r=g(r);var x={blurInput:{}};return o.a.createElement("div",{className:"comment-textarea",onBlur:u,onFocus:c,onClick:function(t){t.preventDefault(),t.stopPropagation()},onScroll:function(t){t.preventDefault(),t.stopPropagation()}},o.a.createElement(d.b,{key:O,className:"comment-textarea ql-container ql-editor",style:{overflowY:"visible"},ref:function(t){return t&&(t.getEditor().root.ariaLabel="".concat(w(h?"action.reply":"action.comment"))),e(t)},modules:s&&s.length>0?B(B({},x),K):x,theme:"snow",value:r,placeholder:"".concat(w(h?"action.reply":"action.comment"),"..."),onChange:i,onKeyDown:a,formats:V}),h&&!E&&o.a.createElement(y.a,{className:"add-attachment",dataElement:v.a.NotesPanel.ADD_REPLY_ATTACHMENT_BUTTON,img:"ic_fileattachment_24px",title:"".concat(w("action.add")," ").concat(w("option.type.fileattachment")),onClick:function(){var t;null===(t=Object(b.a)().querySelector("#reply-attachment-picker"))||void 0===t||t.click()}}))}));$.displayName="CommentTextarea";var Z=$;function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Y(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return et(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var nt={value:a.a.string,placeholder:a.a.string,onChange:a.a.func.isRequired,onBlur:a.a.func,onFocus:a.a.func,onSubmit:a.a.func},rt=o.a.forwardRef((function(t,e){var n=tt(Object(l.e)((function(t){return[f.a.getUserData(t),f.a.isNoteSubmissionWithEnterEnabled(t),f.a.getAutoFocusNoteOnAnnotationSelection(t),f.a.getIsNoteEditing(t)]}),l.c),2),i=n[0],a=n[1],u=Object(r.useContext)(s.a).resize,d=Object(r.useRef)(),h=Object(r.useRef)();Object(r.useLayoutEffect)((function(){var t,e,n=null===(t=d.current)||void 0===t||null===(e=t.editor)||void 0===e?void 0:e.container.firstElementChild,r=(null==n?void 0:n.getBoundingClientRect())||{};h.current&&h.current!==r.height&&u(),h.current=r.height}),[t.value,u]);var y=Q(Q({},t),{},{ref:function(t){d.current=t,e(t)},onChange:c()((function(e,n,r,o){if(e=e.replace(/&nbsp;/g," "),d.current){var i="";if(o&&""===o.getText().trim()&&"<p><br></p>"===e||(i=e.target?e.target.value:e),t.onChange(i),p.a.doesDeltaContainMention(n.ops)){var a,l=p.a.getFormattedTextFromDeltas(n.ops),u=p.a.extractMentionDataFromStr(l),c=o.getText().length+u.plainTextValue.length,s=null===(a=d.current)||void 0===a?void 0:a.editor;setTimeout((function(){return null==s?void 0:s.setSelection(c,c)}),1)}}}),100),onKeyDown:function(e){if(13===e.which){var n=a,r=e.metaKey||e.ctrlKey;(n||r)&&t.onSubmit(e)}},userData:i});return o.a.createElement(o.a.Fragment,null,o.a.createElement(Z,y))}));rt.displayName="NoteTextarea",rt.propTypes=nt;var ot=rt;e.a=ot},1478:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return i}));var r,o=!("undefined"==typeof window||!window.document||!window.document.createElement);function i(t){if((!r&&0!==r||t)&&o){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return r}},1480:function(t,e,n){n(58)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},1482:function(t,e,n){"use strict";n(83),n(136);e.a=function(t,e){return[t,e.isOpen?"open":"closed"].join(" ").trim()}},1484:function(t,e,n){"use strict";var r=n(58),o=n(416);r({target:"String",proto:!0,forced:n(417)("link")},{link:function(t){return o(this,"a","href",t)}})},1485:function(t,e,n){"use strict";n(9),n(10),n(14),n(31),n(38),n(36),n(27),n(21),n(20),n(12),n(22),n(95),n(32),n(18),n(26),n(16),n(29),n(40),n(47),n(23),n(46),n(48),n(41),n(37),n(42),n(8),n(54),n(87),n(17),n(19),n(11),n(30),n(13);var r=n(0),o=n.n(r),i=n(1674),a=n(1457);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}function y(t,e,n){return e=m(e),function(t,e){if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],m(t).constructor):e.apply(t,n))}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return a.a}));var b=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=y(this,e,[t])).editingAreaRef=Object(r.createRef)(),n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(t,e,r,o){var i,a;if("text-change"===t)null===(i=(a=n).onEditorChangeText)||void 0===i||i.call(a,n.editor.root.innerHTML,e,o,n.unprivilegedEditor);else if("selection-change"===t){var l,u;null===(l=(u=n).onEditorChangeSelection)||void 0===l||l.call(u,e,o,n.unprivilegedEditor)}};var o=n.isControlled()?t.value:t.defaultValue;return n.value=null!=o?o:"",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),function(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"validateProps",value:function(t){if(o.a.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.a.Children.count(t.children)){var e=o.a.Children.only(t.children);if("textarea"===(null==e?void 0:e.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}},{key:"shouldComponentUpdate",value:function(t,e){var n=this;if(this.validateProps(t),!this.editor||this.state.generation!==e.generation)return!0;if("value"in t){var r,o=this.getEditorContents(),a=null!==(r=t.value)&&void 0!==r?r:"";this.isEqualValue(a,o)||this.setEditorContents(this.editor,a)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[].concat(f(this.cleanProps),f(this.dirtyProps)).some((function(e){return!Object(i.a)(t[e],n.props[e])}))}},{key:"shouldComponentRegenerate",value:function(t){var e=this;return this.dirtyProps.some((function(n){return!Object(i.a)(t[n],e.props[n])}))}},{key:"componentDidMount",value:function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}},{key:"componentWillUnmount",value:function(){this.destroyEditor()}},{key:"componentDidUpdate",value:function(t,e){var n=this;if(this.editor&&this.shouldComponentRegenerate(t)){var r=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==e.generation){var i=this.regenerationSnapshot,a=i.delta,l=i.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),g((function(){return n.setEditorSelection(u,l)}))}}},{key:"instantiateEditor",value:function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}},{key:"destroyEditor",value:function(){var t;if(this.editor){this.unhookEditor(this.editor);var e=null===(t=this.props.modules)||void 0===t?void 0:t.toolbar;if(!("object"===s(e)&&e&&"container"in e&&"string"==typeof e.container||"string"==typeof e)){var n=document.querySelector(".ql-toolbar");n&&n.remove()}delete this.editor}}},{key:"isControlled",value:function(){return"value"in this.props}},{key:"getEditorConfig",value:function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}},{key:"getEditor",value:function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}},{key:"createEditor",value:function(t,e){var n=new a.a(t,e);return null!=e.tabIndex&&this.setEditorTabIndex(n,e.tabIndex),this.hookEditor(n),n}},{key:"hookEditor",value:function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}},{key:"unhookEditor",value:function(t){t.off("editor-change",this.onEditorChange)}},{key:"getEditorContents",value:function(){return this.value}},{key:"getEditorSelection",value:function(){return this.selection}},{key:"isDelta",value:function(t){return t&&t.ops}},{key:"isEqualValue",value:function(t,e){return this.isDelta(t)&&this.isDelta(e)?Object(i.a)(t.ops,e.ops):Object(i.a)(t,e)}},{key:"setEditorContents",value:function(t,e){var n=this;this.value=e;var r=this.getEditorSelection();"string"==typeof e?t.setContents(t.clipboard.convert({html:e})):t.setContents(e),g((function(){return n.setEditorSelection(t,r)}))}},{key:"setEditorSelection",value:function(t,e){if(this.selection=e,e){var n=t.getLength();e.index=Math.max(0,Math.min(e.index,n-1)),e.length=Math.max(0,Math.min(e.length,n-1-e.index)),t.setSelection(e)}}},{key:"setEditorTabIndex",value:function(t,e){var n;null!=t&&null!==(n=t.scroll)&&void 0!==n&&n.domNode&&(t.scroll.domNode.tabIndex=e)}},{key:"setEditorReadOnly",value:function(t,e){e?t.disable():t.enable()}},{key:"makeUnprivilegedEditor",value:function(t){var e=t;return{getHTML:function(){return e.root.innerHTML},getSemanticHTML:e.getSemanticHTML.bind(e),getLength:e.getLength.bind(e),getText:e.getText.bind(e),getContents:e.getContents.bind(e),getSelection:e.getSelection.bind(e),getBounds:e.getBounds.bind(e)}}},{key:"getEditingArea",value:function(){var t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(3===t.nodeType)throw new Error("Editing area cannot be a text node");return t}},{key:"renderEditingArea",value:function(){var t=this.props,e=t.children,n=t.preserveWhitespace,r={key:this.state.generation,ref:this.editingAreaRef};return o.a.Children.count(e)?o.a.cloneElement(o.a.Children.only(e),r):n?o.a.createElement("pre",u({},r)):o.a.createElement("div",u({},r))}},{key:"render",value:function(){var t;return o.a.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill ".concat(null!==(t=this.props.className)&&void 0!==t?t:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}},{key:"onEditorChangeText",value:function(t,e,n,r){if(this.editor){var o,i,a=this.isDelta(this.value)?r.getContents():r.getHTML();if(a!==this.getEditorContents())this.lastDeltaChangeSet=e,this.value=a,null===(o=(i=this.props).onChange)||void 0===o||o.call(i,t,e,n,r)}}},{key:"onEditorChangeSelection",value:function(t,e,n){var r,o;if(this.editor){var a,l,u=this.getEditorSelection(),c=!u&&t,s=u&&!t;if(!Object(i.a)(t,u))if(this.selection=t,null===(r=(o=this.props).onChangeSelection)||void 0===r||r.call(o,t,e,n),c)null===(a=(l=this.props).onFocus)||void 0===a||a.call(l,t,e,n);else if(s){var f,d;null===(f=(d=this.props).onBlur)||void 0===f||f.call(d,u,e,n)}}}},{key:"focus",value:function(){this.editor&&this.editor.focus()}},{key:"blur",value:function(){this.editor&&(this.selection=null,this.editor.blur())}}])}(o.a.Component);function g(t){Promise.resolve().then(t)}b.displayName="React Quill",b.Quill=a.a,b.defaultProps={theme:"snow",modules:{},readOnly:!1},e.b=b},1486:function(t,e,n){(function(t,n){var r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a="[object Map]",l="[object Set]",u=/\w*$/,c=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,f={};f[r]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object DataView]"]=f["[object Boolean]"]=f["[object Date]"]=f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f[a]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f[l]=f["[object String]"]=f["[object Symbol]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Error]"]=f[o]=f["[object WeakMap]"]=!1;var d="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),y=e&&!e.nodeType&&e,m=y&&"object"==typeof n&&n&&!n.nodeType&&n,v=m&&m.exports===y;function b(t,e){return t.set(e[0],e[1]),t}function g(t,e){return t.add(e),t}function w(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function S(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function O(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function E(t,e){return function(n){return t(e(n))}}function x(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var _,C=Array.prototype,j=Function.prototype,A=Object.prototype,T=p["__core-js_shared__"],k=(_=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",P=j.toString,R=A.hasOwnProperty,N=A.toString,I=RegExp("^"+P.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=v?p.Buffer:void 0,L=p.Symbol,D=p.Uint8Array,q=E(Object.getPrototypeOf,Object),z=Object.create,B=A.propertyIsEnumerable,F=C.splice,H=Object.getOwnPropertySymbols,U=M?M.isBuffer:void 0,G=E(Object.keys,Object),W=mt(p,"DataView"),V=mt(p,"Map"),K=mt(p,"Promise"),$=mt(p,"Set"),Z=mt(p,"WeakMap"),Y=mt(Object,"create"),X=St(W),Q=St(V),J=St(K),tt=St($),et=St(Z),nt=L?L.prototype:void 0,rt=nt?nt.valueOf:void 0;function ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function it(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function at(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function lt(t){this.__data__=new it(t)}function ut(t,e){var n=Et(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&xt(t)}(t)&&R.call(t,"callee")&&(!B.call(t,"callee")||N.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var a in t)!e&&!R.call(t,a)||i&&("length"==a||gt(a,o))||n.push(a);return n}function ct(t,e,n){var r=t[e];R.call(t,e)&&Ot(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function st(t,e){for(var n=t.length;n--;)if(Ot(t[n][0],e))return n;return-1}function ft(t,e,n,c,s,d,h){var p;if(c&&(p=d?c(t,s,d,h):c(t)),void 0!==p)return p;if(!jt(t))return t;var y=Et(t);if(y){if(p=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&R.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,p)}else{var m=bt(t),v=m==o||m==i;if(_t(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if("[object Object]"==m||m==r||v&&!d){if(S(t))return d?t:{};if(p=function(t){return"function"!=typeof t.constructor||wt(t)?{}:(e=q(t),jt(e)?z(e):{});var e}(v?{}:t),!e)return function(t,e){return pt(t,vt(t),e)}(t,function(t,e){return t&&pt(e,At(e),t)}(p,t))}else{if(!f[m])return d?t:{};p=function(t,e,n,r){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return ht(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var n=e?ht(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?ht(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case a:return function(t,e,n){return w(e?n(O(t),!0):O(t),b,new t.constructor)}(t,r,n);case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,u.exec(t));return e.lastIndex=t.lastIndex,e}(t);case l:return function(t,e,n){return w(e?n(x(t),!0):x(t),g,new t.constructor)}(t,r,n);case"[object Symbol]":return i=t,rt?Object(rt.call(i)):{}}var i}(t,m,ft,e)}}h||(h=new lt);var E=h.get(t);if(E)return E;if(h.set(t,p),!y)var _=n?function(t){return function(t,e,n){var r=e(t);return Et(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,At,vt)}(t):At(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(_||t,(function(r,o){_&&(r=t[o=r]),ct(p,o,ft(r,e,n,c,o,t,h))})),p}function dt(t){return!(!jt(t)||(e=t,k&&k in e))&&(Ct(t)||S(t)?I:c).test(St(t));var e}function ht(t){var e=new t.constructor(t.byteLength);return new D(e).set(new D(t)),e}function pt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;ct(n,a,void 0===l?t[a]:l)}return n}function yt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return dt(n)?n:void 0}ot.prototype.clear=function(){this.__data__=Y?Y(null):{}},ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ot.prototype.get=function(t){var e=this.__data__;if(Y){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return R.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return Y?void 0!==e[t]:R.call(e,t)},ot.prototype.set=function(t,e){return this.__data__[t]=Y&&void 0===e?"__lodash_hash_undefined__":e,this},it.prototype.clear=function(){this.__data__=[]},it.prototype.delete=function(t){var e=this.__data__,n=st(e,t);return!(n<0)&&(n==e.length-1?e.pop():F.call(e,n,1),!0)},it.prototype.get=function(t){var e=this.__data__,n=st(e,t);return n<0?void 0:e[n][1]},it.prototype.has=function(t){return st(this.__data__,t)>-1},it.prototype.set=function(t,e){var n=this.__data__,r=st(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},at.prototype.clear=function(){this.__data__={hash:new ot,map:new(V||it),string:new ot}},at.prototype.delete=function(t){return yt(this,t).delete(t)},at.prototype.get=function(t){return yt(this,t).get(t)},at.prototype.has=function(t){return yt(this,t).has(t)},at.prototype.set=function(t,e){return yt(this,t).set(t,e),this},lt.prototype.clear=function(){this.__data__=new it},lt.prototype.delete=function(t){return this.__data__.delete(t)},lt.prototype.get=function(t){return this.__data__.get(t)},lt.prototype.has=function(t){return this.__data__.has(t)},lt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof it){var r=n.__data__;if(!V||r.length<199)return r.push([t,e]),this;n=this.__data__=new at(r)}return n.set(t,e),this};var vt=H?E(H,Object):function(){return[]},bt=function(t){return N.call(t)};function gt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||s.test(t))&&t>-1&&t%1==0&&t<e}function wt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||A)}function St(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ot(t,e){return t===e||t!=t&&e!=e}(W&&"[object DataView]"!=bt(new W(new ArrayBuffer(1)))||V&&bt(new V)!=a||K&&"[object Promise]"!=bt(K.resolve())||$&&bt(new $)!=l||Z&&"[object WeakMap]"!=bt(new Z))&&(bt=function(t){var e=N.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?St(n):void 0;if(r)switch(r){case X:return"[object DataView]";case Q:return a;case J:return"[object Promise]";case tt:return l;case et:return"[object WeakMap]"}return e});var Et=Array.isArray;function xt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Ct(t)}var _t=U||function(){return!1};function Ct(t){var e=jt(t)?N.call(t):"";return e==o||e==i}function jt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function At(t){return xt(t)?ut(t):function(t){if(!wt(t))return G(t);var e=[];for(var n in Object(t))R.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return ft(t,!0,!0)}}).call(this,n(124),n(627)(t))},1487:function(t,e,n){(function(t,n){var r="[object Arguments]",o="[object Map]",i="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var s="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=s||f||Function("return this")(),h=e&&!e.nodeType&&e,p=h&&"object"==typeof n&&n&&!n.nodeType&&n,y=p&&p.exports===h,m=y&&s.process,v=function(){try{return m&&m.binding&&m.binding("util")}catch(t){}}(),b=v&&v.isTypedArray;function g(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function w(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function S(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var O,E,x,_=Array.prototype,C=Function.prototype,j=Object.prototype,A=d["__core-js_shared__"],T=C.toString,k=j.hasOwnProperty,P=(O=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",R=j.toString,N=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=y?d.Buffer:void 0,M=d.Symbol,L=d.Uint8Array,D=j.propertyIsEnumerable,q=_.splice,z=M?M.toStringTag:void 0,B=Object.getOwnPropertySymbols,F=I?I.isBuffer:void 0,H=(E=Object.keys,x=Object,function(t){return E(x(t))}),U=vt(d,"DataView"),G=vt(d,"Map"),W=vt(d,"Promise"),V=vt(d,"Set"),K=vt(d,"WeakMap"),$=vt(Object,"create"),Z=St(U),Y=St(G),X=St(W),Q=St(V),J=St(K),tt=M?M.prototype:void 0,et=tt?tt.valueOf:void 0;function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function it(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ot;++e<n;)this.add(t[e])}function at(t){var e=this.__data__=new rt(t);this.size=e.size}function lt(t,e){var n=xt(t),r=!n&&Et(t),o=!n&&!r&&_t(t),i=!n&&!r&&!o&&kt(t),a=n||r||o||i,l=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=l.length;for(var c in t)!e&&!k.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wt(c,u))||l.push(c);return l}function ut(t,e){for(var n=t.length;n--;)if(Ot(t[n][0],e))return n;return-1}function ct(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":z&&z in Object(t)?function(t){var e=k.call(t,z),n=t[z];try{t[z]=void 0;var r=!0}catch(t){}var o=R.call(t);r&&(e?t[z]=n:delete t[z]);return o}(t):function(t){return R.call(t)}(t)}function st(t){return Tt(t)&&ct(t)==r}function ft(t,e,n,l,u){return t===e||(null==t||null==e||!Tt(t)&&!Tt(e)?t!=t&&e!=e:function(t,e,n,l,u,c){var s=xt(t),f=xt(e),d=s?"[object Array]":gt(t),h=f?"[object Array]":gt(e),p=(d=d==r?i:d)==i,y=(h=h==r?i:h)==i,m=d==h;if(m&&_t(t)){if(!_t(e))return!1;s=!0,p=!1}if(m&&!p)return c||(c=new at),s||kt(t)?pt(t,e,n,l,u,c):function(t,e,n,r,i,l,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!l(new L(t),new L(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ot(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case o:var c=w;case a:var s=1&r;if(c||(c=S),t.size!=e.size&&!s)return!1;var f=u.get(t);if(f)return f==e;r|=2,u.set(t,e);var d=pt(c(t),c(e),r,i,l,u);return u.delete(t),d;case"[object Symbol]":if(et)return et.call(t)==et.call(e)}return!1}(t,e,d,n,l,u,c);if(!(1&n)){var v=p&&k.call(t,"__wrapped__"),b=y&&k.call(e,"__wrapped__");if(v||b){var g=v?t.value():t,O=b?e.value():e;return c||(c=new at),u(g,O,n,l,c)}}if(!m)return!1;return c||(c=new at),function(t,e,n,r,o,i){var a=1&n,l=yt(t),u=l.length,c=yt(e).length;if(u!=c&&!a)return!1;var s=u;for(;s--;){var f=l[s];if(!(a?f in e:k.call(e,f)))return!1}var d=i.get(t);if(d&&i.get(e))return d==e;var h=!0;i.set(t,e),i.set(e,t);var p=a;for(;++s<u;){f=l[s];var y=t[f],m=e[f];if(r)var v=a?r(m,y,f,e,t,i):r(y,m,f,t,e,i);if(!(void 0===v?y===m||o(y,m,n,r,i):v)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var b=t.constructor,g=e.constructor;b==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,n,l,u,c)}(t,e,n,l,ft,u))}function dt(t){return!(!At(t)||function(t){return!!P&&P in t}(t))&&(Ct(t)?N:l).test(St(t))}function ht(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||j,e!==r)return H(t);var e,n,r,o=[];for(var i in Object(t))k.call(t,i)&&"constructor"!=i&&o.push(i);return o}function pt(t,e,n,r,o,i){var a=1&n,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var s=-1,f=!0,d=2&n?new it:void 0;for(i.set(t,e),i.set(e,t);++s<l;){var h=t[s],p=e[s];if(r)var y=a?r(p,h,s,e,t,i):r(h,p,s,t,e,i);if(void 0!==y){if(y)continue;f=!1;break}if(d){if(!g(e,(function(t,e){if(a=e,!d.has(a)&&(h===t||o(h,t,n,r,i)))return d.push(e);var a}))){f=!1;break}}else if(h!==p&&!o(h,p,n,r,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function yt(t){return function(t,e,n){var r=e(t);return xt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Pt,bt)}function mt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function vt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return dt(n)?n:void 0}nt.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},nt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},nt.prototype.get=function(t){var e=this.__data__;if($){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return k.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return $?void 0!==e[t]:k.call(e,t)},nt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$&&void 0===e?"__lodash_hash_undefined__":e,this},rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,n=ut(e,t);return!(n<0)&&(n==e.length-1?e.pop():q.call(e,n,1),--this.size,!0)},rt.prototype.get=function(t){var e=this.__data__,n=ut(e,t);return n<0?void 0:e[n][1]},rt.prototype.has=function(t){return ut(this.__data__,t)>-1},rt.prototype.set=function(t,e){var n=this.__data__,r=ut(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},ot.prototype.clear=function(){this.size=0,this.__data__={hash:new nt,map:new(G||rt),string:new nt}},ot.prototype.delete=function(t){var e=mt(this,t).delete(t);return this.size-=e?1:0,e},ot.prototype.get=function(t){return mt(this,t).get(t)},ot.prototype.has=function(t){return mt(this,t).has(t)},ot.prototype.set=function(t,e){var n=mt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},it.prototype.add=it.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},it.prototype.has=function(t){return this.__data__.has(t)},at.prototype.clear=function(){this.__data__=new rt,this.size=0},at.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},at.prototype.get=function(t){return this.__data__.get(t)},at.prototype.has=function(t){return this.__data__.has(t)},at.prototype.set=function(t,e){var n=this.__data__;if(n instanceof rt){var r=n.__data__;if(!G||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ot(r)}return n.set(t,e),this.size=n.size,this};var bt=B?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(B(t),(function(e){return D.call(t,e)})))}:function(){return[]},gt=ct;function wt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||u.test(t))&&t>-1&&t%1==0&&t<e}function St(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ot(t,e){return t===e||t!=t&&e!=e}(U&&"[object DataView]"!=gt(new U(new ArrayBuffer(1)))||G&&gt(new G)!=o||W&&"[object Promise]"!=gt(W.resolve())||V&&gt(new V)!=a||K&&"[object WeakMap]"!=gt(new K))&&(gt=function(t){var e=ct(t),n=e==i?t.constructor:void 0,r=n?St(n):"";if(r)switch(r){case Z:return"[object DataView]";case Y:return o;case X:return"[object Promise]";case Q:return a;case J:return"[object WeakMap]"}return e});var Et=st(function(){return arguments}())?st:function(t){return Tt(t)&&k.call(t,"callee")&&!D.call(t,"callee")},xt=Array.isArray;var _t=F||function(){return!1};function Ct(t){if(!At(t))return!1;var e=ct(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function jt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function At(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Tt(t){return null!=t&&"object"==typeof t}var kt=b?function(t){return function(e){return t(e)}}(b):function(t){return Tt(t)&&jt(t.length)&&!!c[ct(t)]};function Pt(t){return null!=(e=t)&&jt(e.length)&&!Ct(e)?lt(t):ht(t);var e}n.exports=function(t,e){return ft(t,e)}}).call(this,n(124),n(627)(t))},1488:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"object"==typeof t.retain&&null!==t.retain?1:"string"==typeof t.insert?t.insert.length:1}}(r||(r={})),e.default=r},1489:function(t,e,n){"use strict";var r=Object.prototype.toString;e.a=function(t){return r.call(t)}},1491:function(t,e,n){"use strict";var r=n(1476),o=Object(r.a)(Object.keys,Object);e.a=o},1493:function(t,e,n){"use strict";(function(t){function r(e,n){var r,o,i,a=void 0!==(r=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:t).document&&r.document.attachEvent;if(!a){var l=(i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(t){return r.setTimeout(t,20)},function(t){return i(t)}),u=(o=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout,function(t){return o(t)}),c=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},s=function(t){if(!(t.target.className&&"function"==typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;c(this),this.__resizeRAF__&&u(this.__resizeRAF__),this.__resizeRAF__=l((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},f=!1,d="",h="animationstart",p="Webkit Moz O ms".split(" "),y="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=r.document.createElement("fakeelement");if(void 0!==m.style.animationName&&(f=!0),!1===f)for(var v=0;v<p.length;v++)if(void 0!==m.style[p[v]+"AnimationName"]){d="-"+p[v].toLowerCase()+"-",h=y[v],f=!0;break}var b="resizeanim",g="@"+d+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",w=d+"animation: 1ms "+b+"; "}return{addResizeListener:function(t,n){if(a)t.attachEvent("onresize",n);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,i=r.getComputedStyle(t);i&&"static"==i.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(g||"")+".resize-triggers { "+(w||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(t.createTextNode(n)),r.appendChild(o)}}(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var l='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var u=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return l}});t.__resizeTriggers__.innerHTML=u.createHTML("")}else t.__resizeTriggers__.innerHTML=l;t.appendChild(t.__resizeTriggers__),c(t),t.addEventListener("scroll",s,!0),h&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==b&&c(t)},t.__resizeTriggers__.addEventListener(h,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(n)}},removeResizeListener:function(t,e){if(a)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",s,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(h,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(t){}}}}}n.d(e,"a",(function(){return r}))}).call(this,n(124))},1499:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(38);var r=n(35),o=n(4);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=new window.Core.Annotations.StickyAnnotation;i.InReplyTo=t.Id,i.X=t.X,i.Y=t.Y,i.PageNumber=t.PageNumber,i.Subject="Sticky Note",i.Author=o.a.getCurrentUser(),i.State=e,i.StateModel="Marked"===e||"Unmarked"===e?"Marked":"Review",i.Hidden=!0,i.enableSkipAutoLink();var a=o.a.getDisplayAuthor(i.Author,n),l=r.a.t("option.state.".concat(e.toLowerCase())),u="".concat(l," ").concat(r.a.t("option.state.setBy")," ").concat(a);return i.setContents(u),i}},1500:function(t,e,n){"use strict";n(9),n(10),n(14),n(21),n(20),n(12),n(22),n(18),n(16),n(8),n(17),n(19),n(11),n(111),n(13);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),l=n(307),u=n(15),c=n.n(u);n(1512);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d(t){var e=t.children.replace(/\n$/,""),n=t.panelWidth,i=t.linesToBreak,a=t.renderRichText,u=t.richTextStyle,f=t.resize,d=t.style,h=t.comment,p=void 0!==h&&h,y=t.beforeContent,m=void 0===y?function(){}:y,v=s(Object(r.useState)(!1),2),b=v[0],g=v[1],w=s(Object(r.useState)(null),2),S=w[0],O=w[1],E=s(Object(r.useState)(null),2),x=E[0],_=E[1],C=s(Object(r.useState)(!1),2),j=C[0],A=C[1],T=o.a.useRef(null),k=Object(l.a)().t,P=b?e:e.substring(0,x*i),R=k(b?"action.showLess":"action.showMore"),N=c()("note-text-preview",{"preview-comment":p});return Object(r.useEffect)((function(){var t=T.current.clientWidth;O(t)}),[n]),Object(r.useLayoutEffect)((function(){var t=function(t){var e=document.createElement("canvas").getContext("2d");return e.font="13px sans-serif",e.measureText(t).width}(e),n=t/e.length,r=Math.floor(S/n);_(r),A(t/S>i)}),[e,S]),o.a.createElement("div",{className:N,ref:T,style:d,"aria-live":"polite"},m(),a&&u?a(P,u,0):P," ",j&&o.a.createElement("button",{className:"note-text-preview-prompt",onClick:function(t){t.stopPropagation(),g(!b),f&&f()}},R))}d.propTypes={panelWidth:a.a.number,linesToBreak:a.a.number,renderRichText:a.a.func,richTextStyle:a.a.any,resize:a.a.func,style:a.a.any,comment:a.a.bool,beforeContent:a.a.func},e.a=d},1501:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),l=(n(1514),n(15)),u=n.n(l),c={renderContent:a.a.func,children:a.a.node,isBoldHeader:a.a.bool},s=function(t){var e=t.renderContent?t.renderContent():t.children,n=t.isBoldHeader;return o.a.createElement("h4",{className:u()("ListSeparator",{"bold-header":n})},e)};s.propTypes=c;var f=o.a.memo(s);e.a=f},1502:function(t,e,n){"use strict";n(9),n(10),n(14),n(31),n(38),n(36),n(27),n(12),n(43),n(32),n(29),n(47),n(23),n(46),n(48),n(37),n(8),n(11),n(30),n(13);var r=n(0),o=n(6),i=n(1),a=n.n(i),l=n(5),u=n(2),c=n(3);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t,e,n){return{icon:e,label:"option.state.".concat(t.toLowerCase()),title:"option.state.".concat(t.toLowerCase()),option:t,dataElement:n}},y=[p("Accepted","icon-annotation-status-accepted","noteStateFlyoutAcceptedOption"),p("Rejected","icon-annotation-status-rejected","noteStateFlyoutRejectedOption"),p("Cancelled","icon-annotation-status-cancelled","noteStateFlyoutCancelledOption"),p("Completed","icon-annotation-status-completed","noteStateFlyoutCompletedOption"),p("None","icon-annotation-status-none","noteStateFlyoutNoneOption"),p("Marked","icon-annotation-status-marked","noteStateFlyoutMarkedOption"),p("Unmarked","icon-annotation-status-unmarked","noteStateFlyoutUnmarkedOption")],m=function(t){var e=t.noteId,n=t.handleStateChange,i=void 0===n?function(){}:n,a=t.isMultiSelectMode,s=void 0!==a&&a,f=Object(o.d)(),h=s?"":"-".concat(e),p="".concat(l.a.NOTE_STATE_FLYOUT).concat(h),m=Object(o.e)((function(t){return c.a.getFlyout(t,p)}));return Object(r.useLayoutEffect)((function(){var t={dataElement:p,className:"NoteStateFlyout",items:y.map((function(t){return d(d({},t),{},{onClick:function(){return e=t.option,void i(e);var e}})}))};f(m?u.a.updateFlyout(t.dataElement,t):u.a.addFlyout(t))}),[i]),null};m.propTypes={noteId:a.a.string,handleStateChange:a.a.func,isMultiSelectMode:a.a.bool};var v=m;e.a=v},1503:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(49),n(62);var r=function(t,e){var n=t.getDisplayModeObject().getVisiblePages().includes(e.PageNumber);return t.isContinuousDisplayMode()||!t.isContinuousDisplayMode()&&n}},1512:function(t,e,n){},1513:function(t,e,n){},1514:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1515:function(t,e,n){"use strict";n.d(e,"a",(function(){return at})),n.d(e,"b",(function(){return lt})),n.d(e,"c",(function(){return _t}));var r=n(472),o=n.n(r),i=n(473),a=n.n(i),l=n(1442),u=n.n(l),c=n(1441),s=n.n(c),f=n(1444),d=n.n(f),h=n(1440),p=n.n(h),y=n(229),m=n.n(y),v=n(0),b=n(1453),g=n(1447),w=n.n(g),S=n(625);function O(t){var e=t.cellCount,n=t.cellSize,r=t.computeMetadataCallback,o=t.computeMetadataCallbackProps,i=t.nextCellsCount,a=t.nextCellSize,l=t.nextScrollToIndex,u=t.scrollToIndex,c=t.updateScrollOffsetForScrollToIndex;e===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),u>=0&&u===l&&c())}var E=n(477),x=n.n(E),_=function(){function t(e){var n=e.cellCount,r=e.cellSizeGetter,i=e.estimatedCellSize;o()(this,t),m()(this,"_cellSizeAndPositionData",{}),m()(this,"_lastMeasuredIndex",-1),m()(this,"_lastBatchedIndex",-1),m()(this,"_cellCount",void 0),m()(this,"_cellSizeGetter",void 0),m()(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=i}return a()(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var e=t.cellCount,n=t.estimatedCellSize,r=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),n=e.offset+e.size,r=this._lastMeasuredIndex+1;r<=t;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell();return t.offset+t.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=void 0===e?"auto":e,r=t.containerSize,o=t.currentOffset,i=t.targetIndex;if(r<=0)return 0;var a,l=this.getSizeAndPositionOfCell(i),u=l.offset,c=u-r+l.size;switch(n){case"start":a=u;break;case"end":a=c;break;case"center":a=u-(r-l.size)/2;break;default:a=Math.max(c,Math.min(u,o))}var s=this.getTotalSize();return Math.max(0,Math.min(s-r,a))}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;if(0===this.getTotalSize())return{};var r=n+e,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,e,n){for(;e<=t;){var r=e+Math.floor((t-e)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?e=r+1:o>n&&(t=r-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(t,e){for(var n=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<e;)t+=n,n*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),e)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var e=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return e.offset>=t?this._binarySearch(n,0,t):this._exponentialSearch(n,t)}}]),t}(),C=function(){return"undefined"!=typeof window&&window.chrome?16777100:15e5},j=function(){function t(e){var n=e.maxScrollSize,r=void 0===n?C():n,i=x()(e,["maxScrollSize"]);o()(this,t),m()(this,"_cellSizeAndPositionManager",void 0),m()(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new _(i),this._maxScrollSize=r}return a()(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=void 0===e?"auto":e,r=t.containerSize,o=t.currentOffset,i=t.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;return n=this._safeOffsetToOffset({containerSize:e,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:n})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var e=t.containerSize,n=t.offset,r=t.totalSize;return r<=e?0:n/(r-e)}},{key:"_offsetToSafeOffset",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:r});return Math.round(i*(o-e))}},{key:"_safeOffsetToOffset",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:o});return Math.round(i*(r-e))}}]),t}();function A(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={};return function(n){var r=n.callback,o=n.indices,i=Object.keys(o),a=!t||i.every((function(t){var e=o[t];return Array.isArray(e)?e.length>0:e>=0})),l=i.length!==Object.keys(e).length||i.some((function(t){var n=e[t],r=o[t];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));e=o,a&&l&&r(o)}}function T(t){var e=t.cellSize,n=t.cellSizeAndPositionManager,r=t.previousCellsCount,o=t.previousCellSize,i=t.previousScrollToAlignment,a=t.previousScrollToIndex,l=t.previousSize,u=t.scrollOffset,c=t.scrollToAlignment,s=t.scrollToIndex,f=t.size,d=t.sizeJustIncreasedFromZero,h=t.updateScrollIndexCallback,p=n.getCellCount(),y=s>=0&&s<p;y&&(f!==l||d||!o||"number"==typeof e&&e!==o||c!==i||s!==a)?h(s):!y&&p>0&&(f<l||p<r)&&u>n.getTotalSize()-f&&h(p-1)}var k,P,R,N=n(1478),I=(k="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||k.oRequestAnimationFrame||k.msRequestAnimationFrame||function(t){return k.setTimeout(t,1e3/60)},M=k.cancelAnimationFrame||k.webkitCancelAnimationFrame||k.mozCancelAnimationFrame||k.oCancelAnimationFrame||k.msCancelAnimationFrame||function(t){k.clearTimeout(t)},L=I,D=M,q=function(t){return D(t.id)},z=function(t,e){var n;Promise.resolve().then((function(){n=Date.now()}));var r={id:L((function o(){Date.now()-n>=e?t.call():r.id=L(o)}))};return r};function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var H="observed",U="requested",G=(R=P=function(t){function e(t){var n;o()(this,e),n=u()(this,s()(e).call(this,t)),m()(d()(n),"_onGridRenderedMemoizer",A()),m()(d()(n),"_onScrollMemoizer",A(!1)),m()(d()(n),"_deferredInvalidateColumnIndex",null),m()(d()(n),"_deferredInvalidateRowIndex",null),m()(d()(n),"_recomputeScrollLeftFlag",!1),m()(d()(n),"_recomputeScrollTopFlag",!1),m()(d()(n),"_horizontalScrollBarSize",0),m()(d()(n),"_verticalScrollBarSize",0),m()(d()(n),"_scrollbarPresenceChanged",!1),m()(d()(n),"_scrollingContainer",void 0),m()(d()(n),"_childrenToDisplay",void 0),m()(d()(n),"_columnStartIndex",void 0),m()(d()(n),"_columnStopIndex",void 0),m()(d()(n),"_rowStartIndex",void 0),m()(d()(n),"_rowStopIndex",void 0),m()(d()(n),"_renderedColumnStartIndex",0),m()(d()(n),"_renderedColumnStopIndex",0),m()(d()(n),"_renderedRowStartIndex",0),m()(d()(n),"_renderedRowStopIndex",0),m()(d()(n),"_initialScrollTop",void 0),m()(d()(n),"_initialScrollLeft",void 0),m()(d()(n),"_disablePointerEventsTimeoutId",void 0),m()(d()(n),"_styleCache",{}),m()(d()(n),"_cellCache",{}),m()(d()(n),"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),m()(d()(n),"_invokeOnGridRenderedHelper",(function(){var t=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:t,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),m()(d()(n),"_setScrollingContainerRef",(function(t){n._scrollingContainer=t})),m()(d()(n),"_onScroll",(function(t){t.target===n._scrollingContainer&&n.handleScrollEvent(t.target)}));var r=new j({cellCount:t.columnCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.columnWidth)(n)},estimatedCellSize:e._getEstimatedColumnSize(t)}),i=new j({cellCount:t.rowCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.rowHeight)(n)},estimatedCellSize:e._getEstimatedRowSize(t)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:i,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:!0===t.isScrolling,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(t,n.state)),t.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(t,n.state)),n}return p()(e,t),a()(e,[{key:"getOffsetForCell",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.alignment,n=void 0===e?this.props.scrollToAlignment:e,r=t.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=t.rowIndex,a=void 0===i?this.props.scrollToRow:i,l=F({},this.props,{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(l),scrollTop:this._getCalculatedScrollTop(l)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(t){var e=t.scrollLeft,n=void 0===e?0:e,r=t.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,l=i.autoWidth,u=i.height,c=i.width,s=this.state.instanceProps,f=s.scrollbarSize,d=s.rowSizeAndPositionManager.getTotalSize(),h=s.columnSizeAndPositionManager.getTotalSize(),p=Math.min(Math.max(0,h-c+f),n),y=Math.min(Math.max(0,d-u+f),o);if(this.state.scrollLeft!==p||this.state.scrollTop!==y){var m={isScrolling:!0,scrollDirectionHorizontal:p!==this.state.scrollLeft?p>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:y!==this.state.scrollTop?y>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:H};a||(m.scrollTop=y),l||(m.scrollLeft=p),m.needToResetStyleCache=!1,this.setState(m)}this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:y,totalColumnsWidth:h,totalRowsHeight:d})}}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,e):e,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var t=this.props,e=t.columnCount,n=t.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(e-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,l=i.scrollToRow,u=this.state.instanceProps;u.columnSizeAndPositionManager.resetCell(n),u.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?n<=a:n>=a),this._recomputeScrollTopFlag=l>=0&&(1===this.state.scrollDirectionVertical?o<=l:o>=l),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(t){var e=t.columnIndex,n=t.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==e&&this._updateScrollLeftForScrollToColumn(F({},o,{scrollToColumn:e})),void 0!==n&&this._updateScrollTopForScrollToRow(F({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var t=this.props,n=t.getScrollbarSize,r=t.height,o=t.scrollLeft,i=t.scrollToColumn,a=t.scrollTop,l=t.scrollToRow,u=t.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(t){var e=F({},t,{needToResetStyleCache:!1});return e.instanceProps.scrollbarSize=n(),e.instanceProps.scrollbarSizeMeasured=!0,e})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var s=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});s&&(s.needToResetStyleCache=!1,this.setState(s))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var f=r>0&&u>0;i>=0&&f&&this._updateScrollLeftForScrollToColumn(),l>=0&&f&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(t,e){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,l=r.height,u=r.rowCount,c=r.scrollToAlignment,s=r.scrollToColumn,f=r.scrollToRow,d=r.width,h=this.state,p=h.scrollLeft,y=h.scrollPositionChangeReason,m=h.scrollTop,v=h.instanceProps;this._handleInvalidatedGridSize();var b=a>0&&0===t.columnCount||u>0&&0===t.rowCount;y===U&&(!i&&p>=0&&(p!==this._scrollingContainer.scrollLeft||b)&&(this._scrollingContainer.scrollLeft=p),!o&&m>=0&&(m!==this._scrollingContainer.scrollTop||b)&&(this._scrollingContainer.scrollTop=m));var g=(0===t.width||0===t.height)&&l>0&&d>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):T({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:t.columnCount,previousCellSize:t.columnWidth,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToColumn,previousSize:t.width,scrollOffset:p,scrollToAlignment:c,scrollToIndex:s,size:d,sizeJustIncreasedFromZero:g,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):T({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:t.rowCount,previousCellSize:t.rowHeight,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToRow,previousSize:t.height,scrollOffset:m,scrollToAlignment:c,scrollToIndex:f,size:l,sizeJustIncreasedFromZero:g,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),p!==e.scrollLeft||m!==e.scrollTop){var w=v.rowSizeAndPositionManager.getTotalSize(),S=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:m,totalColumnsWidth:S,totalRowsHeight:w})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&q(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var t=this.props,e=t.autoContainerWidth,n=t.autoHeight,r=t.autoWidth,o=t.className,i=t.containerProps,a=t.containerRole,l=t.containerStyle,u=t.height,c=t.id,s=t.noContentRenderer,f=t.role,d=t.style,h=t.tabIndex,p=t.width,y=this.state,m=y.instanceProps,b=y.needToResetStyleCache,g=this._isScrolling(),O={boxSizing:"border-box",direction:"ltr",height:n?"auto":u,position:"relative",width:r?"auto":p,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var E=m.columnSizeAndPositionManager.getTotalSize(),x=m.rowSizeAndPositionManager.getTotalSize(),_=x>u?m.scrollbarSize:0,C=E>p?m.scrollbarSize:0;C===this._horizontalScrollBarSize&&_===this._verticalScrollBarSize||(this._horizontalScrollBarSize=C,this._verticalScrollBarSize=_,this._scrollbarPresenceChanged=!0),O.overflowX=E+_<=p?"hidden":"auto",O.overflowY=x+C<=u?"hidden":"auto";var j=this._childrenToDisplay,A=0===j.length&&u>0&&p>0;return v.createElement("div",w()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Object(S.default)("ReactVirtualized__Grid",o),id:c,onScroll:this._onScroll,role:f,style:F({},O,{},d),tabIndex:h}),j.length>0&&v.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:F({width:e?"auto":E,height:x,maxWidth:E,maxHeight:x,overflow:"hidden",pointerEvents:g?"none":"",position:"relative"},l)},j),A&&s())}},{key:"_calculateChildrenToRender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.cellRenderer,r=t.cellRangeRenderer,o=t.columnCount,i=t.deferredMeasurementCache,a=t.height,l=t.overscanColumnCount,u=t.overscanIndicesGetter,c=t.overscanRowCount,s=t.rowCount,f=t.width,d=t.isScrollingOptOut,h=e.scrollDirectionHorizontal,p=e.scrollDirectionVertical,y=e.instanceProps,m=this._initialScrollTop>0?this._initialScrollTop:e.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:e.scrollLeft,b=this._isScrolling(t,e);if(this._childrenToDisplay=[],a>0&&f>0){var g=y.columnSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:v}),w=y.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:m}),S=y.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:v}),O=y.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:m});this._renderedColumnStartIndex=g.start,this._renderedColumnStopIndex=g.stop,this._renderedRowStartIndex=w.start,this._renderedRowStopIndex=w.stop;var E=u({direction:"horizontal",cellCount:o,overscanCellsCount:l,scrollDirection:h,startIndex:"number"==typeof g.start?g.start:0,stopIndex:"number"==typeof g.stop?g.stop:-1}),x=u({direction:"vertical",cellCount:s,overscanCellsCount:c,scrollDirection:p,startIndex:"number"==typeof w.start?w.start:0,stopIndex:"number"==typeof w.stop?w.stop:-1}),_=E.overscanStartIndex,C=E.overscanStopIndex,j=x.overscanStartIndex,A=x.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var T=j;T<=A;T++)if(!i.has(T,0)){_=0,C=o-1;break}if(!i.hasFixedWidth())for(var k=_;k<=C;k++)if(!i.has(0,k)){j=0,A=s-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:y.columnSizeAndPositionManager,columnStartIndex:_,columnStopIndex:C,deferredMeasurementCache:i,horizontalOffsetAdjustment:S,isScrolling:b,isScrollingOptOut:d,parent:this,rowSizeAndPositionManager:y.rowSizeAndPositionManager,rowStartIndex:j,rowStopIndex:A,scrollLeft:v,scrollTop:m,styleCache:this._styleCache,verticalOffsetAdjustment:O,visibleColumnIndices:g,visibleRowIndices:w}),this._columnStartIndex=_,this._columnStopIndex=C,this._rowStartIndex=j,this._rowStopIndex=A}}},{key:"_debounceScrollEnded",value:function(){var t=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&q(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=z(this._debounceScrollEndedCallback,t)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e})}}},{key:"_invokeOnScrollMemoizer",value:function(t){var e=this,n=t.scrollLeft,r=t.scrollTop,o=t.totalColumnsWidth,i=t.totalRowsHeight;this._onScrollMemoizer({callback:function(t){var n=t.scrollLeft,r=t.scrollTop,a=e.props,l=a.height;(0,a.onScroll)({clientHeight:l,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(t,"isScrolling")?Boolean(t.isScrolling):Boolean(e.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var t=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,t({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(t){var n=t.scrollLeft,r=t.scrollTop,o=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return e._getCalculatedScrollLeft(t,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e._getScrollLeftForScrollToColumnStateUpdate(t,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return e._getCalculatedScrollTop(t,n)}},{key:"_resetStyleCache",value:function(){var t=this._styleCache,e=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=t[i],n&&(this._cellCache[i]=e[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e._getScrollTopForScrollToRowStateUpdate(t,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r={};0===t.columnCount&&0!==n.scrollLeft||0===t.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(t.scrollLeft!==n.scrollLeft&&t.scrollToColumn<0||t.scrollTop!==n.scrollTop&&t.scrollToRow<0)&&Object.assign(r,e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}));var o,i,a=n.instanceProps;return r.needToResetStyleCache=!1,t.columnWidth===a.prevColumnWidth&&t.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:t.columnCount,estimatedCellSize:e._getEstimatedColumnSize(t),cellSizeGetter:e._wrapSizeGetter(t.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:t.rowCount,estimatedCellSize:e._getEstimatedRowSize(t),cellSizeGetter:e._wrapSizeGetter(t.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),t.autoHeight&&!1===t.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),O({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.columnCount,nextCellSize:"number"==typeof t.columnWidth?t.columnWidth:null,nextScrollToIndex:t.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=e._getScrollLeftForScrollToColumnStateUpdate(t,n)}}),O({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.rowCount,nextCellSize:"number"==typeof t.rowHeight?t.rowHeight:null,nextScrollToIndex:t.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=e._getScrollTopForScrollToRowStateUpdate(t,n)}}),a.prevColumnCount=t.columnCount,a.prevColumnWidth=t.columnWidth,a.prevIsScrolling=!0===t.isScrolling,a.prevRowCount=t.rowCount,a.prevRowHeight=t.rowHeight,a.prevScrollToColumn=t.scrollToColumn,a.prevScrollToRow=t.scrollToRow,a.scrollbarSize=t.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,F({},r,{},o,{},i)}},{key:"_getEstimatedColumnSize",value:function(t){return"number"==typeof t.columnWidth?t.columnWidth:t.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(t){return"number"==typeof t.rowHeight?t.rowHeight:t.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(t){var e=t.prevState,n=t.scrollLeft,r=t.scrollTop,o={scrollPositionChangeReason:U};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>e.scrollLeft?1:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>e.scrollTop?1:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==e.scrollLeft||"number"==typeof r&&r>=0&&r!==e.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(t){return"function"==typeof t?t:function(){return t}}},{key:"_getCalculatedScrollLeft",value:function(t,e){var n=t.columnCount,r=t.height,o=t.scrollToAlignment,i=t.scrollToColumn,a=t.width,l=e.scrollLeft,u=e.instanceProps;if(n>0){var c=n-1,s=i<0?c:Math.min(c,i),f=u.rowSizeAndPositionManager.getTotalSize(),d=u.scrollbarSizeMeasured&&f>r?u.scrollbarSize:0;return u.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-d,currentOffset:l,targetIndex:s})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(t,n){var r=n.scrollLeft,o=e._getCalculatedScrollLeft(t,n);return"number"==typeof o&&o>=0&&r!==o?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(t,e){var n=t.height,r=t.rowCount,o=t.scrollToAlignment,i=t.scrollToRow,a=t.width,l=e.scrollTop,u=e.instanceProps;if(r>0){var c=r-1,s=i<0?c:Math.min(c,i),f=u.columnSizeAndPositionManager.getTotalSize(),d=u.scrollbarSizeMeasured&&f>a?u.scrollbarSize:0;return u.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-d,currentOffset:l,targetIndex:s})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(t,n){var r=n.scrollTop,o=e._getCalculatedScrollTop(t,n);return"number"==typeof o&&o>=0&&r!==o?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}]),e}(v.PureComponent),m()(P,"propTypes",null),R);m()(G,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(t){for(var e=t.cellCache,n=t.cellRenderer,r=t.columnSizeAndPositionManager,o=t.columnStartIndex,i=t.columnStopIndex,a=t.deferredMeasurementCache,l=t.horizontalOffsetAdjustment,u=t.isScrolling,c=t.isScrollingOptOut,s=t.parent,f=t.rowSizeAndPositionManager,d=t.rowStartIndex,h=t.rowStopIndex,p=t.styleCache,y=t.verticalOffsetAdjustment,m=t.visibleColumnIndices,v=t.visibleRowIndices,b=[],g=r.areOffsetsAdjusted()||f.areOffsetsAdjusted(),w=!u&&!g,S=d;S<=h;S++)for(var O=f.getSizeAndPositionOfCell(S),E=o;E<=i;E++){var x=r.getSizeAndPositionOfCell(E),_=E>=m.start&&E<=m.stop&&S>=v.start&&S<=v.stop,C="".concat(S,"-").concat(E),j=void 0;w&&p[C]?j=p[C]:a&&!a.has(S,E)?j={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(j={height:O.size,left:x.offset+l,position:"absolute",top:O.offset+y,width:x.size},p[C]=j);var A={columnIndex:E,isScrolling:u,isVisible:_,key:C,parent:s,rowIndex:S,style:j},T=void 0;!c&&!u||l||y?T=n(A):(e[C]||(e[C]=n(A)),T=e[C]),null!=T&&!1!==T&&b.push(T)}return b},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:N.default,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(e-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),Object(b.polyfill)(G);var W=G;function V(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(e-1,i+1)}}var K,$;function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Y=($=K=function(t){function e(){var t,n;o()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u()(this,(t=s()(e)).call.apply(t,[this].concat(i))),m()(d()(n),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),m()(d()(n),"_columnStartIndex",0),m()(d()(n),"_columnStopIndex",0),m()(d()(n),"_rowStartIndex",0),m()(d()(n),"_rowStopIndex",0),m()(d()(n),"_onKeyDown",(function(t){var e=n.props,r=e.columnCount,o=e.disabled,i=e.mode,a=e.rowCount;if(!o){var l=n._getScrollState(),u=l.scrollToColumn,c=l.scrollToRow,s=n._getScrollState(),f=s.scrollToColumn,d=s.scrollToRow;switch(t.key){case"ArrowDown":d="cells"===i?Math.min(d+1,a-1):Math.min(n._rowStopIndex+1,a-1);break;case"ArrowLeft":f="cells"===i?Math.max(f-1,0):Math.max(n._columnStartIndex-1,0);break;case"ArrowRight":f="cells"===i?Math.min(f+1,r-1):Math.min(n._columnStopIndex+1,r-1);break;case"ArrowUp":d="cells"===i?Math.max(d-1,0):Math.max(n._rowStartIndex-1,0)}f===u&&d===c||(t.preventDefault(),n._updateScrollState({scrollToColumn:f,scrollToRow:d}))}})),m()(d()(n),"_onSectionRendered",(function(t){var e=t.columnStartIndex,r=t.columnStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;n._columnStartIndex=e,n._columnStopIndex=r,n._rowStartIndex=o,n._rowStopIndex=i})),n}return p()(e,t),a()(e,[{key:"setScrollIndexes",value:function(t){var e=t.scrollToColumn,n=t.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:e})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.children,r=this._getScrollState(),o=r.scrollToColumn,i=r.scrollToRow;return v.createElement("div",{className:e,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:o,scrollToRow:i}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(t){var e=t.scrollToColumn,n=t.scrollToRow,r=this.props,o=r.isControlled,i=r.onScrollToChange;"function"==typeof i&&i({scrollToColumn:e,scrollToRow:n}),o||this.setState({scrollToColumn:e,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.isControlled?{}:t.scrollToColumn!==e.instanceProps.prevScrollToColumn||t.scrollToRow!==e.instanceProps.prevScrollToRow?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{scrollToColumn:t.scrollToColumn,scrollToRow:t.scrollToRow,instanceProps:{prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow}}):{}}}]),e}(v.PureComponent),m()(K,"propTypes",null),$);m()(Y,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),Object(b.polyfill)(Y);var X,Q,J=n(1493);function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var nt=(Q=X=function(t){function e(){var t,n;o()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u()(this,(t=s()(e)).call.apply(t,[this].concat(i))),m()(d()(n),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),m()(d()(n),"_parentNode",void 0),m()(d()(n),"_autoSizer",void 0),m()(d()(n),"_window",void 0),m()(d()(n),"_detectElementResize",void 0),m()(d()(n),"_onResize",(function(){var t=n.props,e=t.disableHeight,r=t.disableWidth,o=t.onResize;if(n._parentNode){var i=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,l=(n._window||window).getComputedStyle(n._parentNode)||{},u=parseInt(l.paddingLeft,10)||0,c=parseInt(l.paddingRight,10)||0,s=parseInt(l.paddingTop,10)||0,f=parseInt(l.paddingBottom,10)||0,d=i-s-f,h=a-u-c;(!e&&n.state.height!==d||!r&&n.state.width!==h)&&(n.setState({height:i-s-f,width:a-u-c}),o({height:i,width:a}))}})),m()(d()(n),"_setRef",(function(t){n._autoSizer=t})),n}return p()(e,t),a()(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(J.a)(t,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.disableHeight,o=t.disableWidth,i=t.style,a=this.state,l=a.height,u=a.width,c={overflow:"visible"},s={};return r||(c.height=0,s.height=l),o||(c.width=0,s.width=u),v.createElement("div",{className:n,ref:this._setRef,style:et({},c,{},i)},e(s))}}]),e}(v.Component),m()(X,"propTypes",null),Q);m()(nt,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var rt,ot,it=n(123),at=(ot=rt=function(t){function e(){var t,n;o()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u()(this,(t=s()(e)).call.apply(t,[this].concat(i))),m()(d()(n),"_child",void 0),m()(d()(n),"_measure",(function(){var t=n.props,e=t.cache,r=t.columnIndex,o=void 0===r?0:r,i=t.parent,a=t.rowIndex,l=void 0===a?n.props.index||0:a,u=n._getCellMeasurements(),c=u.height,s=u.width;c===e.getHeight(l,o)&&s===e.getWidth(l,o)||(e.set(l,o,s,c),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:l}))})),m()(d()(n),"_registerChild",(function(t){!t||t instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=t,t&&n._maybeMeasureCell()})),n}return p()(e,t),a()(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var t=this.props.children;return"function"==typeof t?t({measure:this._measure,registerChild:this._registerChild}):t}},{key:"_getCellMeasurements",value:function(){var t=this.props.cache,e=this._child||Object(it.findDOMNode)(this);if(e&&e.ownerDocument&&e.ownerDocument.defaultView&&e instanceof e.ownerDocument.defaultView.HTMLElement){var n=e.style.width,r=e.style.height;t.hasFixedWidth()||(e.style.width="auto"),t.hasFixedHeight()||(e.style.height="auto");var o=Math.ceil(e.offsetHeight),i=Math.ceil(e.offsetWidth);return n&&(e.style.width=n),r&&(e.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var t=this.props,e=t.cache,n=t.columnIndex,r=void 0===n?0:n,o=t.parent,i=t.rowIndex,a=void 0===i?this.props.index||0:i;if(!e.has(a,r)){var l=this._getCellMeasurements(),u=l.height,c=l.width;e.set(a,r,c,u),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),e}(v.PureComponent),m()(rt,"propTypes",null),ot);m()(at,"__internalCellMeasurerFlag",!1);var lt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,t),m()(this,"_cellHeightCache",{}),m()(this,"_cellWidthCache",{}),m()(this,"_columnWidthCache",{}),m()(this,"_rowHeightCache",{}),m()(this,"_defaultHeight",void 0),m()(this,"_defaultWidth",void 0),m()(this,"_minHeight",void 0),m()(this,"_minWidth",void 0),m()(this,"_keyMapper",void 0),m()(this,"_hasFixedHeight",void 0),m()(this,"_hasFixedWidth",void 0),m()(this,"_columnCount",0),m()(this,"_rowCount",0),m()(this,"columnWidth",(function(t){var n=t.index,r=e._keyMapper(0,n);return void 0!==e._columnWidthCache[r]?e._columnWidthCache[r]:e._defaultWidth})),m()(this,"rowHeight",(function(t){var n=t.index,r=e._keyMapper(n,0);return void 0!==e._rowHeightCache[r]?e._rowHeightCache[r]:e._defaultHeight}));var r=n.defaultHeight,i=n.defaultWidth,a=n.fixedHeight,l=n.fixedWidth,u=n.keyMapper,c=n.minHeight,s=n.minWidth;this._hasFixedHeight=!0===a,this._hasFixedWidth=!0===l,this._minHeight=c||0,this._minWidth=s||0,this._keyMapper=u||ut,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"==typeof i?i:100)}return a()(t,[{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(t,e)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(t,e);return void 0!==this._cellHeightCache[n]?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(t,e);return void 0!==this._cellWidthCache[n]?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);return void 0!==this._cellHeightCache[n]}},{key:"set",value:function(t,e,n,r){var o=this._keyMapper(t,e);e>=this._columnCount&&(this._columnCount=e+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(t,e)}},{key:"_updateCachedColumnAndRowSizes",value:function(t,e){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,e));var o=this._keyMapper(0,e);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(t,a));var l=this._keyMapper(t,0);this._rowHeightCache[l]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),t}();function ut(t,e){return"".concat(t,"-").concat(e)}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ft="observed",dt="requested",ht=function(t){function e(){var t,n;o()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u()(this,(t=s()(e)).call.apply(t,[this].concat(i))),m()(d()(n),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),m()(d()(n),"_calculateSizeAndPositionDataOnNextUpdate",!1),m()(d()(n),"_onSectionRenderedMemoizer",A()),m()(d()(n),"_onScrollMemoizer",A(!1)),m()(d()(n),"_invokeOnSectionRenderedHelper",(function(){var t=n.props,e=t.cellLayoutManager,r=t.onSectionRendered;n._onSectionRenderedMemoizer({callback:r,indices:{indices:e.getLastRenderedIndices()}})})),m()(d()(n),"_setScrollingContainerRef",(function(t){n._scrollingContainer=t})),m()(d()(n),"_updateScrollPositionForScrollToCell",(function(){var t=n.props,e=t.cellLayoutManager,r=t.height,o=t.scrollToAlignment,i=t.scrollToCell,a=t.width,l=n.state,u=l.scrollLeft,c=l.scrollTop;if(i>=0){var s=e.getScrollPositionForCell({align:o,cellIndex:i,height:r,scrollLeft:u,scrollTop:c,width:a});s.scrollLeft===u&&s.scrollTop===c||n._setScrollPosition(s)}})),m()(d()(n),"_onScroll",(function(t){if(t.target===n._scrollingContainer){n._enablePointerEventsAfterDelay();var e=n.props,r=e.cellLayoutManager,o=e.height,i=e.isScrollingChange,a=e.width,l=n._scrollbarSize,u=r.getTotalSize(),c=u.height,s=u.width,f=Math.max(0,Math.min(s-a+l,t.target.scrollLeft)),d=Math.max(0,Math.min(c-o+l,t.target.scrollTop));if(n.state.scrollLeft!==f||n.state.scrollTop!==d){var h=t.cancelable?ft:dt;n.state.isScrolling||i(!0),n.setState({isScrolling:!0,scrollLeft:f,scrollPositionChangeReason:h,scrollTop:d})}n._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:d,totalWidth:s,totalHeight:c})}})),n._scrollbarSize=Object(N.default)(),void 0===n._scrollbarSize?(n._scrollbarSizeMeasured=!1,n._scrollbarSize=0):n._scrollbarSizeMeasured=!0,n}return p()(e,t),a()(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var t=this.props,e=t.cellLayoutManager,n=t.scrollLeft,r=t.scrollToCell,o=t.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=Object(N.default)(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||o>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=e.getTotalSize(),a=i.height,l=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:o||0,totalHeight:a,totalWidth:l})}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.height,o=n.scrollToAlignment,i=n.scrollToCell,a=n.width,l=this.state,u=l.scrollLeft,c=l.scrollPositionChangeReason,s=l.scrollTop;c===dt&&(u>=0&&u!==e.scrollLeft&&u!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=u),s>=0&&s!==e.scrollTop&&s!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=s)),r===t.height&&o===t.scrollToAlignment&&i===t.scrollToCell&&a===t.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var t=this.props,e=t.autoHeight,n=t.cellCount,r=t.cellLayoutManager,o=t.className,i=t.height,a=t.horizontalOverscanSize,l=t.id,u=t.noContentRenderer,c=t.style,s=t.verticalOverscanSize,f=t.width,d=this.state,h=d.isScrolling,p=d.scrollLeft,y=d.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==r||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=r,this._calculateSizeAndPositionDataOnNextUpdate=!1,r.calculateSizeAndPositionData());var m=r.getTotalSize(),b=m.height,g=m.width,w=Math.max(0,p-a),O=Math.max(0,y-s),E=Math.min(g,p+f+a),x=Math.min(b,y+i+s),_=i>0&&f>0?r.cellRenderers({height:x-O,isScrolling:h,width:E-w,x:w,y:O}):[],C={boxSizing:"border-box",direction:"ltr",height:e?"auto":i,position:"relative",WebkitOverflowScrolling:"touch",width:f,willChange:"transform"},j=b>i?this._scrollbarSize:0,A=g>f?this._scrollbarSize:0;return C.overflowX=g+j<=f?"hidden":"auto",C.overflowY=b+A<=i?"hidden":"auto",v.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Object(S.default)("ReactVirtualized__Collection",o),id:l,onScroll:this._onScroll,role:"grid",style:st({},C,{},c),tabIndex:0},n>0&&v.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:b,maxHeight:b,maxWidth:g,overflow:"hidden",pointerEvents:h?"none":"",width:g}},_),0===n&&u())}},{key:"_enablePointerEventsAfterDelay",value:function(){var t=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,t.props.isScrollingChange)(!1),t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(t){var e=this,n=t.scrollLeft,r=t.scrollTop,o=t.totalHeight,i=t.totalWidth;this._onScrollMemoizer({callback:function(t){var n=t.scrollLeft,r=t.scrollTop,a=e.props,l=a.height;(0,a.onScroll)({clientHeight:l,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(t){var e=t.scrollLeft,n=t.scrollTop,r={scrollPositionChangeReason:dt};e>=0&&(r.scrollLeft=e),n>=0&&(r.scrollTop=n),(e>=0&&e!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return 0!==t.cellCount||0===e.scrollLeft&&0===e.scrollTop?t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop?t.scrollTop:e.scrollTop,scrollPositionChangeReason:dt}:null:{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:dt}}}]),e}(v.PureComponent);m()(ht,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),ht.propTypes={},Object(b.polyfill)(ht);var pt=ht,yt=function(){function t(e){var n=e.height,r=e.width,i=e.x,a=e.y;o()(this,t),this.height=n,this.width=r,this.x=i,this.y=a,this._indexMap={},this._indices=[]}return a()(t,[{key:"addCellIndex",value:function(t){var e=t.index;this._indexMap[e]||(this._indexMap[e]=!0,this._indices.push(e))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),t}(),mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;o()(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return a()(t,[{key:"getCellIndices",value:function(t){var e=t.height,n=t.width,r=t.x,o=t.y,i={};return this.getSections({height:e,width:n,x:r,y:o}).forEach((function(t){return t.getCellIndices().forEach((function(t){i[t]=t}))})),Object.keys(i).map((function(t){return i[t]}))}},{key:"getCellMetadata",value:function(t){var e=t.index;return this._cellMetadata[e]}},{key:"getSections",value:function(t){for(var e=t.height,n=t.width,r=t.x,o=t.y,i=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),l=Math.floor(o/this._sectionSize),u=Math.floor((o+e-1)/this._sectionSize),c=[],s=i;s<=a;s++)for(var f=l;f<=u;f++){var d="".concat(s,".").concat(f);this._sections[d]||(this._sections[d]=new yt({height:this._sectionSize,width:this._sectionSize,x:s*this._sectionSize,y:f*this._sectionSize})),c.push(this._sections[d])}return c}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var t=this;return Object.keys(this._sections).map((function(e){return t._sections[e].toString()}))}},{key:"registerCell",value:function(t){var e=t.cellMetadatum,n=t.index;this._cellMetadata[n]=e,this.getSections(e).forEach((function(t){return t.addCellIndex({index:n})}))}}]),t}();function vt(t){var e=t.align,n=void 0===e?"auto":e,r=t.cellOffset,o=t.cellSize,i=t.containerSize,a=t.currentOffset,l=r,u=l-i+o;switch(n){case"start":return l;case"end":return u;case"center":return l-(i-o)/2;default:return Math.max(u,Math.min(l,a))}}var bt=function(t){function e(t,n){var r;return o()(this,e),(r=u()(this,s()(e).call(this,t,n)))._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(d()(r)),r._setCollectionViewRef=r._setCollectionViewRef.bind(d()(r)),r}return p()(e,t),a()(e,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var t=w()({},this.props);return v.createElement(pt,w()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},t))}},{key:"calculateSizeAndPositionData",value:function(){var t=this.props,e=function(t){for(var e=t.cellCount,n=t.cellSizeAndPositionGetter,r=t.sectionSize,o=[],i=new mt(r),a=0,l=0,u=0;u<e;u++){var c=n({index:u});if(null==c.height||isNaN(c.height)||null==c.width||isNaN(c.width)||null==c.x||isNaN(c.x)||null==c.y||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(u,":\n        x:").concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));a=Math.max(a,c.y+c.height),l=Math.max(l,c.x+c.width),o[u]=c,i.registerCell({cellMetadatum:c,index:u})}return{cellMetadata:o,height:a,sectionManager:i,width:l}}({cellCount:t.cellCount,cellSizeAndPositionGetter:t.cellSizeAndPositionGetter,sectionSize:t.sectionSize});this._cellMetadata=e.cellMetadata,this._sectionManager=e.sectionManager,this._height=e.height,this._width=e.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(t){var e=t.align,n=t.cellIndex,r=t.height,o=t.scrollLeft,i=t.scrollTop,a=t.width,l=this.props.cellCount;if(n>=0&&n<l){var u=this._cellMetadata[n];o=vt({align:e,cellOffset:u.x,cellSize:u.width,containerSize:a,currentOffset:o,targetIndex:n}),i=vt({align:e,cellOffset:u.y,cellSize:u.height,containerSize:r,currentOffset:i,targetIndex:n})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(t){var e=this,n=t.height,r=t.isScrolling,o=t.width,i=t.x,a=t.y,l=this.props,u=l.cellGroupRenderer,c=l.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:o,x:i,y:a}),u({cellCache:this._cellCache,cellRenderer:c,cellSizeAndPositionGetter:function(t){var n=t.index;return e._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(t){t||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(t){this._collectionView=t}}]),e}(v.PureComponent);m()(bt,"defaultProps",{"aria-label":"grid",cellGroupRenderer:function(t){var e=t.cellCache,n=t.cellRenderer,r=t.cellSizeAndPositionGetter,o=t.indices,i=t.isScrolling;return o.map((function(t){var o=r({index:t}),a={index:t,isScrolling:i,key:t,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(t in e||(e[t]=n(a)),e[t]):n(a)})).filter((function(t){return!!t}))}}),bt.propTypes={};var gt=function(t){function e(t,n){var r;return o()(this,e),(r=u()(this,s()(e).call(this,t,n)))._registerChild=r._registerChild.bind(d()(r)),r}return p()(e,t),a()(e,[{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.columnMaxWidth,r=e.columnMinWidth,o=e.columnCount,i=e.width;n===t.columnMaxWidth&&r===t.columnMinWidth&&o===t.columnCount&&i===t.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.columnMaxWidth,r=t.columnMinWidth,o=t.columnCount,i=t.width,a=r||1,l=n?Math.min(n,i):i,u=i/o;return u=Math.max(a,u),u=Math.min(l,u),u=Math.floor(u),e({adjustedWidth:Math.min(i,u*o),columnWidth:u,getColumnWidth:function(){return u},registerChild:this._registerChild})}},{key:"_registerChild",value:function(t){if(t&&"function"!=typeof t.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=t,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),e}(v.PureComponent);gt.propTypes={};var wt=n(1521),St=n.n(wt),Ot=function(t){function e(t,n){var r;return o()(this,e),(r=u()(this,s()(e).call(this,t,n)))._loadMoreRowsMemoizer=A(),r._onRowsRendered=r._onRowsRendered.bind(d()(r)),r._registerChild=r._registerChild.bind(d()(r)),r}return p()(e,t),a()(e,[{key:"resetLoadMoreRowsCache",value:function(t){this._loadMoreRowsMemoizer=A(),t&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(t){var e=this,n=this.props.loadMoreRows;t.forEach((function(t){var r=n(t);r&&r.then((function(){var n,r,o,i,a;n={lastRenderedStartIndex:e._lastRenderedStartIndex,lastRenderedStopIndex:e._lastRenderedStopIndex,startIndex:t.startIndex,stopIndex:t.stopIndex},r=n.lastRenderedStartIndex,o=n.lastRenderedStopIndex,i=n.startIndex,a=n.stopIndex,i>o||a<r||e._registeredChild&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof t.recomputeGridSize?t.recomputeGridSize:t.recomputeRowHeights;n?n.call(t,e):t.forceUpdate()}(e._registeredChild,e._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(t){var e=t.startIndex,n=t.stopIndex;this._lastRenderedStartIndex=e,this._lastRenderedStopIndex=n,this._doStuff(e,n)}},{key:"_doStuff",value:function(t,e){var n,r=this,o=this.props,i=o.isRowLoaded,a=o.minimumBatchSize,l=o.rowCount,u=o.threshold,c=function(t){for(var e=t.isRowLoaded,n=t.minimumBatchSize,r=t.rowCount,o=t.startIndex,i=t.stopIndex,a=[],l=null,u=null,c=o;c<=i;c++){e({index:c})?null!==u&&(a.push({startIndex:l,stopIndex:u}),l=u=null):(u=c,null===l&&(l=c))}if(null!==u){for(var s=Math.min(Math.max(u,l+n-1),r-1),f=u+1;f<=s&&!e({index:f});f++)u=f;a.push({startIndex:l,stopIndex:u})}if(a.length)for(var d=a[0];d.stopIndex-d.startIndex+1<n&&d.startIndex>0;){var h=d.startIndex-1;if(e({index:h}))break;d.startIndex=h}return a}({isRowLoaded:i,minimumBatchSize:a,rowCount:l,startIndex:Math.max(0,t-u),stopIndex:Math.min(l-1,e+u)}),s=(n=[]).concat.apply(n,St()(c.map((function(t){return[t.startIndex,t.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function(){r._loadUnloadedRanges(c)},indices:{squashedUnloadedRanges:s}})}},{key:"_registerChild",value:function(t){this._registeredChild=t}}]),e}(v.PureComponent);m()(Ot,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),Ot.propTypes={};var Et,xt,_t=(xt=Et=function(t){function e(){var t,n;o()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u()(this,(t=s()(e)).call.apply(t,[this].concat(i))),m()(d()(n),"Grid",void 0),m()(d()(n),"_cellRenderer",(function(t){var e=t.parent,r=t.rowIndex,o=t.style,i=t.isScrolling,a=t.isVisible,l=t.key,u=n.props.rowRenderer,c=Object.getOwnPropertyDescriptor(o,"width");return c&&c.writable&&(o.width="100%"),u({index:r,style:o,isScrolling:i,isVisible:a,key:l,parent:e})})),m()(d()(n),"_setRef",(function(t){n.Grid=t})),m()(d()(n),"_onScroll",(function(t){var e=t.clientHeight,r=t.scrollHeight,o=t.scrollTop;(0,n.props.onScroll)({clientHeight:e,scrollHeight:r,scrollTop:o})})),m()(d()(n),"_onSectionRendered",(function(t){var e=t.rowOverscanStartIndex,r=t.rowOverscanStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:r,startIndex:o,stopIndex:i})})),n}return p()(e,t),a()(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(t){var e=t.alignment,n=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t,columnIndex:0})}},{key:"scrollToPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.noRowsRenderer,r=t.scrollToIndex,o=t.width,i=Object(S.default)("ReactVirtualized__List",e);return v.createElement(W,w()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:o,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),e}(v.PureComponent),m()(Et,"propTypes",null),xt);m()(_t,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:V,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Ct=n(312),jt=n.n(Ct);var At={ge:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=n+1;e<=n;){var a=e+n>>>1;o(t[a],r)>=0?(i=a,n=a-1):e=a+1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=n+1;e<=n;){var i=e+n>>>1;t[i]>=r?(o=i,n=i-1):e=i+1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},gt:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=n+1;e<=n;){var a=e+n>>>1;o(t[a],r)>0?(i=a,n=a-1):e=a+1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=n+1;e<=n;){var i=e+n>>>1;t[i]>r?(o=i,n=i-1):e=i+1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},lt:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=e-1;e<=n;){var a=e+n>>>1;o(t[a],r)<0?(i=a,e=a+1):n=a-1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=e-1;e<=n;){var i=e+n>>>1;t[i]<r?(o=i,e=i+1):n=i-1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},le:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=e-1;e<=n;){var a=e+n>>>1;o(t[a],r)<=0?(i=a,e=a+1):n=a-1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=e-1;e<=n;){var i=e+n>>>1;t[i]<=r?(o=i,e=i+1):n=i-1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},eq:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(;e<=n;){var i=e+n>>>1,a=o(t[i],r);if(0===a)return i;a<=0?e=i+1:n=i-1}return-1}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(;e<=n;){var o=e+n>>>1,i=t[o];if(i===r)return o;i<=r?e=o+1:n=o-1}return-1}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)}};function Tt(t,e,n,r,o){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var kt=Tt.prototype;function Pt(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function Rt(t,e){var n=Ft(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function Nt(t,e){var n=t.intervals([]);n.push(e),Rt(t,n)}function It(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?0:(n.splice(r,1),Rt(t,n),1)}function Mt(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var o=n(t[r]);if(o)return o}}function Lt(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var o=n(t[r]);if(o)return o}}function Dt(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function qt(t,e){return t-e}function zt(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Bt(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function Ft(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(qt);var r=e[e.length>>1],o=[],i=[],a=[];for(n=0;n<t.length;++n){var l=t[n];l[1]<r?o.push(l):r<l[0]?i.push(l):a.push(l)}var u=a,c=a.slice();return u.sort(zt),c.sort(Bt),new Tt(r,Ft(o),Ft(i),u,c)}function Ht(t){this.root=t}kt.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},kt.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?Nt(this,t):this.left.insert(t):this.left=Ft([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?Nt(this,t):this.right.insert(t):this.right=Ft([t]);else{var n=At.ge(this.leftPoints,t,zt),r=At.ge(this.rightPoints,t,Bt);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}},kt.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?It(this,t):2===(i=this.left.remove(t))?(this.left=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?It(this,t):2===(i=this.right.remove(t))?(this.right=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var o=this.left,i=this.right;n.count-=r.count,n.right=r.left,r.left=o,r.right=i}Pt(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Pt(this,this.left):Pt(this,this.right);return 1}for(o=At.ge(this.leftPoints,t,zt);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(i=At.ge(this.rightPoints,t,Bt);i<this.rightPoints.length&&this.rightPoints[i][1]===t[1];++i)if(this.rightPoints[i]===t)return this.rightPoints.splice(i,1),1}return 0},kt.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(n=this.left.queryPoint(t,e))return n;return Mt(this.leftPoints,t,e)}if(t>this.mid){var n;if(this.right)if(n=this.right.queryPoint(t,e))return n;return Lt(this.rightPoints,t,e)}return Dt(this.leftPoints,e)},kt.queryInterval=function(t,e,n){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n)))return r;return e<this.mid?Mt(this.leftPoints,e,n):t>this.mid?Lt(this.rightPoints,t,n):Dt(this.leftPoints,n)};var Ut=Ht.prototype;Ut.insert=function(t){this.root?this.root.insert(t):this.root=new Tt(t[0],null,null,[t],[t])},Ut.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),0!==e}return!1},Ut.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},Ut.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(Ut,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Ut,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Gt,Wt,Vt=function(){function t(){var e;o()(this,t),m()(this,"_columnSizeMap",{}),m()(this,"_intervalTree",e&&0!==e.length?new Ht(Ft(e)):new Ht(null)),m()(this,"_leftMap",{})}return a()(t,[{key:"estimateTotalHeight",value:function(t,e,n){var r=t-this.count;return this.tallestColumnSize+Math.ceil(r/e)*n}},{key:"range",value:function(t,e,n){var r=this;this._intervalTree.queryInterval(t,t+e,(function(t){var e=jt()(t,3),o=e[0],i=(e[1],e[2]);return n(i,r._leftMap[i],o)}))}},{key:"setPosition",value:function(t,e,n,r){this._intervalTree.insert([n,n+r,t]),this._leftMap[t]=e;var o=this._columnSizeMap,i=o[e];o[e]=void 0===i?n+r:Math.max(i,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,e=0;for(var n in t){var r=t[n];e=0===e?r:Math.min(e,r)}return e}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,e=0;for(var n in t){var r=t[n];e=Math.max(e,r)}return e}}]),t}();function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Zt=(Wt=Gt=function(t){function e(){var t,n;o()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u()(this,(t=s()(e)).call.apply(t,[this].concat(i))),m()(d()(n),"state",{isScrolling:!1,scrollTop:0}),m()(d()(n),"_debounceResetIsScrollingId",void 0),m()(d()(n),"_invalidateOnUpdateStartIndex",null),m()(d()(n),"_invalidateOnUpdateStopIndex",null),m()(d()(n),"_positionCache",new Vt),m()(d()(n),"_startIndex",null),m()(d()(n),"_startIndexMemoized",null),m()(d()(n),"_stopIndex",null),m()(d()(n),"_stopIndexMemoized",null),m()(d()(n),"_debounceResetIsScrollingCallback",(function(){n.setState({isScrolling:!1})})),m()(d()(n),"_setScrollingContainerRef",(function(t){n._scrollingContainer=t})),m()(d()(n),"_onScroll",(function(t){var e=n.props.height,r=t.currentTarget.scrollTop,o=Math.min(Math.max(0,n._getEstimatedTotalHeight()-e),r);r===o&&(n._debounceResetIsScrolling(),n.state.scrollTop!==o&&n.setState({isScrolling:!0,scrollTop:o}))})),n}return p()(e,t),a()(e,[{key:"clearCellPositions",value:function(){this._positionCache=new Vt,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=e,this._invalidateOnUpdateStopIndex=e):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,e),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,e))}},{key:"recomputeCellPositions",value:function(){var t=this._positionCache.count-1;this._positionCache=new Vt,this._populatePositionCache(0,t),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(t,e){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==t.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&q(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var t,e=this,n=this.props,r=n.autoHeight,o=n.cellCount,i=n.cellMeasurerCache,a=n.cellRenderer,l=n.className,u=n.height,c=n.id,s=n.keyMapper,f=n.overscanByPixels,d=n.role,h=n.style,p=n.tabIndex,y=n.width,b=n.rowDirection,g=this.state,w=g.isScrolling,O=g.scrollTop,E=[],x=this._getEstimatedTotalHeight(),_=this._positionCache.shortestColumnSize,C=this._positionCache.count,j=0;if(this._positionCache.range(Math.max(0,O-f),u+2*f,(function(n,r,o){var l;void 0===t?(j=n,t=n):(j=Math.min(j,n),t=Math.max(t,n)),E.push(a({index:n,isScrolling:w,key:s(n),parent:e,style:(l={height:i.getHeight(n)},m()(l,"ltr"===b?"left":"right",r),m()(l,"position","absolute"),m()(l,"top",o),m()(l,"width",i.getWidth(n)),l)}))})),_<O+u+f&&C<o)for(var A=Math.min(o-C,Math.ceil((O+u+f-_)/i.defaultHeight*y/i.defaultWidth)),T=C;T<C+A;T++)t=T,E.push(a({index:T,isScrolling:w,key:s(T),parent:this,style:{width:i.getWidth(T)}}));return this._startIndex=j,this._stopIndex=t,v.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Object(S.default)("ReactVirtualized__Masonry",l),id:c,onScroll:this._onScroll,role:d,style:$t({boxSizing:"border-box",direction:"ltr",height:r?"auto":u,overflowX:"hidden",overflowY:x<u?"hidden":"auto",position:"relative",width:y,WebkitOverflowScrolling:"touch",willChange:"transform"},h),tabIndex:p},v.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:x,maxWidth:"100%",maxHeight:x,overflow:"hidden",pointerEvents:w?"none":"",position:"relative"}},E))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var t=this._invalidateOnUpdateStartIndex,e=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(t,e),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var t=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&q(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=z(this._debounceResetIsScrollingCallback,t)}},{key:"_getEstimatedTotalHeight",value:function(){var t=this.props,e=t.cellCount,n=t.cellMeasurerCache,r=t.width,o=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(e,o,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var t=this.props,e=t.height,n=t.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:e,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(t,e){for(var n=this.props,r=n.cellMeasurerCache,o=n.cellPositioner,i=t;i<=e;i++){var a=o(i),l=a.left,u=a.top;this._positionCache.setPosition(i,l,u,r.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return void 0!==t.scrollTop&&e.scrollTop!==t.scrollTop?{isScrolling:!0,scrollTop:t.scrollTop}:null}}]),e}(v.PureComponent),m()(Gt,"propTypes",null),Wt);function Yt(){}m()(Zt,"defaultProps",{autoHeight:!1,keyMapper:function(t){return t},onCellsRendered:Yt,onScroll:Yt,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"});Object(b.polyfill)(Zt);var Xt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,t),m()(this,"_cellMeasurerCache",void 0),m()(this,"_columnIndexOffset",void 0),m()(this,"_rowIndexOffset",void 0),m()(this,"columnWidth",(function(t){var n=t.index;e._cellMeasurerCache.columnWidth({index:n+e._columnIndexOffset})})),m()(this,"rowHeight",(function(t){var n=t.index;e._cellMeasurerCache.rowHeight({index:n+e._rowIndexOffset})}));var r=n.cellMeasurerCache,i=n.columnIndexOffset,a=void 0===i?0:i,l=n.rowIndexOffset,u=void 0===l?0:l;this._cellMeasurerCache=r,this._columnIndexOffset=a,this._rowIndexOffset=u}return a()(t,[{key:"clear",value:function(t,e){this._cellMeasurerCache.clear(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"set",value:function(t,e,n,r){this._cellMeasurerCache.set(t+this._rowIndexOffset,e+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}();function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var te=function(t){function e(t,n){var r;o()(this,e),r=u()(this,s()(e).call(this,t,n)),m()(d()(r),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),m()(d()(r),"_deferredInvalidateColumnIndex",null),m()(d()(r),"_deferredInvalidateRowIndex",null),m()(d()(r),"_bottomLeftGridRef",(function(t){r._bottomLeftGrid=t})),m()(d()(r),"_bottomRightGridRef",(function(t){r._bottomRightGrid=t})),m()(d()(r),"_cellRendererBottomLeftGrid",(function(t){var e=t.rowIndex,n=x()(t,["rowIndex"]),o=r.props,i=o.cellRenderer,a=o.fixedRowCount;return e===o.rowCount-a?v.createElement("div",{key:n.key,style:Jt({},n.style,{height:20})}):i(Jt({},n,{parent:d()(r),rowIndex:e+a}))})),m()(d()(r),"_cellRendererBottomRightGrid",(function(t){var e=t.columnIndex,n=t.rowIndex,o=x()(t,["columnIndex","rowIndex"]),i=r.props,a=i.cellRenderer,l=i.fixedColumnCount,u=i.fixedRowCount;return a(Jt({},o,{columnIndex:e+l,parent:d()(r),rowIndex:n+u}))})),m()(d()(r),"_cellRendererTopRightGrid",(function(t){var e=t.columnIndex,n=x()(t,["columnIndex"]),o=r.props,i=o.cellRenderer,a=o.columnCount,l=o.fixedColumnCount;return e===a-l?v.createElement("div",{key:n.key,style:Jt({},n.style,{width:20})}):i(Jt({},n,{columnIndex:e+l,parent:d()(r)}))})),m()(d()(r),"_columnWidthRightGrid",(function(t){var e=t.index,n=r.props,o=n.columnCount,i=n.fixedColumnCount,a=n.columnWidth,l=r.state,u=l.scrollbarSize;return l.showHorizontalScrollbar&&e===o-i?u:"function"==typeof a?a({index:e+i}):a})),m()(d()(r),"_onScroll",(function(t){var e=t.scrollLeft,n=t.scrollTop;r.setState({scrollLeft:e,scrollTop:n});var o=r.props.onScroll;o&&o(t)})),m()(d()(r),"_onScrollbarPresenceChange",(function(t){var e=t.horizontal,n=t.size,o=t.vertical,i=r.state,a=i.showHorizontalScrollbar,l=i.showVerticalScrollbar;if(e!==a||o!==l){r.setState({scrollbarSize:n,showHorizontalScrollbar:e,showVerticalScrollbar:o});var u=r.props.onScrollbarPresenceChange;"function"==typeof u&&u({horizontal:e,size:n,vertical:o})}})),m()(d()(r),"_onScrollLeft",(function(t){var e=t.scrollLeft;r._onScroll({scrollLeft:e,scrollTop:r.state.scrollTop})})),m()(d()(r),"_onScrollTop",(function(t){var e=t.scrollTop;r._onScroll({scrollTop:e,scrollLeft:r.state.scrollLeft})})),m()(d()(r),"_rowHeightBottomGrid",(function(t){var e=t.index,n=r.props,o=n.fixedRowCount,i=n.rowCount,a=n.rowHeight,l=r.state,u=l.scrollbarSize;return l.showVerticalScrollbar&&e===i-o?u:"function"==typeof a?a({index:e+o}):a})),m()(d()(r),"_topLeftGridRef",(function(t){r._topLeftGrid=t})),m()(d()(r),"_topRightGridRef",(function(t){r._topRightGrid=t}));var i=t.deferredMeasurementCache,a=t.fixedColumnCount,l=t.fixedRowCount;return r._maybeCalculateCachedStyles(!0),i&&(r._deferredMeasurementCacheBottomLeftGrid=l>0?new Xt({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:l}):i,r._deferredMeasurementCacheBottomRightGrid=a>0||l>0?new Xt({cellMeasurerCache:i,columnIndexOffset:a,rowIndexOffset:l}):i,r._deferredMeasurementCacheTopRightGrid=a>0?new Xt({cellMeasurerCache:i,columnIndexOffset:a,rowIndexOffset:0}):i),r}return p()(e,t),a()(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r,i=this.props,a=i.fixedColumnCount,l=i.fixedRowCount,u=Math.max(0,n-a),c=Math.max(0,o-l);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:c}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:u,rowIndex:c}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:u,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.scrollLeft,n=t.scrollTop;if(e>0||n>0){var r={};e>0&&(r.scrollLeft=e),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var t=this.props,e=t.onScroll,n=t.onSectionRendered,r=(t.onScrollbarPresenceChange,t.scrollLeft,t.scrollToColumn),o=(t.scrollTop,t.scrollToRow),i=x()(t,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var a=this.state,l=a.scrollLeft,u=a.scrollTop;return v.createElement("div",{style:this._containerOuterStyle},v.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(i),this._renderTopRightGrid(Jt({},i,{onScroll:e,scrollLeft:l}))),v.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Jt({},i,{onScroll:e,scrollTop:u})),this._renderBottomRightGrid(Jt({},i,{onScroll:e,onSectionRendered:n,scrollLeft:l,scrollToColumn:r,scrollToRow:o,scrollTop:u}))))}},{key:"_getBottomGridHeight",value:function(t){return t.height-this._getTopGridHeight(t)}},{key:"_getLeftGridWidth",value:function(t){var e=t.fixedColumnCount,n=t.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,o=0;o<e;o++)r+=n({index:o});this._leftGridWidth=r}else this._leftGridWidth=n*e;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(t){return t.width-this._getLeftGridWidth(t)}},{key:"_getTopGridHeight",value:function(t){var e=t.fixedRowCount,n=t.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,o=0;o<e;o++)r+=n({index:o});this._topGridHeight=r}else this._topGridHeight=n*e;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(t){var e=this.props,n=e.columnWidth,r=e.enableFixedColumnScroll,o=e.enableFixedRowScroll,i=e.height,a=e.fixedColumnCount,l=e.fixedRowCount,u=e.rowHeight,c=e.style,s=e.styleBottomLeftGrid,f=e.styleBottomRightGrid,d=e.styleTopLeftGrid,h=e.styleTopRightGrid,p=e.width,y=t||i!==this._lastRenderedHeight||p!==this._lastRenderedWidth,m=t||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,v=t||l!==this._lastRenderedFixedRowCount||u!==this._lastRenderedRowHeight;(t||y||c!==this._lastRenderedStyle)&&(this._containerOuterStyle=Jt({height:i,overflow:"visible",width:p},c)),(t||y||v)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:p},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:p}),(t||s!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Jt({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},s)),(t||m||f!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Jt({left:this._getLeftGridWidth(this.props),position:"absolute"},f)),(t||d!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Jt({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},d)),(t||m||h!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Jt({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},h)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=l,this._lastRenderedHeight=i,this._lastRenderedRowHeight=u,this._lastRenderedStyle=c,this._lastRenderedStyleBottomLeftGrid=s,this._lastRenderedStyleBottomRightGrid=f,this._lastRenderedStyleTopLeftGrid=d,this._lastRenderedStyleTopRightGrid=h,this._lastRenderedWidth=p}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(t){var e=t.enableFixedColumnScroll,n=t.fixedColumnCount,r=t.fixedRowCount,o=t.rowCount,i=t.hideBottomLeftGridScrollbar,a=this.state.showVerticalScrollbar;if(!n)return null;var l=a?1:0,u=this._getBottomGridHeight(t),c=this._getLeftGridWidth(t),s=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,f=i?c+s:c,d=v.createElement(W,w()({},t,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:u,onScroll:e?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,o-r)+l,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:f}));return i?v.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Jt({},this._bottomLeftGridStyle,{height:u,width:c,overflowY:"hidden"})},d):d}},{key:"_renderBottomRightGrid",value:function(t){var e=t.columnCount,n=t.fixedColumnCount,r=t.fixedRowCount,o=t.rowCount,i=t.scrollToColumn,a=t.scrollToRow;return v.createElement(W,w()({},t,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,e-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(t),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,o-r),rowHeight:this._rowHeightBottomGrid,scrollToColumn:i-n,scrollToRow:a-r,style:this._bottomRightGridStyle,width:this._getRightGridWidth(t)}))}},{key:"_renderTopLeftGrid",value:function(t){var e=t.fixedColumnCount,n=t.fixedRowCount;return e&&n?v.createElement(W,w()({},t,{className:this.props.classNameTopLeftGrid,columnCount:e,height:this._getTopGridHeight(t),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(t)})):null}},{key:"_renderTopRightGrid",value:function(t){var e=t.columnCount,n=t.enableFixedRowScroll,r=t.fixedColumnCount,o=t.fixedRowCount,i=t.scrollLeft,a=t.hideTopRightGridScrollbar,l=this.state,u=l.showHorizontalScrollbar,c=l.scrollbarSize;if(!o)return null;var s=u?1:0,f=this._getTopGridHeight(t),d=this._getRightGridWidth(t),h=u?c:0,p=f,y=this._topRightGridStyle;a&&(p=f+h,y=Jt({},this._topRightGridStyle,{left:0}));var m=v.createElement(W,w()({},t,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,e-r)+s,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:p,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:o,scrollLeft:i,style:y,tabIndex:null,width:d}));return a?v.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Jt({},this._topRightGridStyle,{height:f,width:d,overflowX:"hidden"})},m):m}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft&&t.scrollLeft>=0?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop&&t.scrollTop>=0?t.scrollTop:e.scrollTop}:null}}]),e}(v.PureComponent);m()(te,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),te.propTypes={},Object(b.polyfill)(te);var ee=function(t){function e(t,n){var r;return o()(this,e),(r=u()(this,s()(e).call(this,t,n))).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(d()(r)),r}return p()(e,t),a()(e,[{key:"render",value:function(){var t=this.props.children,e=this.state,n=e.clientHeight,r=e.clientWidth,o=e.scrollHeight,i=e.scrollLeft,a=e.scrollTop,l=e.scrollWidth;return t({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:l})}},{key:"_onScroll",value:function(t){var e=t.clientHeight,n=t.clientWidth,r=t.scrollHeight,o=t.scrollLeft,i=t.scrollTop,a=t.scrollWidth;this.setState({clientHeight:e,clientWidth:n,scrollHeight:r,scrollLeft:o,scrollTop:i,scrollWidth:a})}}]),e}(v.PureComponent);ee.propTypes={};function ne(t){var e=t.className,n=t.columns,r=t.style;return v.createElement("div",{className:e,role:"row",style:r},n)}ne.propTypes=null;var re={ASC:"ASC",DESC:"DESC"};function oe(t){var e=t.sortDirection,n=Object(S.default)("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===re.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===re.DESC});return v.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},e===re.ASC?v.createElement("path",{d:"M7 14l5-5 5 5z"}):v.createElement("path",{d:"M7 10l5 5 5-5z"}),v.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function ie(t){var e=t.dataKey,n=t.label,r=t.sortBy,o=t.sortDirection,i=r===e,a=[v.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"==typeof n?n:null},n)];return i&&a.push(v.createElement(oe,{key:"SortIndicator",sortDirection:o})),a}function ae(t){var e=t.className,n=t.columns,r=t.index,o=t.key,i=t.onRowClick,a=t.onRowDoubleClick,l=t.onRowMouseOut,u=t.onRowMouseOver,c=t.onRowRightClick,s=t.rowData,f=t.style,d={"aria-rowindex":r+1};return(i||a||l||u||c)&&(d["aria-label"]="row",d.tabIndex=0,i&&(d.onClick=function(t){return i({event:t,index:r,rowData:s})}),a&&(d.onDoubleClick=function(t){return a({event:t,index:r,rowData:s})}),l&&(d.onMouseOut=function(t){return l({event:t,index:r,rowData:s})}),u&&(d.onMouseOver=function(t){return u({event:t,index:r,rowData:s})}),c&&(d.onContextMenu=function(t){return c({event:t,index:r,rowData:s})})),v.createElement("div",w()({},d,{className:e,key:o,role:"row",style:f}),n)}oe.propTypes={},ie.propTypes=null,ae.propTypes=null;var le=function(t){function e(){return o()(this,e),u()(this,s()(e).apply(this,arguments))}return p()(e,t),e}(v.Component);function ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ue(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ue(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}m()(le,"defaultProps",{cellDataGetter:function(t){var e=t.dataKey,n=t.rowData;return"function"==typeof n.get?n.get(e):n[e]},cellRenderer:function(t){var e=t.cellData;return null==e?"":String(e)},defaultSortDirection:re.ASC,flexGrow:0,flexShrink:1,headerRenderer:ie,style:{}}),le.propTypes={};var se=function(t){function e(t){var n;return o()(this,e),(n=u()(this,s()(e).call(this,t))).state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(d()(n)),n._createRow=n._createRow.bind(d()(n)),n._onScroll=n._onScroll.bind(d()(n)),n._onSectionRendered=n._onSectionRendered.bind(d()(n)),n._setRef=n._setRef.bind(d()(n)),n}return p()(e,t),a()(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(t){var e=t.alignment,n=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t})}},{key:"scrollToPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var t=Object(it.findDOMNode)(this.Grid),e=t.clientWidth||0;return(t.offsetWidth||0)-e}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,o=e.disableHeader,i=e.gridClassName,a=e.gridStyle,l=e.headerHeight,u=e.headerRowRenderer,c=e.height,s=e.id,f=e.noRowsRenderer,d=e.rowClassName,h=e.rowStyle,p=e.scrollToIndex,y=e.style,m=e.width,b=this.state.scrollbarWidth,g=o?c:c-l,O="function"==typeof d?d({index:-1}):d,E="function"==typeof h?h({index:-1}):h;return this._cachedColumnStyles=[],v.Children.toArray(n).forEach((function(e,n){var r=t._getFlexStyleForColumn(e,e.props.style);t._cachedColumnStyles[n]=ce({overflow:"hidden"},r)})),v.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":v.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:Object(S.default)("ReactVirtualized__Table",r),id:s,role:"grid",style:y},!o&&u({className:Object(S.default)("ReactVirtualized__Table__headerRow",O),columns:this._getHeaderColumns(),style:ce({height:l,overflow:"hidden",paddingRight:b,width:m},E)}),v.createElement(W,w()({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:Object(S.default)("ReactVirtualized__Table__Grid",i),cellRenderer:this._createRow,columnWidth:m,columnCount:1,height:g,id:void 0,noContentRenderer:f,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:b,scrollToRow:p,style:ce({},a,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(t){var e=t.column,n=t.columnIndex,r=t.isScrolling,o=t.parent,i=t.rowData,a=t.rowIndex,l=this.props.onColumnClick,u=e.props,c=u.cellDataGetter,s=u.cellRenderer,f=u.className,d=u.columnData,h=u.dataKey,p=u.id,y=s({cellData:c({columnData:d,dataKey:h,rowData:i}),columnData:d,columnIndex:n,dataKey:h,isScrolling:r,parent:o,rowData:i,rowIndex:a}),m=this._cachedColumnStyles[n],b="string"==typeof y?y:null;return v.createElement("div",{"aria-colindex":n+1,"aria-describedby":p,className:Object(S.default)("ReactVirtualized__Table__rowColumn",f),key:"Row"+a+"-Col"+n,onClick:function(t){l&&l({columnData:d,dataKey:h,event:t})},role:"gridcell",style:m,title:b},y)}},{key:"_createHeader",value:function(t){var e,n,r,o,i,a=t.column,l=t.index,u=this.props,c=u.headerClassName,s=u.headerStyle,f=u.onHeaderClick,d=u.sort,h=u.sortBy,p=u.sortDirection,y=a.props,m=y.columnData,b=y.dataKey,g=y.defaultSortDirection,w=y.disableSort,O=y.headerRenderer,E=y.id,x=y.label,_=!w&&d,C=Object(S.default)("ReactVirtualized__Table__headerColumn",c,a.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:_}),j=this._getFlexStyleForColumn(a,ce({},s,{},a.props.headerStyle)),A=O({columnData:m,dataKey:b,disableSort:w,label:x,sortBy:h,sortDirection:p});if(_||f){var T=h!==b?g:p===re.DESC?re.ASC:re.DESC,k=function(t){_&&d({defaultSortDirection:g,event:t,sortBy:b,sortDirection:T}),f&&f({columnData:m,dataKey:b,event:t})};i=a.props["aria-label"]||x||b,o="none",r=0,e=k,n=function(t){"Enter"!==t.key&&" "!==t.key||k(t)}}return h===b&&(o=p===re.ASC?"ascending":"descending"),v.createElement("div",{"aria-label":i,"aria-sort":o,className:C,id:E,key:"Header-Col"+l,onClick:e,onKeyDown:n,role:"columnheader",style:j,tabIndex:r},A)}},{key:"_createRow",value:function(t){var e=this,n=t.rowIndex,r=t.isScrolling,o=t.key,i=t.parent,a=t.style,l=this.props,u=l.children,c=l.onRowClick,s=l.onRowDoubleClick,f=l.onRowRightClick,d=l.onRowMouseOver,h=l.onRowMouseOut,p=l.rowClassName,y=l.rowGetter,m=l.rowRenderer,b=l.rowStyle,g=this.state.scrollbarWidth,w="function"==typeof p?p({index:n}):p,O="function"==typeof b?b({index:n}):b,E=y({index:n}),x=v.Children.toArray(u).map((function(t,o){return e._createColumn({column:t,columnIndex:o,isScrolling:r,parent:i,rowData:E,rowIndex:n,scrollbarWidth:g})})),_=Object(S.default)("ReactVirtualized__Table__row",w),C=ce({},a,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:g},O);return m({className:_,columns:x,index:n,isScrolling:r,key:o,onRowClick:c,onRowDoubleClick:s,onRowRightClick:f,onRowMouseOver:d,onRowMouseOut:h,rowData:E,style:C})}},{key:"_getFlexStyleForColumn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(t.props.flexGrow," ").concat(t.props.flexShrink," ").concat(t.props.width,"px"),r=ce({},e,{flex:n,msFlex:n,WebkitFlex:n});return t.props.maxWidth&&(r.maxWidth=t.props.maxWidth),t.props.minWidth&&(r.minWidth=t.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var t=this,e=this.props,n=e.children;return(e.disableHeader?[]:v.Children.toArray(n)).map((function(e,n){return t._createHeader({column:e,index:n})}))}},{key:"_getRowHeight",value:function(t){var e=this.props.rowHeight;return"function"==typeof e?e({index:t}):e}},{key:"_onScroll",value:function(t){var e=t.clientHeight,n=t.scrollHeight,r=t.scrollTop;(0,this.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,r=t.rowStartIndex,o=t.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:r,stopIndex:o})}},{key:"_setRef",value:function(t){this.Grid=t}},{key:"_setScrollbarWidth",value:function(){var t=this.getScrollbarWidth();this.setState({scrollbarWidth:t})}}]),e}(v.PureComponent);m()(se,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:V,overscanRowCount:10,rowRenderer:ae,headerRowRenderer:ne,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),se.propTypes={};var fe=[],de=null,he=null;function pe(){he&&(he=null,document.body&&null!=de&&(document.body.style.pointerEvents=de),de=null)}function ye(){pe(),fe.forEach((function(t){return t.__resetIsScrolling()}))}function me(t){t.currentTarget===window&&null==de&&document.body&&(de=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){he&&q(he);var t=0;fe.forEach((function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)})),he=z(ye,t)}(),fe.forEach((function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()}))}function ve(t,e){fe.some((function(t){return t.props.scrollElement===e}))||e.addEventListener("scroll",me),fe.push(t)}function be(t,e){(fe=fe.filter((function(e){return e!==t}))).length||(e.removeEventListener("scroll",me),he&&(q(he),pe()))}var ge,we,Se=function(t){return t===window},Oe=function(t){return t.getBoundingClientRect()};function Ee(t,e){if(t){if(Se(t)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof o?o:0}}return Oe(t)}return{height:e.serverHeight,width:e.serverWidth}}function xe(t,e){if(Se(e)&&document.documentElement){var n=document.documentElement,r=Oe(t),o=Oe(n);return{top:r.top-o.top,left:r.left-o.left}}var i=_e(e),a=Oe(t),l=Oe(e);return{top:a.top+i.top-l.top,left:a.left+i.left-l.left}}function _e(t){return Se(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}function Ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(n,!0).forEach((function(e){m()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ae=function(){return"undefined"!=typeof window?window:void 0},Te=(we=ge=function(t){function e(){var t,n;o()(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u()(this,(t=s()(e)).call.apply(t,[this].concat(i))),m()(d()(n),"_window",Ae()),m()(d()(n),"_isMounted",!1),m()(d()(n),"_positionFromTop",0),m()(d()(n),"_positionFromLeft",0),m()(d()(n),"_detectElementResize",void 0),m()(d()(n),"_child",void 0),m()(d()(n),"state",je({},Ee(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),m()(d()(n),"_registerChild",(function(t){!t||t instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=t,n.updatePosition()})),m()(d()(n),"_onChildScroll",(function(t){var e=t.scrollTop;if(n.state.scrollTop!==e){var r=n.props.scrollElement;r&&("function"==typeof r.scrollTo?r.scrollTo(0,e+n._positionFromTop):r.scrollTop=e+n._positionFromTop)}})),m()(d()(n),"_registerResizeListener",(function(t){t===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(t,n._onResize)})),m()(d()(n),"_unregisterResizeListener",(function(t){t===window?window.removeEventListener("resize",n._onResize,!1):t&&n._detectElementResize.removeResizeListener(t,n._onResize)})),m()(d()(n),"_onResize",(function(){n.updatePosition()})),m()(d()(n),"__handleWindowScrollEvent",(function(){if(n._isMounted){var t=n.props.onScroll,e=n.props.scrollElement;if(e){var r=_e(e),o=Math.max(0,r.left-n._positionFromLeft),i=Math.max(0,r.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),t({scrollLeft:o,scrollTop:i})}}})),m()(d()(n),"__resetIsScrolling",(function(){n.setState({isScrolling:!1})})),n}return p()(e,t),a()(e,[{key:"updatePosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,e=this.props.onResize,n=this.state,r=n.height,o=n.width,i=this._child||it.findDOMNode(this);if(i instanceof Element&&t){var a=xe(i,t);this._positionFromTop=a.top,this._positionFromLeft=a.left}var l=Ee(t,this.props);r===l.height&&o===l.width||(this.setState({height:l.height,width:l.width}),e({height:l.height,width:l.width}))}},{key:"componentDidMount",value:function(){var t=this.props.scrollElement;this._detectElementResize=Object(J.a)(),this.updatePosition(t),t&&(ve(this,t),this._registerResizeListener(t)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(t,e){var n=this.props.scrollElement,r=t.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),be(this,r),ve(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var t=this.props.scrollElement;t&&(be(this,t),this._unregisterResizeListener(t)),this._isMounted=!1}},{key:"render",value:function(){var t=this.props.children,e=this.state,n=e.isScrolling,r=e.scrollTop,o=e.scrollLeft,i=e.height,a=e.width;return t({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:n,scrollLeft:o,scrollTop:r,width:a})}}]),e}(v.PureComponent),m()(ge,"propTypes",null),we);m()(Te,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:Ae(),serverHeight:0,serverWidth:0})},1530:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1535:function(t,e,n){var r=n(1536),o=n(633),i=/[&<>"']/g,a=RegExp(i.source);t.exports=function(t){return(t=o(t))&&a.test(t)?t.replace(i,r):t}},1536:function(t,e,n){var r=n(1537)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=r},1537:function(t,e){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},1538:function(t,e){function n(t,e,h,p,y){if(t===e)return t?[[0,t]]:[];if(null!=h){var m=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,i=t.length,a=e.length;if(0===r.length&&(null===o||0===o.length)){var l=r.index,u=t.slice(0,l),c=t.slice(l),s=o?o.index:null,f=l+a-i;if((null===s||s===f)&&!(f<0||f>a)){var d=e.slice(0,f);if((w=e.slice(f))===c){var h=Math.min(l,f),p=u.slice(0,h),y=d.slice(0,h);if(p===y){var m=u.slice(h),b=d.slice(h);return v(p,m,b,c)}}}if(null===s||s===l){var g=l,w=(d=e.slice(0,g),e.slice(g));if(d===u){var S=Math.min(i-g,a-g),O=c.slice(c.length-S),E=w.slice(w.length-S);if(O===E){m=c.slice(0,c.length-S),b=w.slice(0,w.length-S);return v(u,m,b,O)}}}}if(r.length>0&&o&&0===o.length){p=t.slice(0,r.index),O=t.slice(r.index+r.length),h=p.length,S=O.length;if(!(a<h+S)){y=e.slice(0,h),E=e.slice(a-S);if(p===y&&O===E){m=t.slice(h,i-S),b=e.slice(h,a-S);return v(p,m,b,O)}}}return null}(t,e,h);if(m)return m}var b=o(t,e),g=t.substring(0,b);b=a(t=t.substring(b),e=e.substring(b));var w=t.substring(t.length-b),S=function(t,e){var i;if(!t)return[[1,e]];if(!e)return[[-1,t]];var l=t.length>e.length?t:e,u=t.length>e.length?e:t,c=l.indexOf(u);if(-1!==c)return i=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],t.length>e.length&&(i[0][0]=i[2][0]=-1),i;if(1===u.length)return[[-1,t],[1,e]];var s=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function i(t,e,n){for(var r,i,l,u,c=t.substring(n,n+Math.floor(t.length/4)),s=-1,f="";-1!==(s=e.indexOf(c,s+1));){var d=o(t.substring(n),e.substring(s)),h=a(t.substring(0,n),e.substring(0,s));f.length<h+d&&(f=e.substring(s-h,s)+e.substring(s,s+d),r=t.substring(0,n-h),i=t.substring(n+d),l=e.substring(0,s-h),u=e.substring(s+d))}return 2*f.length>=t.length?[r,i,l,u,f]:null}var l,u,c,s,f,d=i(n,r,Math.ceil(n.length/4)),h=i(n,r,Math.ceil(n.length/2));if(!d&&!h)return null;l=h?d&&d[4].length>h[4].length?d:h:d;t.length>e.length?(u=l[0],c=l[1],s=l[2],f=l[3]):(s=l[0],f=l[1],u=l[2],c=l[3]);var p=l[4];return[u,c,s,f,p]}(t,e);if(s){var f=s[0],d=s[1],h=s[2],p=s[3],y=s[4],m=n(f,h),v=n(d,p);return m.concat([[0,y]],v)}return function(t,e){for(var n=t.length,o=e.length,i=Math.ceil((n+o)/2),a=i,l=2*i,u=new Array(l),c=new Array(l),s=0;s<l;s++)u[s]=-1,c[s]=-1;u[a+1]=0,c[a+1]=0;for(var f=n-o,d=f%2!=0,h=0,p=0,y=0,m=0,v=0;v<i;v++){for(var b=-v+h;b<=v-p;b+=2){for(var g=a+b,w=(_=b===-v||b!==v&&u[g-1]<u[g+1]?u[g+1]:u[g-1]+1)-b;_<n&&w<o&&t.charAt(_)===e.charAt(w);)_++,w++;if(u[g]=_,_>n)p+=2;else if(w>o)h+=2;else if(d){if((E=a+f-b)>=0&&E<l&&-1!==c[E]){var S=n-c[E];if(_>=S)return r(t,e,_,w)}}}for(var O=-v+y;O<=v-m;O+=2){for(var E=a+O,x=(S=O===-v||O!==v&&c[E-1]<c[E+1]?c[E+1]:c[E-1]+1)-O;S<n&&x<o&&t.charAt(n-S-1)===e.charAt(o-x-1);)S++,x++;if(c[E]=S,S>n)m+=2;else if(x>o)y+=2;else if(!d){if((g=a+f-O)>=0&&g<l&&-1!==u[g]){var _=u[g];w=a+_-g;if(_>=(S=n-S))return r(t,e,_,w)}}}}return[[-1,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-b),e=e.substring(0,e.length-b));return g&&S.unshift([0,g]),w&&S.push([0,w]),d(S,y),p&&function(t){var e=!1,n=[],r=0,o=null,h=0,p=0,y=0,m=0,v=0;for(;h<t.length;)0==t[h][0]?(n[r++]=h,p=m,y=v,m=0,v=0,o=t[h][1]):(1==t[h][0]?m+=t[h][1].length:v+=t[h][1].length,o&&o.length<=Math.max(p,y)&&o.length<=Math.max(m,v)&&(t.splice(n[r-1],0,[-1,o]),t[n[r-1]+1][0]=1,r--,r--,h=r>0?n[r-1]:-1,p=0,y=0,m=0,v=0,o=null,e=!0)),h++;e&&d(t);(function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),r=e.charAt(0),o=n.match(l),i=r.match(l),a=o&&n.match(u),d=i&&r.match(u),h=a&&n.match(c),p=d&&r.match(c),y=h&&t.match(s),m=p&&e.match(f);return y||m?5:h||p?4:o&&!a&&d?3:a||d?2:o||i?1:0}var n=1;for(;n<t.length-1;){if(0==t[n-1][0]&&0==t[n+1][0]){var r=t[n-1][1],o=t[n][1],i=t[n+1][1],d=a(r,o);if(d){var h=o.substring(o.length-d);r=r.substring(0,r.length-d),o=h+o.substring(0,o.length-d),i=h+i}for(var p=r,y=o,m=i,v=e(r,o)+e(o,i);o.charAt(0)===i.charAt(0);){r+=o.charAt(0),o=o.substring(1)+i.charAt(0),i=i.substring(1);var b=e(r,o)+e(o,i);b>=v&&(v=b,p=r,y=o,m=i)}t[n-1][1]!=p&&(p?t[n-1][1]=p:(t.splice(n-1,1),n--),t[n][1]=y,m?t[n+1][1]=m:(t.splice(n+1,1),n--))}n++}})(t),h=1;for(;h<t.length;){if(-1==t[h-1][0]&&1==t[h][0]){var b=t[h-1][1],g=t[h][1],w=i(b,g),S=i(g,b);w>=S?(w>=b.length/2||w>=g.length/2)&&(t.splice(h,0,[0,g.substring(0,w)]),t[h-1][1]=b.substring(0,b.length-w),t[h+1][1]=g.substring(w),h++):(S>=b.length/2||S>=g.length/2)&&(t.splice(h,0,[0,b.substring(0,S)]),t[h-1][0]=1,t[h-1][1]=g.substring(0,g.length-S),t[h+1][0]=-1,t[h+1][1]=b.substring(S),h++),h++}h++}}(S),S}function r(t,e,r,o){var i=t.substring(0,r),a=e.substring(0,o),l=t.substring(r),u=e.substring(o),c=n(i,a),s=n(l,u);return c.concat(s)}function o(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return h(t.charCodeAt(o-1))&&o--,o}function i(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var o=Math.min(n,r);if(t==e)return o;for(var i=0,a=1;;){var l=t.substring(o-a),u=e.indexOf(l);if(-1==u)return i;a+=u,0!=u&&t.substring(o-a)!=e.substring(0,a)||(i=a,a++)}}function a(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return p(t.charCodeAt(t.length-o))&&o--,o}var l=/[^a-zA-Z0-9]/,u=/\s/,c=/[\r\n]/,s=/\n\r?\n$/,f=/^\r?\n\r?\n/;function d(t,e){t.push([0,""]);for(var n,r=0,i=0,l=0,u="",c="";r<t.length;)if(r<t.length-1&&!t[r][1])t.splice(r,1);else switch(t[r][0]){case 1:l++,c+=t[r][1],r++;break;case-1:i++,u+=t[r][1],r++;break;case 0:var s=r-l-i-1;if(e){if(s>=0&&m(t[s][1])){var f=t[s][1].slice(-1);if(t[s][1]=t[s][1].slice(0,-1),u=f+u,c=f+c,!t[s][1]){t.splice(s,1),r--;var h=s-1;t[h]&&1===t[h][0]&&(l++,c=t[h][1]+c,h--),t[h]&&-1===t[h][0]&&(i++,u=t[h][1]+u,h--),s=h}}if(y(t[r][1])){f=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),u+=f,c+=f}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(u.length>0||c.length>0){u.length>0&&c.length>0&&(0!==(n=o(c,u))&&(s>=0?t[s][1]+=c.substring(0,n):(t.splice(0,0,[0,c.substring(0,n)]),r++),c=c.substring(n),u=u.substring(n)),0!==(n=a(c,u))&&(t[r][1]=c.substring(c.length-n)+t[r][1],c=c.substring(0,c.length-n),u=u.substring(0,u.length-n)));var p=l+i;0===u.length&&0===c.length?(t.splice(r-p,p),r-=p):0===u.length?(t.splice(r-p,p,[1,c]),r=r-p+1):0===c.length?(t.splice(r-p,p,[-1,u]),r=r-p+1):(t.splice(r-p,p,[-1,u],[1,c]),r=r-p+2)}0!==r&&0===t[r-1][0]?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,l=0,i=0,u="",c=""}""===t[t.length-1][1]&&t.pop();var v=!1;for(r=1;r<t.length-1;)0===t[r-1][0]&&0===t[r+1][0]&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),v=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),v=!0)),r++;v&&d(t,e)}function h(t){return t>=55296&&t<=56319}function p(t){return t>=56320&&t<=57343}function y(t){return p(t.charCodeAt(0))}function m(t){return h(t.charCodeAt(t.length-1))}function v(t,e,n,r){return m(t)||y(r)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[0,t],[-1,e],[1,n],[0,r]])}function b(t,e,r,o){return n(t,e,r,o,!0)}b.INSERT=1,b.DELETE=-1,b.EQUAL=0,t.exports=b},1539:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1486),o=n(1487);var i;!function(t){t.compose=function(t={},e={},n=!1){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});let o=r(e);n||(o=Object.keys(o).reduce((t,e)=>(null!=o[e]&&(t[e]=o[e]),t),{}));for(const n in t)void 0!==t[n]&&void 0===e[n]&&(o[n]=t[n]);return Object.keys(o).length>0?o:void 0},t.diff=function(t={},e={}){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});const n=Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(o(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n),{});return Object.keys(n).length>0?n:void 0},t.invert=function(t={},e={}){t=t||{};const n=Object.keys(e).reduce((n,r)=>(e[r]!==t[r]&&void 0!==t[r]&&(n[r]=e[r]),n),{});return Object.keys(t).reduce((n,r)=>(t[r]!==e[r]&&void 0===e[r]&&(n[r]=null),n),n)},t.transform=function(t,e,n=!1){if("object"!=typeof t)return e;if("object"!=typeof e)return;if(!n)return e;const r=Object.keys(e).reduce((n,r)=>(void 0===t[r]&&(n[r]=e[r]),n),{});return Object.keys(r).length>0?r:void 0}}(i||(i={})),e.default=i},1540:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1488);e.default=class{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const e=this.ops[this.index];if(e){const n=this.offset,o=r.default.length(e);if(t>=o-n?(t=o-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};{const r={};return e.attributes&&(r.attributes=e.attributes),"number"==typeof e.retain?r.retain=t:"object"==typeof e.retain&&null!==e.retain?r.retain=e.retain:"string"==typeof e.insert?r.insert=e.insert.substr(n,t):r.insert=e.insert,r}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?"number"==typeof t.delete?"delete":"number"==typeof t.retain||"object"==typeof t.retain&&null!==t.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}}return[]}}},1541:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function l(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var l=new a(n,r||t,i),u=o?o+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],l]:t._events[u].push(l):(t._events[u]=l,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,i,a){var l=o?o+t:t;if(!this._events[l])return!1;var u,c,s=this._events[l],f=arguments.length;if(s.fn){switch(s.once&&this.removeListener(t,s.fn,void 0,!0),f){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,e),!0;case 3:return s.fn.call(s.context,e,n),!0;case 4:return s.fn.call(s.context,e,n,r),!0;case 5:return s.fn.call(s.context,e,n,r,i),!0;case 6:return s.fn.call(s.context,e,n,r,i,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];s.fn.apply(s.context,u)}else{var d,h=s.length;for(c=0;c<h;c++)switch(s[c].once&&this.removeListener(t,s[c].fn,void 0,!0),f){case 1:s[c].fn.call(s[c].context);break;case 2:s[c].fn.call(s[c].context,e);break;case 3:s[c].fn.call(s[c].context,e,n);break;case 4:s[c].fn.call(s[c].context,e,n,r);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];s[c].fn.apply(s[c].context,u)}}return!0},c.prototype.on=function(t,e,n){return l(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return l(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||u(this,i);else{for(var l=0,c=[],s=a.length;l<s;l++)(a[l].fn!==e||r&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[i]=1===c.length?c[0]:c:u(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&u(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},1542:function(t,e,n){"use strict";var r,o=n(55),i=n(69),a=n(385),l=n(479),u=n(484),c=n(1543),s=n(101),f=n(632),d=n(147).enforce,h=n(630),p=!o.ActiveXObject&&"ActiveXObject"in o,y=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},m=u("WeakMap",y,c);if(h&&p){r=c.getConstructor(y,"WeakMap",!0),l.enable();var v=m.prototype,b=i(v.delete),g=i(v.has),w=i(v.get),S=i(v.set);a(v,{delete:function(t){if(s(t)&&!f(t)){var e=d(this);return e.frozen||(e.frozen=new r),b(this,t)||e.frozen.delete(t)}return b(this,t)},has:function(t){if(s(t)&&!f(t)){var e=d(this);return e.frozen||(e.frozen=new r),g(this,t)||e.frozen.has(t)}return g(this,t)},get:function(t){if(s(t)&&!f(t)){var e=d(this);return e.frozen||(e.frozen=new r),g(this,t)?w(this,t):e.frozen.get(t)}return w(this,t)},set:function(t,e){if(s(t)&&!f(t)){var n=d(this);n.frozen||(n.frozen=new r),g(this,t)?S(this,t,e):n.frozen.set(t,e)}else S(this,t,e);return this}})}},1543:function(t,e,n){"use strict";var r=n(69),o=n(385),i=n(479).getWeakData,a=n(100),l=n(101),u=n(210),c=n(269),s=n(126),f=n(96),d=n(147),h=d.set,p=d.getterFor,y=s.find,m=s.findIndex,v=r([].splice),b=0,g=function(t){return t.frozen||(t.frozen=new w)},w=function(){this.entries=[]},S=function(t,e){return y(t.entries,(function(t){return t[0]===e}))};w.prototype={get:function(t){var e=S(this,t);if(e)return e[1]},has:function(t){return!!S(this,t)},set:function(t,e){var n=S(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&v(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var s=t((function(t,o){u(t,d),h(t,{type:e,id:b++,frozen:void 0}),null!=o&&c(o,t[r],{that:t,AS_ENTRIES:n})})),d=s.prototype,y=p(e),m=function(t,e,n){var r=y(t),o=i(a(e),!0);return!0===o?g(r).set(e,n):o[r.id]=n,t};return o(d,{delete:function(t){var e=y(this);if(!l(t))return!1;var n=i(t);return!0===n?g(e).delete(t):n&&f(n,e.id)&&delete n[e.id]},has:function(t){var e=y(this);if(!l(t))return!1;var n=i(t);return!0===n?g(e).has(t):n&&f(n,e.id)}}),o(d,n?{get:function(t){var e=y(this);if(l(t)){var n=i(t);return!0===n?g(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),s}}},1544:function(t,e,n){var r=n(58),o=n(55),i=n(631),a=n(149),l=n(317),u=n(316),c=o.process;r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){l(arguments.length,1),a(t);var e=u&&c.domain;i(e?e.bind(t):t)}})},1545:function(t,e,n){},1546:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1547:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1548:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1549:function(t,e,n){},1550:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1551:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1552:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1553:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1554:function(t,e,n){"use strict";n(9),n(10),n(26),n(16),n(40),n(23),n(41),n(42),n(8),n(54);var r=n(0),o=n.n(r),i=n(6),a=n(3);function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return u(s,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,l=0,u=t,d.n=n,a}};function h(n,r){for(l=n,u=r,e=0;!f&&c&&!o&&e<s.length;e++){var o,i=s[e],h=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,p),l=s,u=p;(e=l<2?t:u)||!f;){i||(l?l<3?(l>1&&(d.n=-1),h(l,u)):d.n=u:d.v=u);try{if(c=2,i){if(l||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,l=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),s}var a={};function c(){}function s(){}function f(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(u(e={},r,(function(){return this})),e),h=f.prototype=c.prototype=Object.create(d);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,o,"GeneratorFunction")),t.prototype=Object.create(h),t}return s.prototype=f,u(h,"constructor",f),u(f,"constructor",s),s.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(h),u(h,o,"Generator"),u(h,r,(function(){return this})),u(h,"toString",(function(){return"[object Generator]"})),(l=function(){return{w:i,m:p}})()}function u(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(u=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){u(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}})(t,e,n,r)}function c(t,e,n,r,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(r,o)}e.a=function(t){var e=t.annotationId,n=t.addAttachments,r=Object(i.e)((function(t){return a.a.getReplyAttachmentHandler(t)})),u=function(){var t,o=(t=l().m((function t(o){var i,a,u;return l().w((function(t){for(;;)switch(t.n){case 0:if(!(i=o.target.files[0])){t.n=3;break}if(a=i,!r){t.n=2;break}return t.n=1,r(i);case 1:u=t.v,a={url:u,name:i.name,size:i.size,type:i.type};case 2:n(e,[a]);case 3:return t.a(2)}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,l,"next",t)}function l(t){c(i,r,o,a,l,"throw",t)}a(void 0)}))});return function(t){return o.apply(this,arguments)}}();return o.a.createElement("input",{id:"reply-attachment-picker",type:"file",style:{display:"none"},onChange:u,onClick:function(t){t.target.value=""}})}},1558:function(t,e,n){"use strict";n(9),n(10),n(14),n(31),n(36),n(27),n(21),n(20),n(12),n(43),n(22),n(95),n(146),n(32),n(18),n(26),n(16),n(29),n(40),n(47),n(23),n(46),n(48),n(41),n(37),n(42),n(8),n(85),n(54),n(17),n(19),n(116),n(11),n(30),n(13),n(94);var r=n(0),o=n.n(r),i=n(15),a=n.n(i),l=n(1),u=n.n(l),c=n(6),s=n(307),f=n(1448),d=(n(49),n(77),n(165),n(475),n(62),n(111),n(136),n(1484),n(1559)),h=n(105),p=n.n(h),y=n(319),m=n.n(y),v=n(211),b=n.n(v),g=n(1535),w=n.n(g),S=n(1473),O=(n(38),n(57),n(33)),E=n(3),x=n(5),_=n(2),C=(n(1547),n(97));function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==j(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var N=function(t,e,n){return{icon:e,label:"action.".concat(t.toLowerCase()),title:"action.".concat(t.toLowerCase()),option:t,dataElement:n}},I=[N("Edit","","notePopupEdit"),N("Delete","","notePopupDelete")],M={handleEdit:u.a.func,handleDelete:u.a.func,isEditable:u.a.bool,isDeletable:u.a.bool,noteId:u.a.string};function L(){}function D(t){var e=t.handleEdit,n=void 0===e?L:e,r=t.handleDelete,i=void 0===r?L:r,l=t.isEditable,u=t.isDeletable,f=t.isReply,d=t.noteId,h=Object(c.e)((function(t){var e;return null===(e=E.a.getFeatureFlags(t))||void 0===e?void 0:e.customizableUI})),p="".concat(x.a.NOTE_POPUP_FLYOUT,"-").concat(d),y=P(Object(s.a)(),1)[0];if(!l&&!u)return null;var m=a()("overflow note-popup-toggle-trigger"),v=a()("NotePopup options note-popup-options",{"options-reply":f,"modular-ui":h});return o.a.createElement("div",{className:v},o.a.createElement(C.a,{dataElement:"notePopup-".concat(d),className:m,img:"icon-tools-more",title:y("formField.formFieldPopup.options"),toggleElement:p,disabled:!1}),o.a.createElement(q,{flyoutSelector:p,handleClick:function(t){"Edit"===t?n():"Delete"===t&&i()},isEditable:l,isDeletable:u}))}var q=function(t){var e=t.flyoutSelector,n=t.handleClick,o=t.isEditable,i=t.isDeletable,a=Object(c.d)(),l=Object(c.e)((function(t){return E.a.getFlyout(t,e)})),u=P(Object(s.a)(),1)[0];return Object(r.useLayoutEffect)((function(){var t=I;o?i||(t=t.filter((function(t){return"Delete"!==t.option}))):t=t.filter((function(t){return"Edit"!==t.option}));var r={dataElement:e,className:"NotePopupFlyout",items:t.map((function(t){return T(T({},t),{},{label:u(t.label),title:u(t.title),onClick:function(){return n(t.option)}})}))};a(l?_.a.updateFlyout(r.dataElement,r):_.a.addFlyout(r))}),[o,i]),null};q.propTypes={flyoutSelector:u.a.string,handleClick:u.a.func,isEditable:u.a.bool,isDeletable:u.a.bool},D.propTypes=M;var z=D;function B(){return(B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function F(t){return function(t){if(Array.isArray(t))return G(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||U(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||U(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){if(t){if("string"==typeof t)return G(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(t,e):void 0}}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var W=function(t){var e=H(Object(c.e)((function(t){return[E.a.getActiveDocumentViewerKey(t)]})),1)[0],n=t.annotation,r=t.setIsEditing,i=t.noteIndex,a=Object(O.a)().core,l=H(o.a.useState(a.canModify(n)),2),u=l[0],s=l[1],f=H(o.a.useState(a.canModifyContents(n)),2),d=f[0],h=f[1];o.a.useEffect((function(){function t(){s(a.canModify(n,e)),h(a.canModifyContents(n,e))}return t(),a.addEventListener("updateAnnotationPermission",t,void 0,e),function(){return a.removeEventListener("updateAnnotationPermission",t,e)}}),[n,e]);var p={handleEdit:o.a.useCallback((function(){n instanceof window.Core.Annotations.FreeTextAnnotation&&a.getAnnotationManager(e).isFreeTextEditingEnabled()?a.getAnnotationManager(e).trigger("annotationDoubleClicked",n):r(!0,i)}),[n,r,i]),handleDelete:o.a.useCallback((function(){a.deleteAnnotations([n].concat(F(n.getGroupedChildren())),void 0,e)}),[n]),isEditable:d,isDeletable:u&&!(null!=n&&n.NoDelete),noteId:n?n.Id:""};return o.a.createElement(z,B({},t,p))},V=n(1502);function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Z={annotation:u.a.object.isRequired,handleStateChange:u.a.func};function Y(t){var e=t.annotation,n=t.handleStateChange,r=void 0===n?function(){}:n,i=K(Object(s.a)(),1)[0],a=e.getStatus(),l="icon-annotation-status-".concat(""===a?"none":a.toLowerCase()),u=e.Id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{dataElement:"noteState-".concat(u),title:i("option.notesOrder.status"),img:l,toggleElement:"".concat(x.a.NOTE_STATE_FLYOUT,"-").concat(u)}),o.a.createElement(V.a,{noteId:u,handleStateChange:r}))}Y.propTypes=Z;var X=Y,Q=n(1499),J=n(164);function tt(){return(tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}var et={annotation:u.a.object};function nt(t){var e=Object(O.a)().core,n=Object(c.e)((function(t){return E.a.getActiveDocumentViewerKey(t)})),i=Object(c.e)((function(t){return E.a.isElementDisabled(t,"noteState")})),a=t.annotation,l=Object(J.a)(Object(r.useCallback)((function(t){var r=Object(Q.a)(a,t,n);a.addReply(r);var o=e.getAnnotationManager(n);o.addAnnotation(r),o.trigger("addReply",[r,a,o.getRootAnnotation(a)])}),[a,n]));return!i&&o.a.createElement("div",null,o.a.createElement(X,tt({handleStateChange:l},t)))}nt.propTypes=et;var rt=nt,ot=n(53),it=n(120);function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return lt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ut={annotationId:u.a.string,ariaLabel:u.a.string,pendingEditTextMap:u.a.object,pendingReplyMap:u.a.object,pendingAttachmentMap:u.a.object},ct=function(t){var e=t.annotationId,n=t.ariaLabel,i=t.pendingEditTextMap,a=t.pendingReplyMap,l=t.pendingAttachmentMap,u=Object(s.a)().t,c=at(Object(r.useState)(!1),2),f=c[0],d=c[1],h=at(Object(r.useState)(!1),2),p=h[0],y=h[1],m=at(Object(r.useState)(!1),2),v=m[0],b=m[1];return Object(r.useEffect)((function(){var t,n,r;d((null===(t=i[e])||void 0===t?void 0:t.length)>0),y((null===(n=a[e])||void 0===n?void 0:n.length)>0),b((null===(r=l[e])||void 0===r?void 0:r.length)>0)}),[i,a,l]),f||p||v?o.a.createElement("div",{"data-element":"unpostedCommentIndicator"},o.a.createElement(it.a,{content:u("message.unpostedComment")},o.a.createElement("div",null,o.a.createElement(ot.a,{className:"type-icon",glyph:"icon-unposted-comment",ariaLabel:n})))):null};ct.propTypes=ut;var st=ct,ft={annotationId:u.a.string,ariaLabel:u.a.string},dt=function(t){var e=t.annotationId,n=t.ariaLabel,r=Object(c.e)((function(t){return E.a.isElementDisabled(t,"unpostedCommentIndicator")})),i=o.a.useContext(f.a),a=i.pendingEditTextMap,l=i.pendingReplyMap,u=i.pendingAttachmentMap;return r?null:o.a.createElement(st,{annotationId:e,ariaLabel:n,pendingEditTextMap:a,pendingReplyMap:l,pendingAttachmentMap:u})};dt.propTypes=ft;var ht=dt,pt=n(106),yt=n(44),mt=n(236),vt=n(178),bt=n(174),gt=n(183),wt=n(234),St=n(25),Ot=n(107);n(1548);function Et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return xt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var _t=window.Core.Annotations,Ct={icon:u.a.string,iconColor:u.a.string,color:u.a.string,fillColor:u.a.string,annotation:u.a.object,language:u.a.string,noteDateFormat:u.a.string,isSelected:u.a.bool,setIsEditing:u.a.func,notesShowLastUpdatedDate:u.a.bool,isUnread:u.a.bool,renderAuthorName:u.a.func,isNoteStateDisabled:u.a.bool,isEditing:u.a.bool,noteIndex:u.a.number,sortStrategy:u.a.string,activeTheme:u.a.string,isMultiSelected:u.a.bool,isMultiSelectMode:u.a.bool,handleMultiSelect:u.a.func,isGroupMember:u.a.bool,showAnnotationNumbering:u.a.bool,isTrackedChange:u.a.bool};function jt(t){var e=t.icon,n=t.iconColor,r=t.annotation,i=t.language,l=t.noteDateFormat,u=t.isSelected,c=t.setIsEditing,f=t.notesShowLastUpdatedDate,d=t.isReply,h=t.isUnread,y=t.renderAuthorName,m=t.isNoteStateDisabled,v=t.isEditing,b=t.noteIndex,g=t.sortStrategy,w=t.activeTheme,S=t.isMultiSelected,E=t.isMultiSelectMode,x=t.handleMultiSelect,_=t.isGroupMember,C=t.showAnnotationNumbering,j=t.timezone,A=t.isTrackedChange,T=Object(O.a)().core,k=Et(Object(s.a)(),1)[0],P=function(t,e,n,r){var o=t===gt.a.MODIFIED_DATE||e&&t!==gt.a.CREATED_DATE?Object(mt.a)(n):n.DateCreated;if(r&&o){var i=o.toLocaleString("en-US",{timeZone:r});return new Date(i)}return o}(g,f,r,j),R=P?p()(P).locale(i).format(l):k("option.notesPanel.noteContent.noDate"),N=r.getReplies().length,I=function(t,e){var n,r,o=null===(n=t[e])||void 0===n||null===(r=n.toHexString)||void 0===r?void 0:r.call(n);if(!(t instanceof _t.FreeTextAnnotation))return o;var i=t.getRichTextStyle();if(!i)return o;var a=Object.keys(i).length,l=t.getContents().length,u=i[0];if(1===a&&u&&u.color)o=(l-Object.keys(i)[0])/l>.5?u.color:o;else if(a>1){var c,s=(null===(c=t.getEditor())||void 0===c?void 0:c.getMajorityTextColors())||[];o=s.length<1?o:s[0]}return o}(r,n);""===I&&(I=function(t,e){return t===wt.a.DARK&&e&&Object(bt.c)(e)?Ot.b.white:t===wt.a.LIGHT&&e&&Object(bt.d)(e)?Ot.b.black:void 0}(w,I));var M=Object(vt.a)(r.FillColor),L=r.getAssociatedNumber(),D="#".concat(L," - "),q=a()("author-and-date",{isReply:d}),z=a()("NoteHeader",{parent:!d&&!_}),B=!(m||d||E||_||A),F=!v&&u&&!E&&!_&&!A;return o.a.createElement("div",{className:z},!d&&o.a.createElement("div",{className:"type-icon-container"},h&&o.a.createElement("div",{className:"unread-notification"}),o.a.createElement(ot.a,{className:"type-icon",glyph:e,color:I,fillColor:M})),o.a.createElement("div",{className:q},o.a.createElement("div",{className:"author-and-overflow"},o.a.createElement("div",{className:"author-and-time"},o.a.createElement("div",{className:"author"},C&&void 0!==L&&o.a.createElement("span",{className:"annotation-number"},D),y(r)),o.a.createElement("div",{className:"date-and-num-replies"},o.a.createElement("div",{className:"date-and-time"},R,_&&" (Page ".concat(r.PageNumber,")")),N>0&&!u&&o.a.createElement("div",{className:"num-replies-container"},o.a.createElement(ot.a,{className:"num-reply-icon",glyph:"icon-chat-bubble"}),o.a.createElement("div",{className:"num-replies"},N)))),o.a.createElement("div",{className:"state-and-overflow"},E&&!_&&!d&&o.a.createElement(pt.a,{id:"note-multi-select-toggle_".concat(r.Id),"aria-label":"".concat(y(r)," ").concat(k("option.notesPanel.toggleMultiSelect")),checked:S,onClick:function(t){t.preventDefault(),t.stopPropagation(),x(!S)}}),o.a.createElement(ht,{annotationId:r.Id,ariaLabel:"Unposted Comment, ".concat(y(r),", ").concat(R)}),B&&o.a.createElement(rt,{annotation:r,isSelected:u}),F&&o.a.createElement(W,{noteIndex:b,annotation:r,setIsEditing:c,isReply:d}),u&&A&&!E&&o.a.createElement(o.a.Fragment,null,o.a.createElement(yt.a,{title:k("officeEditor.accept"),img:"icon-menu-checkmark",className:"tracked-change-icon-wrapper accept",onClick:function(){return t=r.getCustomData(St.z),void T.getOfficeEditor().acceptTrackedChange(t);var t},iconClassName:"tracked-change-icon"}),o.a.createElement(yt.a,{title:k("officeEditor.reject"),img:"icon-close",className:"tracked-change-icon-wrapper reject",onClick:function(){return t=r.getCustomData(St.z),void T.getOfficeEditor().rejectTrackedChange(t);var t},iconClassName:"tracked-change-icon"}))))))}jt.propTypes=Ct;var At=jt,Tt=n(1500);function kt(){return(kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function Pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Nt=function(t){var e=Pt(Object(c.e)((function(t){return[E.a.getNotesPanelWidth(t)]}),c.c),1)[0];return o.a.createElement(Tt.a,kt({},t,{panelWidth:e}))},It=(n(313),n(314),n(315),n(175));n(173);function Mt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Lt(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,l=0,u=t,d.n=n,a}};function h(n,r){for(l=n,u=r,e=0;!f&&c&&!o&&e<s.length;e++){var o,i=s[e],h=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,p),l=s,u=p;(e=l<2?t:u)||!f;){i||(l?l<3?(l>1&&(d.n=-1),h(l,u)):d.n=u:d.v=u);try{if(c=2,i){if(l||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,l=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(Lt(e={},r,(function(){return this})),e),f=c.prototype=l.prototype=Object.create(s);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Lt(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Lt(f,"constructor",c),Lt(c,"constructor",u),u.displayName="GeneratorFunction",Lt(c,o,"GeneratorFunction"),Lt(f),Lt(f,o,"Generator"),Lt(f,r,(function(){return this})),Lt(f,"toString",(function(){return"[object Generator]"})),(Mt=function(){return{w:i,m:d}})()}function Lt(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(Lt=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){Lt(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}})(t,e,n,r)}function Dt(t,e,n,r,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(r,o)}function qt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Dt(i,r,o,a,l,"next",t)}function l(t){Dt(i,r,o,a,l,"throw",t)}a(void 0)}))}}var zt="ic-file-pdf",Bt="ic-file-img",Ft="ic-file-cad",Ht="ic-file-doc",Ut="ic-file-ppt",Gt="ic-file-xls",Wt="ic-file-etc",Vt=window.Core.Annotations.FileAttachmentUtils;function Kt(t){return $t.apply(this,arguments)}function $t(){return($t=qt(Mt().m((function t(e){return Mt().w((function(t){for(;;)switch(t.n){case 0:return t.a(2,Vt.decompressWithFlateDecode(e.content,e.type))}}),t)})))).apply(this,arguments)}function Zt(t){return Yt.apply(this,arguments)}function Yt(){return(Yt=qt(Mt().m((function t(e){var n,r=arguments;return Mt().w((function(t){for(;;)switch(t.n){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:[],t.n=1,e.setAttachments(n);case 1:return t.a(2)}}),t)})))).apply(this,arguments)}function Xt(t){return!(!t.type||!t.type.startsWith("image/"))}function Qt(t){var e;if(Xt(t))return Bt;switch(null===(e=t.name)||void 0===e?void 0:e.split(".").pop().toLowerCase()){case"pdf":return zt;case"cad":return Ft;case"doc":case"docx":return Ht;case"ppt":case"pptx":return Ut;case"xls":case"xlsx":return Gt;default:return Wt}}var Jt=n(488),te=n.n(Jt);function ee(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return ne(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,l=0,u=t,d.n=n,a}};function h(n,r){for(l=n,u=r,e=0;!f&&c&&!o&&e<s.length;e++){var o,i=s[e],h=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,p),l=s,u=p;(e=l<2?t:u)||!f;){i||(l?l<3?(l>1&&(d.n=-1),h(l,u)):d.n=u:d.v=u);try{if(c=2,i){if(l||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,l=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(ne(e={},r,(function(){return this})),e),f=c.prototype=l.prototype=Object.create(s);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,ne(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,ne(f,"constructor",c),ne(c,"constructor",u),u.displayName="GeneratorFunction",ne(c,o,"GeneratorFunction"),ne(f),ne(f,o,"Generator"),ne(f,r,(function(){return this})),ne(f,"toString",(function(){return"[object Generator]"})),(ee=function(){return{w:i,m:d}})()}function ne(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(ne=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){ne(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}})(t,e,n,r)}function re(t,e,n,r,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(r,o)}var oe=function(t){return new Promise((function(e){if(void 0===t.size)e(t.toString("utf-8"));else{var n=new FileReader;n.onload=function(){return e(n.result)},n.readAsText(t)}}))},ie=function(t){return"image/svg+xml"===t.type},ae=function(){var t,e=(t=ee().m((function t(e){var n,r,o,i;return ee().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,oe(e);case 1:if(n=t.v){t.n=2;break}return t.a(2,{svg:e});case 2:return r=[],te.a.addHook("uponSanitizeElement",(function(t,e){var n=e.tagName;e.allowedTags[n]||r.push(n)})),o=te.a.sanitize(n),i=new Blob([o],{type:"image/svg+xml"}),t.a(2,{svg:i,isDirty:r.length>0})}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){re(i,r,o,a,l,"next",t)}function l(t){re(i,r,o,a,l,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();n(1549);function le(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return ue(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,l=0,u=t,d.n=n,a}};function h(n,r){for(l=n,u=r,e=0;!f&&c&&!o&&e<s.length;e++){var o,i=s[e],h=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,p),l=s,u=p;(e=l<2?t:u)||!f;){i||(l?l<3?(l>1&&(d.n=-1),h(l,u)):d.n=u:d.v=u);try{if(c=2,i){if(l||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,l=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(ue(e={},r,(function(){return this})),e),f=c.prototype=l.prototype=Object.create(s);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,ue(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,ue(f,"constructor",c),ue(c,"constructor",u),u.displayName="GeneratorFunction",ue(c,o,"GeneratorFunction"),ue(f),ue(f,o,"Generator"),ue(f,r,(function(){return this})),ue(f,"toString",(function(){return"[object Generator]"})),(le=function(){return{w:i,m:d}})()}function ue(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(ue=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){ue(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}})(t,e,n,r)}function ce(t,e,n,r,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(r,o)}function se(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ce(i,r,o,a,l,"next",t)}function l(t){ce(i,r,o,a,l,"throw",t)}a(void 0)}))}}function fe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return de(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var he=function(t){var e=t.file,n=fe(Object(s.a)(),1)[0],i=fe(Object(r.useState)(),2),l=i[0],u=i[1],c=fe(Object(r.useState)(!1),2),f=c[0],d=c[1];return Object(r.useEffect)((function(){(function(){var t=se(le().m((function t(){var n,r,o,i,a;return le().w((function(t){for(;;)switch(t.n){case 0:if(d(!1),n=e,!(r=!(e instanceof File||e.url))){t.n=2;break}return t.n=1,Kt(e);case 1:n=t.v;case 2:if(!(e instanceof File||r)){t.n=5;break}if(!ie(e)){t.n=4;break}return t.n=3,ae(n);case 3:o=t.v,i=o.svg,a=o.isDirty,u(URL.createObjectURL(i)),d(a),t.n=5;break;case 4:u(URL.createObjectURL(n));case 5:return t.a(2)}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),o.a.createElement("div",{className:a()({"reply-attachment-preview":!0,dirty:f})},o.a.createElement("img",{src:l}),f&&o.a.createElement("span",{className:"reply-attachment-preview-message"},n("message.svgMalicious")))},pe=function(t){var e=t.files,n=t.isEditing,r=t.fileDeleted,i=fe(Object(c.e)((function(t){return[E.a.getTabManager(t),E.a.isReplyAttachmentPreviewEnabled(t)]})),2),a=i[0],l=i[1],u=fe(Object(s.a)(),1)[0],f=function(){var t=se(le().m((function t(e,n){var r;return le().w((function(t){for(;;)switch(t.n){case 0:if(e.preventDefault(),e.stopPropagation(),a){t.n=1;break}return t.a(2,console.warn("Can't open attachment in non-multi-tab mode"));case 1:if(!(n instanceof File)){t.n=2;break}r=n,t.n=5;break;case 2:if(!n.url){t.n=3;break}r=n.url,t.n=5;break;case 3:return t.n=4,Kt(n);case 4:r=t.v;case 5:r&&a.addTab(r,{filename:n.name,setActive:!0,saveCurrentActiveTabState:!0});case 6:return t.a(2)}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=se(le().m((function t(e,n){var r,o;return le().w((function(t){for(;;)switch(t.n){case 0:if(e.preventDefault(),e.stopPropagation(),!n.url){t.n=1;break}o=n.url,t.n=3;break;case 1:return t.n=2,Kt(n);case 2:o=t.v;case 3:r=o,Object(It.saveAs)(r,n.name);case 4:return t.a(2)}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"reply-attachment-list"},e.map((function(t,e){return o.a.createElement("div",{className:"reply-attachment",key:e,onClick:function(e){return f(e,t)}},l&&Xt(t)&&o.a.createElement(he,{file:t}),o.a.createElement("div",{className:"reply-attachment-info"},o.a.createElement(ot.a,{className:"reply-attachment-icon",glyph:Qt(t)}),o.a.createElement(it.a,{content:t.name},o.a.createElement("div",{className:"reply-file-name"},t.name)),n?o.a.createElement(yt.a,{className:"attachment-button",title:"".concat(u("action.delete")," ").concat(u("option.type.fileattachment")),img:"icon-close",onClick:function(e){return function(t,e){t.preventDefault(),t.stopPropagation(),r(e)}(e,t)}}):o.a.createElement(yt.a,{className:"attachment-button",title:"".concat(u("action.download")," ").concat(u("option.type.fileattachment")),img:"icon-download",onClick:function(e){return d(e,t)}})))})))},ye=n(486),me=n(382),ve=n(1470),be=function(t){var e={};if(t["font-weight"]&&"normal"!==t["font-weight"]&&(e.bold=!0),t["font-style"]&&"normal"!==t["font-style"]&&(e.italic=!0),t.color&&(e.color=t.color),t["text-decoration"]){var n=t["text-decoration"].split(" ");n.includes("line-through")&&(e.strike=!0),n.includes("word")&&(e.underline=!0)}return e},ge=function(t,e){for(var n=t.getRichTextStyle(),r=Object.keys(n),o=me.a.getFormattedTextFromDeltas(e.getContents()),i=me.a.extractMentionDataFromStr(o).plainTextValue,a=[],l=0;l<r.length;l++){var u=n[r[l]],c=be(u);if(!isNaN(r[l])){var s=isNaN(r[l+1])?i.length:r[l+1],f=i.slice(r[l],s);a.push({insert:f,attributes:c})}}e.setContents(a),e.setSelection(i.length,0)},we=n(45),Se=n(56),Oe=n(230),Ee=n(61);n(1550);function xe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return _e(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,l=0,u=t,d.n=n,a}};function h(n,r){for(l=n,u=r,e=0;!f&&c&&!o&&e<s.length;e++){var o,i=s[e],h=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,p),l=s,u=p;(e=l<2?t:u)||!f;){i||(l?l<3?(l>1&&(d.n=-1),h(l,u)):d.n=u:d.v=u);try{if(c=2,i){if(l||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,l=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(_e(e={},r,(function(){return this})),e),f=c.prototype=l.prototype=Object.create(s);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_e(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,_e(f,"constructor",c),_e(c,"constructor",u),u.displayName="GeneratorFunction",_e(c,o,"GeneratorFunction"),_e(f),_e(f,o,"Generator"),_e(f,r,(function(){return this})),_e(f,"toString",(function(){return"[object Generator]"})),(xe=function(){return{w:i,m:d}})()}function _e(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(_e=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){_e(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}})(t,e,n,r)}function Ce(t,e,n,r,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(r,o)}function je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ae(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}p.a.extend(m.a);var Te={annotation:u.a.object.isRequired,isEditing:u.a.bool,setIsEditing:u.a.func,noteIndex:u.a.number,isUnread:u.a.bool,isNonReplyNoteRead:u.a.bool,onReplyClicked:u.a.func,isMultiSelected:u.a.bool,isMultiSelectMode:u.a.bool,handleMultiSelect:u.a.func,isGroupMember:u.a.bool,handleNoteClick:u.a.func},ke=function(t){var e,n=t.annotation,i=t.isEditing,l=t.setIsEditing,u=t.noteIndex,h=t.isUnread,p=t.isNonReplyNoteRead,y=t.onReplyClicked,m=t.isMultiSelected,v=t.isMultiSelectMode,g=t.handleMultiSelect,S=t.isGroupMember,x=t.handleNoteClick,C=void 0===x?function(){}:x,j=Object(O.a)().core,A=Object(c.e)((function(t){return E.a.getNoteDateFormat(t)})),T=Object(c.e)((function(t){return E.a.getIconColor(t,Object(Se.g)(n),c.c)})),k=Object(c.e)((function(t){return E.a.isElementDisabled(t,"noteStateFlyout")})),P=Object(c.e)((function(t){return E.a.getCurrentLanguage(t)})),R=Object(c.e)((function(t){return E.a.notesShowLastUpdatedDate(t)})),N=Object(c.e)((function(t){return E.a.isNotesPanelTextCollapsingEnabled(t)})),I=Object(c.e)((function(t){return E.a.isNotesPanelRepliesCollapsingEnabled(t)})),M=Object(c.e)((function(t){return E.a.getActiveTheme(t)})),L=Object(c.e)((function(t){return E.a.getTimezone(t)})),D=Object(c.e)((function(t){var e;return null===(e=E.a.getFeatureFlags(t))||void 0===e?void 0:e.customizableUI})),q=Object(r.useContext)(f.a),z=q.isSelected,B=q.searchInput,F=q.resize,H=q.pendingEditTextMap,U=q.onTopNoteContentClicked,G=q.sortStrategy,W=q.showAnnotationNumbering,V=q.setPendingEditText,K=Object(c.d)(),$=je(Object(s.a)(),1)[0],Z=Object(c.f)(),Y=n.isReply(),X=Object(Se.g)(n)===Se.c.TRACKED_CHANGE,Q=je(Object(r.useState)([]),2),J=Q[0],tt=Q[1];Object(r.useEffect)((function(){tt(n.getAttachments())}),[n]),Object(r.useEffect)((function(){var t=function(t,e){"modify"===e&&t.forEach((function(t){t.Id===n.Id&&tt(t.getAttachments())}))};return j.addEventListener("annotationChanged",t),function(){j.removeEventListener("annotationChanged",t)}}),[n]),Object(Oe.a)((function(){i||K(_.a.finishNoteEditing()),F()}),[i]);var et,nt=Object(r.useCallback)((function(t){var e=j.getDisplayAuthor(t.Author);return e?Me(e,B):$("option.notesPanel.noteContent.noName")}),[B]),rt=n.getSkipAutoLink&&n.getSkipAutoLink(),ot={1:$("officeEditor.added"),2:$("officeEditor.deleted"),3:$("officeEditor.formatted")},it=Object(r.useCallback)((function(t,e,r,i){var a=[];if(i||d.a.link(t,{stripPrefix:!1,stripTrailingSlash:!1,replaceFn:function(t){var e=t.getAnchorHref(),n=t.getAnchorText(),r=t.getOffset();switch(t.getType()){case"url":case"email":case"phone":a.push({href:e,text:n,start:r,end:r+t.getMatchedText().length})}}}),!a.length){var l=Me(t,B,e);if(!B&&(!Y&&N||Y&&I)){return o.a.createElement(Nt,{linesToBreak:3,comment:!0,renderRichText:Ie,richTextStyle:e,resize:F,style:r,beforeContent:function(){if(!X)return null;var t=ot[n.TrackedChangeType];return t&&o.a.createElement("span",{style:{color:n.FillColor.toString(),fontWeight:700}},t)}},t)}return l}var u=[],c=0;return a.forEach((function(n,r){var i=n.start,a=n.end,l=n.href;c<i&&u.push(o.a.createElement("span",{key:"span_".concat(r)},Me(t,B,e,c,i))),u.push(o.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",key:"a_".concat(r)},Me(t,B,e,i,a))),c=a})),c<t.length-1&&u.push(Me(t,B,e,c)),u}),[B]),at=X&&3===n.TrackedChangeType?"ic-format-page":Object(Se.e)(Object(Se.g)(n)).icon;try{et=JSON.parse(n.getCustomData("trn-mention"))}catch(t){et=n.getCustomData("trn-mention")}var lt=(null===(e=et)||void 0===e?void 0:e.contents)||n.getContents();lt=function(t){return t?w()(t):t}(lt);var ut=n instanceof window.Core.Annotations.Link?Object(ye.a)(n,Z):n.getContents(),ct=n.getRichTextStyle(),st=n.TextColor;if(M===wt.a.DARK)st&&Object(bt.c)(st.toHexString())&&(st=new window.Core.Annotations.Color(255,255,255,1)),ct&&Object.keys(ct).forEach((function(t){ct[t].color&&Object(bt.c)(ct[t].color)&&(ct[t].color=Ot.b.white)}));else if(M===wt.a.LIGHT){if(st&&Object(bt.d)(st.toHexString())&&(st=new window.Core.Annotations.Color(0,0,0,1)),ct)Object.keys(ct).forEach((function(t){ct[t].color&&Object(bt.d)(ct[t].color)&&(ct[t].color=Ot.b.black)}))}var ft,dt=void 0===H[n.Id];ft=lt&&dt?lt:H[n.Id];var ht=a()({NoteContent:!0,isReply:Y,unread:h,clicked:p,"modular-ui":D}),pt=Object(r.useMemo)((function(){var t={};return st&&(t.color=st.toHexString()),o.a.createElement(o.a.Fragment,null,i&&z?o.a.createElement(Re,{annotation:n,noteIndex:u,setIsEditing:l,textAreaValue:ft,onTextAreaValueChange:V,pendingText:H[n.Id]}):ut&&o.a.createElement("div",{className:a()("container",{"reply-content":Y}),onClick:C},Y&&J.length>0&&o.a.createElement(pe,{files:J,isEditing:!1}),it(ut,ct,t,rt)))}),[n,z,i,l,lt,it,ft,V,J]),yt=n.getCustomData("trn-annot-preview"),vt=Object(r.useMemo)((function(){if(""===yt)return null;var t=Me(yt,B),e=!Y&&N;return b()(t)&&e?o.a.createElement(Ee.a,{onClick:C,className:"selected-text-preview",dataElement:"notesSelectedTextPreview"},o.a.createElement(Nt,{linesToBreak:3},'"'.concat(t,'"'))):o.a.createElement("div",{className:"selected-text-preview",style:{paddingRight:"12px"}},t)}),[yt,B]),gt=Object(r.useMemo)((function(){return o.a.createElement(At,{icon:at,iconColor:T,annotation:n,language:P,noteDateFormat:A,isSelected:z,setIsEditing:l,notesShowLastUpdatedDate:R,isReply:Y,isUnread:h,renderAuthorName:nt,isNoteStateDisabled:k,isEditing:i,noteIndex:u,sortStrategy:G,activeTheme:M,handleMultiSelect:g,isMultiSelected:m,isMultiSelectMode:v,isGroupMember:S,showAnnotationNumbering:W,timezone:L,isTrackedChange:X})}),[at,T,n,P,A,z,l,R,Y,h,nt,j.getDisplayAuthor(n.Author),k,i,u,Object(mt.a)(n),G,g,m,v,S,L,X]);return o.a.createElement("div",{className:ht,onClick:function(){S||(Y?y(n):i||U())}},gt,vt,pt)};ke.propTypes=Te;var Pe=ke,Re=function(t){var e=t.annotation,n=t.noteIndex,i=t.setIsEditing,l=t.textAreaValue,u=t.onTextAreaValueChange,d=t.pendingText,h=je(Object(c.e)((function(t){return[E.a.getAutoFocusNoteOnAnnotationSelection(t),E.a.getIsMentionEnabled(t),E.a.isElementDisabled(t,x.a.INLINE_COMMENT_POPUP),E.a.isElementOpen(t,x.a.INLINE_COMMENT_POPUP),E.a.isElementOpen(t,x.a.NOTES_PANEL),E.a.getActiveDocumentViewerKey(t),E.a.isAnyCustomPanelOpen(t)]})),7),p=h[0],y=h[1],m=h[2],v=h[3],b=h[4],g=h[5],w=h[6],_=je(Object(s.a)(),1)[0],C=Object(r.useRef)(),j=e.isReply(),A=Object(r.useContext)(f.a),T=A.setCurAnnotId,k=A.pendingAttachmentMap,P=A.deleteAttachment,R=A.clearAttachments,N=A.addAttachments,I=!m&&v&&Object(we.k)(),M=Object(O.a)().core;Object(r.useEffect)((function(){if(w||(b||v)&&C.current){var t=C.current.getEditor();e&&e instanceof window.Core.Annotations.FreeTextAnnotation&&t.setText(""),d?Object(ve.a)(t,e):t.getContents()&&setTimeout((function(){if(y){l=me.a.getFormattedTextFromDeltas(t.getContents());var n=me.a.extractMentionDataFromStr(l),r=n.plainTextValue;n.ids.length&&t.setText(r)}var o;I||p&&(null===(o=C.current)||void 0===o||o.focus(),e.getRichTextStyle()&&ge(e,t))}),100);var n=t.getLength()-1;if(I)return;setTimeout((function(){n&&t.setSelection(n,n)}),100)}}),[b,v,I]),Object(r.useEffect)((function(){if(j&&0===q.length){var t=e.getAttachments();N(e.Id,t)}}),[]);var L=function(){var t,r=(t=xe().m((function t(r){var o,a,c,s,f;return xe().w((function(t){for(;;)switch(t.n){case 0:return r.preventDefault(),o=C.current.getEditor(),l=me.a.getFormattedTextFromDeltas(o.getContents()),Object(ve.a)(o,e),l.length>1&&"\n"===l[l.length-1]&&(l=l.slice(0,l.length-1)),e.getSkipAutoLink&&e.getSkipAutoLink()&&e.disableSkipAutoLink(),y?(a=me.a.extractMentionDataFromStr(l),c=a.plainTextValue,s=a.ids,me.a.extractMentionDataFromAnnot(e).mentions.forEach((function(t){c.includes(t.value)&&s.push(t.id)})),e.setCustomData("trn-mention",JSON.stringify({contents:l,ids:s})),e.setContents(c)):e.setContents(l),t.n=1,Zt(e,k[e.Id]);case 1:f=e instanceof window.Core.Annotations.FreeTextAnnotation?"textChanged":"noteChanged",M.getAnnotationManager(g).trigger("annotationChanged",[[e],"modify",{source:f}]),e instanceof window.Core.Annotations.FreeTextAnnotation&&M.drawAnnotationsFromList([e]),i(!1,n),""!==l&&u(void 0,e.Id),R(e.Id);case 2:return t.a(2)}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ce(i,r,o,a,l,"next",t)}function l(t){Ce(i,r,o,a,l,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),D=a()("edit-content",{"reply-content":j}),q=k[e.Id]||[];return o.a.createElement("div",{className:D},j&&q.length>0&&o.a.createElement(pe,{files:q,isEditing:!0,fileDeleted:function(t){return P(e.Id,t)}}),o.a.createElement(S.a,{ref:function(t){C.current=t},value:l,onChange:function(t){return u(t,e.Id)},onSubmit:L,isReply:j,onBlur:function(t){var e,n;null!==(e=t.relatedTarget)&&void 0!==e&&null!==(n=e.getAttribute("data-element"))&&void 0!==n&&n.includes("annotationCommentButton")?t.target.focus():T(void 0)},onFocus:function(){T(e.Id)}}),o.a.createElement("div",{className:"edit-buttons"},o.a.createElement(yt.a,{className:"cancel-button",label:_("action.cancel"),onClick:function(t){t.stopPropagation(),i(!1,n),u(void 0,e.Id),R(e.Id)}}),o.a.createElement(yt.a,{className:"save-button".concat(l?"":" disabled"),disabled:!l,label:_("action.save"),onClick:function(t){t.stopPropagation(),L(t)}})))};Re.propTypes={noteIndex:u.a.number.isRequired,annotation:u.a.object.isRequired,setIsEditing:u.a.func.isRequired,textAreaValue:u.a.string,onTextAreaValueChange:u.a.func.isRequired,pendingText:u.a.string};var Ne=function(t,e,n){var r={fontWeight:e["font-weight"],fontStyle:e["font-style"],textDecoration:e["text-decoration"],color:e.color};return r.textDecoration&&(r.textDecoration=r.textDecoration.replace("word","underline")),o.a.createElement("span",{style:r,key:n},t)},Ie=function(t,e,n){if(!e||!t)return t;for(var r={},o=Object.keys(e).map(Number).sort((function(t,e){return t-e})),i=0;i<o.length;i++){var a=o[i]-n;if(r[a=Math.min(Math.max(a,0),t.length)]=e[o[i]],a===t.length)break}for(var l=[],u=Object.keys(r).map(Number).sort((function(t,e){return t-e})),c=1;c<u.length;c++)l.push(Ne(t.slice(u[c-1],u[c]),r[u[c-1]],"richtext_span_".concat(c)));return l},Me=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length,a=t.slice(r,i),l=a.toLowerCase(),u=e.toLowerCase();n&&(n[0]=n[0]||{},n[t.length]=n[t.length]||{});var c=l.indexOf(u);if(!u.trim()||-1===c)return Ie(a,n,r);var s=[],f=[c],d=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp("(".concat(d,")"),"gi").test(l))for(;-1!==c;)-1!==(c=l.indexOf(u,c+u.length))&&f.push(c);return f.forEach((function(t,e){0===e&&0!==t&&s.push(Ie(a.substring(0,t),n,r)),s.push(o.a.createElement("span",{className:"highlight",key:"highlight_span_".concat(e)},Ie(a.substring(t,t+u.length),n,r+t))),t+u.length<l.length&&t+u.length!==f[e+1]&&s.push(Ie(a.substring(t+u.length,f[e+1]),n,r+t+u.length))})),s};var Le=Pe;n(1551);function De(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return qe(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,l=0,u=t,d.n=n,a}};function h(n,r){for(l=n,u=r,e=0;!f&&c&&!o&&e<s.length;e++){var o,i=s[e],h=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,p),l=s,u=p;(e=l<2?t:u)||!f;){i||(l?l<3?(l>1&&(d.n=-1),h(l,u)):d.n=u:d.v=u);try{if(c=2,i){if(l||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,l=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(qe(e={},r,(function(){return this})),e),f=c.prototype=l.prototype=Object.create(s);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,qe(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,qe(f,"constructor",c),qe(c,"constructor",u),u.displayName="GeneratorFunction",qe(c,o,"GeneratorFunction"),qe(f),qe(f,o,"Generator"),qe(f,r,(function(){return this})),qe(f,"toString",(function(){return"[object Generator]"})),(De=function(){return{w:i,m:d}})()}function qe(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(qe=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){qe(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}})(t,e,n,r)}function ze(t,e,n,r,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(r,o)}function Be(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Fe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var He={annotation:u.a.object.isRequired},Ue=function(t){var e=t.annotation,n=t.isUnread,i=t.onPendingReplyChange,l=Object(O.a)().core,u=Be(Object(c.e)((function(t){var n;return[E.a.getAutoFocusNoteOnAnnotationSelection(t),E.a.isDocumentReadOnly(t),E.a.isElementDisabled(t,"noteReply"),null===(n=E.a.getIsReplyDisabled(t))||void 0===n?void 0:n(e),E.a.getIsMentionEnabled(t),E.a.getIsNoteEditing(t),E.a.isElementDisabled(t,x.a.INLINE_COMMENT_POPUP),E.a.isElementOpen(t,x.a.INLINE_COMMENT_POPUP),E.a.getActiveDocumentViewerKey(t)]}),c.c),9),s=u[0],d=u[1],h=u[2],p=u[3],y=u[4],m=u[5],v=u[6],b=u[7],g=u[8],w=Object(r.useContext)(f.a),C=w.isContentEditable,j=w.isSelected,A=w.pendingReplyMap,T=w.setPendingReply,k=w.isExpandedFromSearch,P=w.scrollToSelectedAnnot,R=w.setCurAnnotId,N=w.pendingAttachmentMap,I=w.clearAttachments,M=w.deleteAttachment,L=Be(Object(r.useState)(!1),2),D=L[0],q=L[1],z=Object(c.d)(),B=Object(r.useRef)(),F=!v&&b&&Object(we.k)();Object(Oe.a)((function(){D||z(_.a.finishNoteEditing())}),[D]),Object(r.useEffect)((function(){F||m&&j&&!C&&s&&B&&B.current&&B.current.focus()}),[C,m,j,F]),Object(r.useEffect)((function(){if(!k&&P&&setTimeout((function(){B&&B.current&&s&&B.current.focus()}),100),B&&B.current){if(F)return;var t=B.current.getEditor().getLength()-1;setTimeout((function(){B.current&&B.current.editor.setSelection(t,t)}),100)}}),[]);var H=function(){var t,n=(t=De().m((function t(n){var r,o,i,a;return De().w((function(t){for(;;)switch(t.n){case 0:if(n.preventDefault(),n.stopPropagation(),r=B.current.getEditor(),(o=me.a.getFormattedTextFromDeltas(r.getContents())).trim()){t.n=1;break}return t.a(2);case 1:if(!y){t.n=3;break}return i=me.a.createMentionReply(e,o),Object(ve.a)(r,i),t.n=2,Zt(i,N[e.Id]);case 2:l.addAnnotations([i],g),t.n=5;break;case 3:return a=l.createAnnotationReply(e,o),Object(ve.a)(r,a),t.n=4,Zt(a,N[e.Id]);case 4:l.getAnnotationManager(g).trigger("annotationChanged",[[a],"modify",{}]);case 5:T("",e.Id),I(e.Id);case 6:return t.a(2)}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ze(i,r,o,a,l,"next",t)}function l(t){ze(i,r,o,a,l,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}(),U=d||h||p,G=a()({"reply-area":!0,unread:n}),W=N[e.Id]||[];return U||!j?null:o.a.createElement("form",{onSubmit:H,className:"reply-area-container"},W.length>0&&o.a.createElement(pe,{files:W,isEditing:!0,fileDeleted:function(t){return M(e.Id,t)}}),o.a.createElement("div",{className:"reply-area-with-button"},o.a.createElement("div",{className:G,onMouseDown:function(t){return t.stopPropagation()}},o.a.createElement(S.a,{ref:function(t){B.current=t},value:A[e.Id],onChange:function(t){return function(t){T(t,e.Id),i&&i()}(t)},onSubmit:H,onBlur:function(){q(!1),R(void 0)},onFocus:function(){q(!0),R(e.Id)},isReply:!0})),o.a.createElement("div",{className:"reply-button-container"},o.a.createElement(yt.a,{img:"icon-post-reply",className:"reply-button",title:"action.submit",disabled:!A[e.Id],onClick:H,isSubmitType:!0}))))};Ue.propTypes=He;var Ge=Ue;function We(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ve(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ke={groupAnnotations:u.a.array.isRequired,isMultiSelectMode:u.a.bool.isRequired},$e=function(t){var e=t.groupAnnotations,n=t.isMultiSelectMode,i=Object(O.a)().core,l=We(Object(s.a)(),1)[0],u=Object(c.d)(),f=We(Object(r.useState)(!1),2),d=f[0],h=f[1],p=Object(c.e)((function(t){var e;return null===(e=E.a.getFeatureFlags(t))||void 0===e?void 0:e.customizableUI})),y=o.a.createElement(yt.a,{onClick:function(t){t.preventDefault(),t.stopPropagation(),h(!0)},className:"text-button",ariaLabel:l("component.noteGroupSection.open"),label:l("component.noteGroupSection.open"),img:"icon-chevron-down"}),m=o.a.createElement(yt.a,{onClick:function(t){t.preventDefault(),t.stopPropagation(),h(!1)},className:"text-button",ariaLabel:l("component.noteGroupSection.close"),label:l("component.noteGroupSection.close"),img:"icon-chevron-up"});return o.a.createElement("div",{className:a()({"group-section":!0,"modular-ui":p})},d?m:y,d&&e.map((function(t,e){return 0===e?null:o.a.createElement(yt.a,{key:t.Id,className:"group-child",onClick:function(e){e.preventDefault(),e.stopPropagation(),i.selectAnnotation(t),i.jumpToAnnotation(t),u(_.a.openElement("annotationPopup"))}},o.a.createElement(Le,{key:t.Id,annotation:t,isUnread:!1,isGroupMember:!0,isMultiSelectMode:n}))})))};$e.propTypes=Ke;var Ze=$e,Ye=n(123),Xe=n(231),Qe=n(24),Je=n(4),tn=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window,r=n.isApryseWebViewerWebComponent,o=void 0!==r&&r;if(!o)return t;var i=Object(Qe.a)().getElementById("app").getBoundingClientRect(),a=i.left,l=i.top;return e?{x:t.x+a,y:t.y+l}:{x:t.x-a,y:t.y-l}},en=(n(1552),n(103)),nn=n.n(en);function rn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return on(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var an=function(t){var e=t.children,n=Object(Qe.a)().querySelector("#line-connector-root"),o=document.createElement("div");return o.setAttribute("data-element",x.a.ANNOTATION_NOTE_CONNECTOR_LINE),Object(r.useEffect)((function(){return n.appendChild(o),function(){return n.removeChild(o)}}),[o,n]),Object(Ye.createPortal)(e,o)},ln={annotation:u.a.object,noteContainerRef:u.a.object,isCustomPanelOpen:u.a.bool},un=function(t){var e,n=t.annotation,i=t.noteContainerRef,l=t.isCustomPanelOpen,u=Object(O.a)().core,s=rn(Object(c.e)((function(t){return[E.a.getTopHeadersHeight(t),E.a.getBottomHeadersHeight(t),E.a.isElementOpen(t,x.a.ANNOTATION_NOTE_CONNECTOR_LINE),E.a.isElementOpen(t,x.a.NOTES_PANEL),E.a.isElementDisabled(t,x.a.ANNOTATION_NOTE_CONNECTOR_LINE),E.a.getDocumentContainerWidth(t),E.a.getDocumentContainerHeight(t),E.a.getActiveDocumentViewerKey(t)]}),c.c),8),f=s[0],d=s[1],h=s[2],p=s[3],y=s[4],m=s[5],v=s[6],b=s[7],g=Object(c.d)(),w=rn(Object(r.useState)(),2),S=w[0],C=w[1];Object(r.useEffect)((function(){var t=function(){g(_.a.closeElement(x.a.ANNOTATION_NOTE_CONNECTOR_LINE))};return u.addEventListener("pageNumberUpdated",t,void 0,b),function(){u.removeEventListener("pageNumberUpdated",t,b)}}),[]);var j=u.getScrollViewElement(b),A=nn()((function(t){var e=t.activeDocumentViewerKey,r=t.bottomHeadersHeight,o=t.topHeadersHeight,a=Object(Xe.d)(n,e),l=a.bottomRight,u=a.topLeft;if(i&&i.current){if(!(l&&u))return function(){g(_.a.closeElement(x.a.ANNOTATION_NOTE_CONNECTOR_LINE))};var c=function(t){var e,n=t.annotationTopLeft,r=t.annotationBottomRight,o=t.noteContainerRef,i=t.bottomHeadersHeight,a=t.topHeadersHeight,l=t.activeDocumentViewerKey,u=Je.a.getScrollViewElement(l),c=u.scrollTop,s=u.scrollLeft,f=o.current.getBoundingClientRect(),d=null===(e=o.current.closest(".normal-notes-container, .virtualized-notes-container"))||void 0===e?void 0:e.getBoundingClientRect();if(f.bottom<(null==d?void 0:d.top)||f.top>(null==d?void 0:d.bottom))return{topLineStyle:{display:"none"},verticalLineStyle:{display:"none"},bottomLineStyle:{display:"none"},isPanelOnLeft:!1};n=tn(n,!0),r=tn(r,!0);var h,p=n.y-r.y,y=n.x-s>f.left;y?(h=n.x-f.right-s,h-=14):(h=f.left-r.x+s,h-=10);var m=.75*h,v=h-m,b=r.y-f.top+p/2-c,g=tn({x:y?f.right:f.left,y:f.top}),w={width:m+(y?2:0),top:g.y,left:g.x-(y?0:m)},S={height:Math.abs(b)-2,top:w.top+2,left:w.left+(y?m:0)};b<0&&(S.top=w.top-S.height);var O=!1,E=Object(Qe.a)().getElementById("app").getBoundingClientRect(),x=a;if(x>S.top){var _=S.top-x;S.top=x,S.height+=_,O=!0}var C=E.height-i;return S.top+S.height>C&&(S.height=C-S.top,O=!0),{topLineStyle:w,verticalLineStyle:S,bottomLineStyle:{width:v+(y?2:0),top:g.y+b,left:S.left+2-(y?2:v),visibility:O?"hidden":"visible"},isPanelOnLeft:y}}({annotationTopLeft:u,annotationBottomRight:l,noteContainerRef:i,bottomHeadersHeight:r,topHeadersHeight:o,activeDocumentViewerKey:e});C(c)}}),100,{leading:!0,trailing:!0}),T=Object(Xe.d)(n,b),k=T.bottomRight,P=T.topLeft,R=[null==k?void 0:k.x,null==k?void 0:k.y,null==P?void 0:P.x,null==P?void 0:P.y],N=[j,null==j?void 0:j.scrollTop,null==j?void 0:j.scrollLeft],I=[m,v,b,d,f],M=null==i||null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect(),L=[null==M?void 0:M.top,null==M?void 0:M.left,null==M?void 0:M.right,null==M?void 0:M.bottom];if(Object(r.useEffect)((function(){A({activeDocumentViewerKey:b,bottomHeadersHeight:d,topHeadersHeight:f})}),[].concat(L,R,N,I)),Object(r.useEffect)((function(){var t=function(){g(_.a.closeElement(x.a.ANNOTATION_NOTE_CONNECTOR_LINE))};return u.addEventListener("pageNumberUpdated",t,void 0,b),function(){u.removeEventListener("pageNumberUpdated",t,b)}}),[g,b]),h&&(p||l)&&!y&&S){var D=S.topLineStyle,q=S.verticalLineStyle,z=S.bottomLineStyle,B=S.isPanelOnLeft;return o.a.createElement(an,null,o.a.createElement("div",{className:"horizontalLine",style:D}),o.a.createElement("div",{className:"verticalLine",style:q}),o.a.createElement("div",{className:"horizontalLine",style:z},o.a.createElement("div",{className:a()("arrowHead",{"arrow-right":B})})))}return null};un.propTypes=ln;var cn=un,sn=(n(1553),n(1503));function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return hn(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return i=e,l=0,u=t,d.n=n,a}};function h(n,r){for(l=n,u=r,e=0;!f&&c&&!o&&e<s.length;e++){var o,i=s[e],h=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=h&&((o=n<2&&h<i[1])?(l=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&h(s,p),l=s,u=p;(e=l<2?t:u)||!f;){i||(l?l<3?(l>1&&(d.n=-1),h(l,u)):d.n=u:d.v=u);try{if(c=2,i){if(l||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,l=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(hn(e={},r,(function(){return this})),e),f=c.prototype=l.prototype=Object.create(s);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,hn(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,hn(f,"constructor",c),hn(c,"constructor",u),u.displayName="GeneratorFunction",hn(c,o,"GeneratorFunction"),hn(f),hn(f,o,"Generator"),hn(f,r,(function(){return this})),hn(f,"toString",(function(){return"[object Generator]"})),(dn=function(){return{w:i,m:d}})()}function hn(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(hn=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){hn(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}})(t,e,n,r)}function pn(t,e,n,r,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(r,o)}function yn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yn(Object(n),!0).forEach((function(e){vn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vn(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=fn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var wn={annotation:u.a.object.isRequired,isMultiSelected:u.a.bool,isMultiSelectMode:u.a.bool,isInNotesPanel:u.a.bool,handleMultiSelect:u.a.func},Sn=0,On=function(t){var e=t.annotation,n=t.isMultiSelected,i=t.isMultiSelectMode,l=t.isInNotesPanel,u=t.handleMultiSelect,d=t.isCustomPanelOpen,h=t.shouldHideConnectorLine,p=Object(O.a)().core,y=Object(r.useContext)(f.a),m=y.isSelected,v=y.resize,b=y.pendingEditTextMap,g=y.isContentEditable,w=y.isDocumentReadOnly,S=y.isExpandedFromSearch,C=y.setCurAnnotId,j=Object(r.useRef)(),A=Object(r.useRef)(),T=bn(Object(r.useState)({}),2),k=T[0],P=T[1],R=Object(r.useRef)([]),N=Object(c.d)(),I=bn(Object(s.a)(),1)[0],M=new Set,L=bn(Object(c.e)((function(t){return[E.a.getNoteTransformFunction(t),E.a.getCustomNoteSelectionFunction(t),E.a.getUnreadAnnotationIdSet(t),E.a.isCommentThreadExpansionEnabled(t),E.a.isRightClickAnnotationPopupEnabled(t),E.a.getActiveDocumentViewerKey(t),E.a.getIsOfficeEditorMode(t),E.a.getOfficeEditorEditMode(t)]}),c.c),8),D=L[0],q=L[1],z=L[2],B=L[3],F=L[4],H=L[5],U=L[6],G=L[7],W=Object(r.useCallback)((function(t,e){P((function(n){return mn(mn({},n),{},vn({},e,t))}))}),[P]),V=e.getReplies().sort((function(t,e){return t.DateCreated-e.DateCreated}));V.filter((function(t){return z.has(t.Id)})).forEach((function(t){return M.add(t.Id)})),Object(r.useEffect)((function(){var t=function(t,e){"delete"===e&&t.forEach((function(t){z.has(t.Id)&&N(_.a.setAnnotationReadState({isRead:!0,annotationId:t.Id}))}))};return p.addEventListener("annotationChanged",t,void 0,H),function(){p.removeEventListener("annotationChanged",t,H)}}),[z]),Object(r.useEffect)((function(){var t=A.current,e=j.current.getBoundingClientRect().height;A.current=e,t&&Math.round(t)!==Math.round(e)&&v()})),Object(r.useEffect)((function(){if(D){var t=Object(Qe.a)().querySelectorAll(".NotesPanel")[0];R.current.forEach((function(e){var n=t.querySelector("[data-webviewer-custom-element=".concat(e,"]"));n&&n.parentNode.removeChild(n)})),R.current=[];var n={annotation:e,isSelected:m};D(j.current,n,(function(){var t,e=(t=document).createElement.apply(t,arguments),n="custom-element-".concat(Sn);return Sn++,R.current.push(n),e.setAttribute("data-webviewer-custom-element",n),e.addEventListener("mousedown",(function(t){t.stopPropagation()})),e}))}})),Object(r.useEffect)((function(){""!==b[e.Id]&&g&&!w&&W(!0,0)}),[w,g,W,e,i]),Object(Oe.a)((function(){!w&&g||W(!1,0)}),[w,g,W]);var K=function(){var t,r=(t=dn().m((function t(r){var o;return dn().w((function(t){for(;;)switch(t.n){case 0:if(r&&r.stopPropagation(),!window.getSelection().toString()){t.n=1;break}return t.a(2);case 1:if(!i){t.n=2;break}return u(!n),t.a(2);case 2:if(z.has(e.Id)&&N(_.a.setAnnotationReadState({isRead:!0,annotationId:e.Id})),q&&q(e),m||(p.deselectAllAnnotations(H),setTimeout((function(){return N(_.a.openElement(x.a.ANNOTATION_NOTE_CONNECTOR_LINE))}),300)),!l||U&&G===St.C.PREVIEW){t.n=3;break}if(p.selectAnnotation(e,H),C(e.Id),p.jumpToAnnotation(e,H),F||N(_.a.openElement(x.a.ANNOTATION_POPUP)),!U){t.n=3;break}return o=e.getCustomData(St.z),t.n=3,p.getOfficeEditor().moveCursorToTrackedChange(o);case 3:return t.a(2)}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){pn(i,r,o,a,l,"next",t)}function l(t){pn(i,r,o,a,l,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),$=M.size>0,Z=a()({Note:!0,expanded:m,"is-multi-selected":n,unread:z.has(e.Id)||$,disabled:U&&G===St.C.PREVIEW}),Y=a()({replies:!0,hidden:!m});Object(r.useEffect)((function(){i||V.forEach((function(t,e){var n=b[t.Id];""!==n&&void 0!==n&&m&&W(!0,1+e)}))}),[m,i]),Object(r.useEffect)((function(){i&&W(!1,0)}),[i]);var X=!Object.values(k).some((function(t){return t})),Q=function(t){M.has(t.Id)&&(N(_.a.setAnnotationReadState({isRead:!0,annotationId:t.Id})),p.getAnnotationManager(H).selectAnnotation(t))},J=function(){if(M.size>0){var t=V.filter((function(t){return M.has(t.Id)}));p.getAnnotationManager(H).selectAnnotations(t),t.forEach((function(t){return N(_.a.setAnnotationReadState({isRead:!0,annotationId:t.Id}))}))}},tt=p.getGroupAnnotations(e,H),et=tt.length>1,nt=Object(Se.g)(e)===Se.c.TRACKED_CHANGE,rt=V.length>0?V[V.length-1].Id:null,ot=Object(sn.a)(p,e),it=m&&(l||d)&&!h&&ot;return o.a.createElement("div",{ref:j,className:Z,id:"note_".concat(e.Id)},o.a.createElement(yt.a,{className:"note-button",onClick:function(t){return K(t)},ariaLabelledby:"note_".concat(e.Id),ariaCurrent:m,dataElement:"expandNoteButton"}),o.a.createElement(Le,{noteIndex:0,annotation:e,setIsEditing:W,handleNoteClick:K,isEditing:k[0],isNonReplyNoteRead:!z.has(e.Id),isUnread:z.has(e.Id)||$,handleMultiSelect:function(t){C(e.Id),u(t)},isMultiSelected:n,isMultiSelectMode:i}),(m||S||B)&&!nt&&o.a.createElement(o.a.Fragment,null,V.length>0&&o.a.createElement("div",{className:Y},$&&o.a.createElement(yt.a,{dataElement:"markAllReadButton",className:"mark-all-read-button",label:I("action.markAllRead"),onClick:J}),V.map((function(t,e){return o.a.createElement("div",{className:"reply",id:"note_reply_".concat(t.Id),key:"note_reply_".concat(t.Id)},o.a.createElement(Le,{noteIndex:e+1,key:t.Id,annotation:t,setIsEditing:W,isEditing:k[e+1],onReplyClicked:Q,isUnread:z.has(t.Id),handleMultiSelect:u,isMultiSelected:n,isMultiSelectMode:i,handleNoteClick:K}))}))),et&&o.a.createElement(Ze,{groupAnnotations:tt,isMultiSelectMode:i}),X&&!i&&o.a.createElement(Ge,{isUnread:rt&&z.has(rt),onPendingReplyChange:J,annotation:e})),it&&o.a.createElement(cn,{annotation:e,noteContainerRef:j,isCustomPanelOpen:d}))};On.propTypes=wn;var En=On;e.a=En},1559:function(t,e,n){"use strict";function r(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function o(t,e){for(var n=t.length-1;n>=0;n--)!0===e(t[n])&&t.splice(n,1)}function i(t){throw new Error("Unhandled case for value: '".concat(t,"'"))}var a=function(){function t(t){void 0===t&&(t={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=t.tagName||"",this.attrs=t.attrs||{},this.innerHTML=t.innerHtml||t.innerHTML||""}return t.prototype.setTagName=function(t){return this.tagName=t,this},t.prototype.getTagName=function(){return this.tagName||""},t.prototype.setAttr=function(t,e){return this.getAttrs()[t]=e,this},t.prototype.getAttr=function(t){return this.getAttrs()[t]},t.prototype.setAttrs=function(t){return Object.assign(this.getAttrs(),t),this},t.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},t.prototype.setClass=function(t){return this.setAttr("class",t)},t.prototype.addClass=function(t){for(var e,n=this.getClass(),o=this.whitespaceRegex,i=n?n.split(o):[],a=t.split(o);e=a.shift();)-1===r(i,e)&&i.push(e);return this.getAttrs().class=i.join(" "),this},t.prototype.removeClass=function(t){for(var e,n=this.getClass(),o=this.whitespaceRegex,i=n?n.split(o):[],a=t.split(o);i.length&&(e=a.shift());){var l=r(i,e);-1!==l&&i.splice(l,1)}return this.getAttrs().class=i.join(" "),this},t.prototype.getClass=function(){return this.getAttrs().class||""},t.prototype.hasClass=function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},t.prototype.setInnerHTML=function(t){return this.innerHTML=t,this},t.prototype.setInnerHtml=function(t){return this.setInnerHTML(t)},t.prototype.getInnerHTML=function(){return this.innerHTML||""},t.prototype.getInnerHtml=function(){return this.getInnerHTML()},t.prototype.toAnchorString=function(){var t=this.getTagName(),e=this.buildAttrsStr();return["<",t,e=e?" "+e:"",">",this.getInnerHtml(),"</",t,">"].join("")},t.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var t=this.getAttrs(),e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+'="'+t[n]+'"');return e.join(" ")},t}();var l=function(){function t(t){void 0===t&&(t={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=t.newWindow||!1,this.truncate=t.truncate||{},this.className=t.className||""}return t.prototype.build=function(t){return new a({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},t.prototype.createAttrs=function(t){var e={href:t.getAnchorHref()},n=this.createCssClass(t);return n&&(e.class=n),this.newWindow&&(e.target="_blank",e.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<t.getAnchorText().length&&(e.title=t.getAnchorHref()),e},t.prototype.createCssClass=function(t){var e=this.className;if(e){for(var n=[e],r=t.getCssClassSuffixes(),o=0,i=r.length;o<i;o++)n.push(e+"-"+r[o]);return n.join(" ")}return""},t.prototype.processAnchorText=function(t){return t=this.doTruncate(t)},t.prototype.doTruncate=function(t){var e=this.truncate;if(!e||!e.length)return t;var n=e.length,r=e.location;return"smart"===r?function(t,e,n){var r,o;null==n?(n="&hellip;",o=3,r=8):(o=n.length,r=n.length);var i=function(t){var e="";return t.scheme&&t.host&&(e+=t.scheme+"://"),t.host&&(e+=t.host),t.path&&(e+="/"+t.path),t.query&&(e+="?"+t.query),t.fragment&&(e+="#"+t.fragment),e},a=function(t,e){var r=e/2,o=Math.ceil(r),i=-1*Math.floor(r),a="";return i<0&&(a=t.substr(i)),t.substr(0,o)+n+a};if(t.length<=e)return t;var l=e-o,u=function(t){var e={},n=t,r=n.match(/^([a-z]+):\/\//i);return r&&(e.scheme=r[1],n=n.substr(r[0].length)),(r=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(e.host=r[1],n=n.substr(r[0].length)),(r=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(e.path=r[1],n=n.substr(r[0].length)),(r=n.match(/^\?(.*?)(?=(#|$))/i))&&(e.query=r[1],n=n.substr(r[0].length)),(r=n.match(/^#(.*?)$/i))&&(e.fragment=r[1]),e}(t);if(u.query){var c=u.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(u.query=u.query.substr(0,c[1].length),t=i(u))}if(t.length<=e)return t;if(u.host&&(u.host=u.host.replace(/^www\./,""),t=i(u)),t.length<=e)return t;var s="";if(u.host&&(s+=u.host),s.length>=l)return u.host.length==e?(u.host.substr(0,e-o)+n).substr(0,l+r):a(s,l).substr(0,l+r);var f="";if(u.path&&(f+="/"+u.path),u.query&&(f+="?"+u.query),f){if((s+f).length>=l)return(s+f).length==e?(s+f).substr(0,e):(s+a(f,l-s.length)).substr(0,l+r);s+=f}if(u.fragment){var d="#"+u.fragment;if((s+d).length>=l)return(s+d).length==e?(s+d).substr(0,e):(s+a(d,l-s.length)).substr(0,l+r);s+=d}if(u.scheme&&u.host){var h=u.scheme+"://";if((s+h).length<l)return(h+s).substr(0,e)}if(s.length<=e)return s;var p="";return l>0&&(p=s.substr(-1*Math.floor(l/2))),(s.substr(0,Math.ceil(l/2))+n+p).substr(0,l+r)}(t,n):"middle"===r?function(t,e,n){if(t.length<=e)return t;var r,o;null==n?(n="&hellip;",r=8,o=3):(r=n.length,o=n.length);var i=e-o,a="";return i>0&&(a=t.substr(-1*Math.floor(i/2))),(t.substr(0,Math.ceil(i/2))+n+a).substr(0,i+r)}(t,n):function(t,e,n){return function(t,e,n){var r;return t.length>e&&(null==n?(n="&hellip;",r=3):r=n.length,t=t.substring(0,e-r)+n),t}(t,e,n)}(t,n)},t}(),u=function(){function t(t){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=t.tagBuilder,this.matchedText=t.matchedText,this.offset=t.offset}return t.prototype.getMatchedText=function(){return this.matchedText},t.prototype.setOffset=function(t){this.offset=t},t.prototype.getOffset=function(){return this.offset},t.prototype.getCssClassSuffixes=function(){return[this.getType()]},t.prototype.buildTag=function(){return this.tagBuilder.build(this)},t}(),c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var d,h=function(t){function e(e){var n=t.call(this,e)||this;return n.email="",n.email=e.email,n}return s(e,t),e.prototype.getType=function(){return"email"},e.prototype.getEmail=function(){return this.email},e.prototype.getAnchorHref=function(){return"mailto:"+this.email},e.prototype.getAnchorText=function(){return this.email},e}(u),p=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceName="",n.hashtag="",n.serviceName=e.serviceName,n.hashtag=e.hashtag,n}return s(e,t),e.prototype.getType=function(){return"hashtag"},e.prototype.getServiceName=function(){return this.serviceName},e.prototype.getHashtag=function(){return this.hashtag},e.prototype.getAnchorHref=function(){var t=this.serviceName,e=this.hashtag;switch(t){case"twitter":return"https://twitter.com/hashtag/"+e;case"facebook":return"https://www.facebook.com/hashtag/"+e;case"instagram":return"https://instagram.com/explore/tags/"+e;case"tiktok":return"https://www.tiktok.com/tag/"+e;default:throw new Error("Unknown service name to point hashtag to: "+t)}},e.prototype.getAnchorText=function(){return"#"+this.hashtag},e}(u),y=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceName="twitter",n.mention="",n.mention=e.mention,n.serviceName=e.serviceName,n}return s(e,t),e.prototype.getType=function(){return"mention"},e.prototype.getMention=function(){return this.mention},e.prototype.getServiceName=function(){return this.serviceName},e.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},e.prototype.getAnchorText=function(){return"@"+this.mention},e.prototype.getCssClassSuffixes=function(){var e=t.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&e.push(n),e},e}(u),m=function(t){function e(e){var n=t.call(this,e)||this;return n.number="",n.plusSign=!1,n.number=e.number,n.plusSign=e.plusSign,n}return s(e,t),e.prototype.getType=function(){return"phone"},e.prototype.getPhoneNumber=function(){return this.number},e.prototype.getNumber=function(){return this.getPhoneNumber()},e.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},e.prototype.getAnchorText=function(){return this.matchedText},e}(u),v=function(t){function e(e){var n=t.call(this,e)||this;return n.url="",n.urlMatchType="scheme",n.protocolUrlMatch=!1,n.protocolRelativeMatch=!1,n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.schemePrefixRegex=/^(https?:\/\/)?/i,n.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,n.protocolRelativeRegex=/^\/\//,n.protocolPrepended=!1,n.urlMatchType=e.urlMatchType,n.url=e.url,n.protocolUrlMatch=e.protocolUrlMatch,n.protocolRelativeMatch=e.protocolRelativeMatch,n.stripPrefix=e.stripPrefix,n.stripTrailingSlash=e.stripTrailingSlash,n.decodePercentEncoding=e.decodePercentEncoding,n}return s(e,t),e.prototype.getType=function(){return"url"},e.prototype.getUrlMatchType=function(){return this.urlMatchType},e.prototype.getUrl=function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},e.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},e.prototype.getAnchorText=function(){var t=this.getMatchedText();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix.scheme&&(t=this.stripSchemePrefix(t)),this.stripPrefix.www&&(t=this.stripWwwPrefix(t)),this.stripTrailingSlash&&(t=this.removeTrailingSlash(t)),this.decodePercentEncoding&&(t=this.removePercentEncoding(t)),t},e.prototype.stripSchemePrefix=function(t){return t.replace(this.schemePrefixRegex,"")},e.prototype.stripWwwPrefix=function(t){return t.replace(this.wwwPrefixRegex,"$1")},e.prototype.stripProtocolRelativePrefix=function(t){return t.replace(this.protocolRelativeRegex,"")},e.prototype.removeTrailingSlash=function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t},e.prototype.removePercentEncoding=function(t){var e=t.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(e)}catch(t){return e}},e}(u),b=function(t){this.__jsduckDummyDocProp=null,this.tagBuilder=t.tagBuilder},g=/[A-Za-z]/,w=/[\d]/,S=/[\D]/,O=/\s/,E=/['"]/,x=/[\x00-\x1F\x7F]/,_=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,C=_+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,j=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,A=C+j,T=C+j,k="(?:["+j+"]{1,3}\\.){3}["+j+"]{1,3}",P="["+T+"](?:["+T+"\\-]{0,61}["+T+"])?",R=function(t){return"(?=("+P+"))\\"+t},N=function(t){return"(?:"+R(t)+"(?:\\."+R(t+1)+"){0,126}|"+k+")"},I=(new RegExp("["+T+".\\-]*["+T+"\\-]"),new RegExp("[".concat(T,"]"))),M=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermgensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|travelchannel|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|university|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi||abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|||||||||abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo||||||||||||||aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|duck|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip||||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)/,L=new RegExp("[".concat(T,"!#$%&'*+/=?^_`{|}~-]")),D=new RegExp("^".concat(M.source,"$")),q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.localPartCharRegex=L,e.strictTldRegex=D,e}return s(e,t),e.prototype.parseMatches=function(t){for(var e=this.tagBuilder,n=this.localPartCharRegex,r=this.strictTldRegex,o=[],a=t.length,l=new z,u={m:"a",a:"i",i:"l",l:"t",t:"o",o:":"},c=0,s=0,d=l;c<a;){var p=t.charAt(c);switch(s){case 0:y(p);break;case 1:m(t.charAt(c-1),p);break;case 2:v(p);break;case 3:b(p);break;case 4:g(p);break;case 5:w(p);break;case 6:S(p);break;case 7:O(p);break;default:i(s)}c++}return _(),o;function y(t){"m"===t?E(1):n.test(t)&&E()}function m(t,e){":"===t?n.test(e)?(s=2,d=new z(f(f({},d),{hasMailtoPrefix:!0}))):x():u[t]===e||(n.test(e)?s=2:"."===e?s=3:"@"===e?s=4:x())}function v(t){"."===t?s=3:"@"===t?s=4:n.test(t)||x()}function b(t){"."===t||"@"===t?x():n.test(t)?s=2:x()}function g(t){I.test(t)?s=5:x()}function w(t){"."===t?s=7:"-"===t?s=6:I.test(t)||_()}function S(t){"-"===t||"."===t?_():I.test(t)?s=5:_()}function O(t){"."===t||"-"===t?_():I.test(t)?(s=5,d=new z(f(f({},d),{hasDomainDot:!0}))):_()}function E(t){void 0===t&&(t=2),s=t,d=new z({idx:c})}function x(){s=0,d=l}function _(){if(d.hasDomainDot){var n=t.slice(d.idx,c);/[-.]$/.test(n)&&(n=n.slice(0,-1));var i=d.hasMailtoPrefix?n.slice("mailto:".length):n;(function(t){var e=(t.split(".").pop()||"").toLowerCase();return r.test(e)})(i)&&o.push(new h({tagBuilder:e,matchedText:n,offset:d.idx,email:i}))}x()}},e}(b),z=function(t){void 0===t&&(t={}),this.idx=void 0!==t.idx?t.idx:-1,this.hasMailtoPrefix=!!t.hasMailtoPrefix,this.hasDomainDot=!!t.hasDomainDot},B=function(){function t(){}return t.isValid=function(t,e){return!(e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e)&&!this.isValidIpAddress(t)||this.containsMultipleDots(t))},t.isValidIpAddress=function(t){var e=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==t.match(e)},t.containsMultipleDots=function(t){var e=t;return this.hasFullProtocolRegex.test(t)&&(e=t.split("://")[1]),e.split("/")[0].indexOf("..")>-1},t.isValidUriScheme=function(t){var e=t.match(this.uriSchemeRegex),n=e&&e[0].toLowerCase();return"javascript:"!==n&&"vbscript:"!==n},t.urlMatchDoesNotHaveProtocolOrDot=function(t,e){return!(!t||e&&this.hasFullProtocolRegex.test(e)||-1!==t.indexOf("."))},t.urlMatchDoesNotHaveAtLeastOneWordChar=function(t,e){return!(!t||!e)&&(!this.hasFullProtocolRegex.test(e)&&!this.hasWordCharAfterProtocolRegex.test(t))},t.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,t.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,t.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+_+"]"),t.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,t}(),F=(d=new RegExp("[/?#](?:["+T+"\\-+&@#/%=~_()|'$*\\[\\]{}?!:,.;^]*["+T+"\\-+&@#/%=~_()|'$*\\[\\]{}])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,N(2),")","|","(","(//)?",/(?:www\.)/.source,N(6),")","|","(","(//)?",N(10)+"\\.",M.source,"(?![-"+A+"])",")",")","(?::[0-9]+)?","(?:"+d.source+")?"].join(""),"gi")),H=new RegExp("["+T+"]"),U=function(t){function e(e){var n=t.call(this,e)||this;return n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.matcherRegex=F,n.wordCharRegExp=H,n.stripPrefix=e.stripPrefix,n.stripTrailingSlash=e.stripTrailingSlash,n.decodePercentEncoding=e.decodePercentEncoding,n}return s(e,t),e.prototype.parseMatches=function(t){for(var e,n=this.matcherRegex,r=this.stripPrefix,o=this.stripTrailingSlash,i=this.decodePercentEncoding,a=this.tagBuilder,l=[],u=function(){var n=e[0],u=e[1],s=e[4],f=e[5],d=e[9],h=e.index,p=f||d,y=t.charAt(h-1);if(!B.isValid(n,u))return"continue";if(h>0&&"@"===y)return"continue";if(h>0&&p&&c.wordCharRegExp.test(y))return"continue";if(/\?$/.test(n)&&(n=n.substr(0,n.length-1)),c.matchHasUnbalancedClosingParen(n))n=n.substr(0,n.length-1);else{var m=c.matchHasInvalidCharAfterTld(n,u);m>-1&&(n=n.substr(0,m))}var b=["http://","https://"].find((function(t){return!!u&&-1!==u.indexOf(t)}));if(b){var g=n.indexOf(b);n=n.substr(g),u=u.substr(g),h+=g}var w=u?"scheme":s?"www":"tld",S=!!u;l.push(new v({tagBuilder:a,matchedText:n,offset:h,urlMatchType:w,url:n,protocolUrlMatch:S,protocolRelativeMatch:!!p,stripPrefix:r,stripTrailingSlash:o,decodePercentEncoding:i}))},c=this;null!==(e=n.exec(t));)u();return l},e.prototype.matchHasUnbalancedClosingParen=function(t){var e,n=t.charAt(t.length-1);if(")"===n)e="(";else if("]"===n)e="[";else{if("}"!==n)return!1;e="{"}for(var r=0,o=0,i=t.length-1;o<i;o++){var a=t.charAt(o);a===e?r++:a===n&&(r=Math.max(r-1,0))}return 0===r},e.prototype.matchHasInvalidCharAfterTld=function(t,e){if(!t)return-1;var n=0;e&&(n=t.indexOf(":"),t=t.slice(n));var r=new RegExp("^((.?//)?[-."+T+"]*[-"+T+"]\\.[-"+T+"]+)").exec(t);return null===r?-1:(n+=r[1].length,t=t.slice(r[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?n:-1)},e}(b),G=new RegExp("#[_".concat(T,"]{1,139}(?![_").concat(T,"])"),"g"),W=new RegExp("[^"+T+"]"),V=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceName="twitter",n.matcherRegex=G,n.nonWordCharRegex=W,n.serviceName=e.serviceName,n}return s(e,t),e.prototype.parseMatches=function(t){for(var e,n=this.matcherRegex,r=this.nonWordCharRegex,o=this.serviceName,i=this.tagBuilder,a=[];null!==(e=n.exec(t));){var l=e.index,u=t.charAt(l-1);if(0===l||r.test(u)){var c=e[0],s=e[0].slice(1);a.push(new p({tagBuilder:i,matchedText:c,offset:l,serviceName:o,hashtag:s}))}}return a},e}(b),K=new RegExp("".concat(/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]{1}-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source),"g"),$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.matcherRegex=K,e}return s(e,t),e.prototype.parseMatches=function(t){for(var e,n=this.matcherRegex,r=this.tagBuilder,o=[];null!==(e=n.exec(t));){var i=e[0],a=i.replace(/[^0-9,;#]/g,""),l=!(!e[1]&&!e[2]),u=0==e.index?"":t.substr(e.index-1,1),c=t.substr(e.index+i.length,1),s=!u.match(/\d/)&&!c.match(/\d/);this.testMatch(e[3])&&this.testMatch(i)&&s&&o.push(new m({tagBuilder:r,matchedText:i,offset:e.index,number:a,plusSign:l}))}return o},e.prototype.testMatch=function(t){return S.test(t)},e}(b),Z=new RegExp("@[_".concat(T,"]{1,50}(?![_").concat(T,"])"),"g"),Y=new RegExp("@[_.".concat(T,"]{1,30}(?![_").concat(T,"])"),"g"),X=new RegExp("@[-_.".concat(T,"]{1,50}(?![-_").concat(T,"])"),"g"),Q=new RegExp("@[_.".concat(T,"]{1,23}[_").concat(T,"](?![_").concat(T,"])"),"g"),J=new RegExp("[^"+T+"]"),tt=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceName="twitter",n.matcherRegexes={twitter:Z,instagram:Y,soundcloud:X,tiktok:Q},n.nonWordCharRegex=J,n.serviceName=e.serviceName,n}return s(e,t),e.prototype.parseMatches=function(t){var e,n=this.serviceName,r=this.matcherRegexes[this.serviceName],o=this.nonWordCharRegex,i=this.tagBuilder,a=[];if(!r)return a;for(;null!==(e=r.exec(t));){var l=e.index,u=t.charAt(l-1);if(0===l||o.test(u)){var c=e[0].replace(/\.+$/g,""),s=c.slice(1);a.push(new y({tagBuilder:i,matchedText:c,offset:l,serviceName:n,mention:s}))}}return a},e}(b);function et(t,e){for(var n,r=e.onOpenTag,o=e.onCloseTag,a=e.onText,l=e.onComment,u=e.onDoctype,c=new nt,s=0,d=t.length,h=0,p=0,y=c;s<d;){var m=t.charAt(s);switch(h){case 0:v(m);break;case 1:b(m);break;case 2:_(m);break;case 3:S(m);break;case 4:C(m);break;case 5:j(m);break;case 6:A(m);break;case 7:T(m);break;case 8:k(m);break;case 9:P(m);break;case 10:R(m);break;case 11:N(m);break;case 12:I(m);break;case 13:M(m);break;case 14:L(m);break;case 15:D(m);break;case 16:q(m);break;case 17:z(m);break;case 18:B(m);break;case 19:F(m);break;case 20:H(m);break;default:i(h)}s++}function v(t){"<"===t&&G()}function b(t){"!"===t?h=13:"/"===t?(h=2,y=new nt(f(f({},y),{isClosing:!0}))):"<"===t?G():g.test(t)?(h=3,y=new nt(f(f({},y),{isOpening:!0}))):(h=0,y=c)}function S(t){O.test(t)?(y=new nt(f(f({},y),{name:V()})),h=4):"<"===t?G():"/"===t?(y=new nt(f(f({},y),{name:V()})),h=12):">"===t?(y=new nt(f(f({},y),{name:V()})),W()):g.test(t)||w.test(t)||":"===t||U()}function _(t){">"===t?U():g.test(t)?h=3:U()}function C(t){O.test(t)||("/"===t?h=12:">"===t?W():"<"===t?G():"="===t||E.test(t)||x.test(t)?U():h=5)}function j(t){O.test(t)?h=6:"/"===t?h=12:"="===t?h=7:">"===t?W():"<"===t?G():E.test(t)&&U()}function A(t){O.test(t)||("/"===t?h=12:"="===t?h=7:">"===t?W():"<"===t?G():E.test(t)?U():h=5)}function T(t){O.test(t)||('"'===t?h=8:"'"===t?h=9:/[>=`]/.test(t)?U():"<"===t?G():h=10)}function k(t){'"'===t&&(h=11)}function P(t){"'"===t&&(h=11)}function R(t){O.test(t)?h=4:">"===t?W():"<"===t&&G()}function N(t){O.test(t)?h=4:"/"===t?h=12:">"===t?W():"<"===t?G():(h=4,s--)}function I(t){">"===t?(y=new nt(f(f({},y),{isClosing:!0})),W()):h=4}function M(e){"--"===t.substr(s,2)?(s+=2,y=new nt(f(f({},y),{type:"comment"})),h=14):"DOCTYPE"===t.substr(s,7).toUpperCase()?(s+=7,y=new nt(f(f({},y),{type:"doctype"})),h=20):U()}function L(t){"-"===t?h=15:">"===t?U():h=16}function D(t){"-"===t?h=18:">"===t?U():h=16}function q(t){"-"===t&&(h=17)}function z(t){h="-"===t?18:16}function B(t){">"===t?W():"!"===t?h=19:"-"===t||(h=16)}function F(t){"-"===t?h=17:">"===t?W():h=16}function H(t){">"===t?W():"<"===t&&G()}function U(){h=0,y=c}function G(){h=1,y=new nt({idx:s})}function W(){var e=t.slice(p,y.idx);e&&a(e,p),"comment"===y.type?l(y.idx):"doctype"===y.type?u(y.idx):(y.isOpening&&r(y.name,y.idx),y.isClosing&&o(y.name,y.idx)),U(),p=s+1}function V(){var e=y.idx+(y.isClosing?2:1);return t.slice(e,s).toLowerCase()}p<s&&(n=t.slice(p,s),a(n,p),p=s+1)}var nt=function(t){void 0===t&&(t={}),this.idx=void 0!==t.idx?t.idx:-1,this.type=t.type||"tag",this.name=t.name||"",this.isOpening=!!t.isOpening,this.isClosing=!!t.isClosing},rt=function(){function t(e){void 0===e&&(e={}),this.version=t.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(e.urls),this.email="boolean"==typeof e.email?e.email:this.email,this.phone="boolean"==typeof e.phone?e.phone:this.phone,this.hashtag=e.hashtag||this.hashtag,this.mention=e.mention||this.mention,this.newWindow="boolean"==typeof e.newWindow?e.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(e.stripPrefix),this.stripTrailingSlash="boolean"==typeof e.stripTrailingSlash?e.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof e.decodePercentEncoding?e.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=e.sanitizeHtml||!1;var n=this.mention;if(!1!==n&&-1===["twitter","instagram","soundcloud","tiktok"].indexOf(n))throw new Error("invalid `mention` cfg '".concat(n,"' - see docs"));var r=this.hashtag;if(!1!==r&&-1===["twitter","facebook","instagram","tiktok"].indexOf(r))throw new Error("invalid `hashtag` cfg '".concat(r,"' - see docs"));this.truncate=this.normalizeTruncateCfg(e.truncate),this.className=e.className||this.className,this.replaceFn=e.replaceFn||this.replaceFn,this.context=e.context||this}return t.link=function(e,n){return new t(n).link(e)},t.parse=function(e,n){return new t(n).parse(e)},t.prototype.normalizeUrlsCfg=function(t){return null==t&&(t=!0),"boolean"==typeof t?{schemeMatches:t,wwwMatches:t,tldMatches:t}:{schemeMatches:"boolean"!=typeof t.schemeMatches||t.schemeMatches,wwwMatches:"boolean"!=typeof t.wwwMatches||t.wwwMatches,tldMatches:"boolean"!=typeof t.tldMatches||t.tldMatches}},t.prototype.normalizeStripPrefixCfg=function(t){return null==t&&(t=!0),"boolean"==typeof t?{scheme:t,www:t}:{scheme:"boolean"!=typeof t.scheme||t.scheme,www:"boolean"!=typeof t.www||t.www}},t.prototype.normalizeTruncateCfg=function(t){return"number"==typeof t?{length:t,location:"end"}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&void 0===t[n]&&(t[n]=e[n]);return t}(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},t.prototype.parse=function(t){var e=this,n=["a","style","script"],r=0,o=[];return et(t,{onOpenTag:function(t){n.indexOf(t)>=0&&r++},onText:function(t,n){if(0===r){var i=function(t,e){if(!e.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,r=[],o=0;n=e.exec(t);)r.push(t.substring(o,n.index)),r.push(n[0]),o=n.index+n[0].length;return r.push(t.substring(o)),r}(t,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),a=n;i.forEach((function(t,n){if(n%2==0){var r=e.parseText(t,a);o.push.apply(o,r)}a+=t.length}))}},onCloseTag:function(t){n.indexOf(t)>=0&&(r=Math.max(r-1,0))},onComment:function(t){},onDoctype:function(t){}}),o=this.compactMatches(o),o=this.removeUnwantedMatches(o)},t.prototype.compactMatches=function(t){t.sort((function(t,e){return t.getOffset()-e.getOffset()}));for(var e=0;e<t.length-1;){var n=t[e],r=n.getOffset(),o=n.getMatchedText().length,i=r+o;if(e+1<t.length){if(t[e+1].getOffset()===r){var a=t[e+1].getMatchedText().length>o?e:e+1;t.splice(a,1);continue}if(t[e+1].getOffset()<i){t.splice(e+1,1);continue}}e++}return t},t.prototype.removeUnwantedMatches=function(t){return this.hashtag||o(t,(function(t){return"hashtag"===t.getType()})),this.email||o(t,(function(t){return"email"===t.getType()})),this.phone||o(t,(function(t){return"phone"===t.getType()})),this.mention||o(t,(function(t){return"mention"===t.getType()})),this.urls.schemeMatches||o(t,(function(t){return"url"===t.getType()&&"scheme"===t.getUrlMatchType()})),this.urls.wwwMatches||o(t,(function(t){return"url"===t.getType()&&"www"===t.getUrlMatchType()})),this.urls.tldMatches||o(t,(function(t){return"url"===t.getType()&&"tld"===t.getUrlMatchType()})),t},t.prototype.parseText=function(t,e){void 0===e&&(e=0),e=e||0;for(var n=this.getMatchers(),r=[],o=0,i=n.length;o<i;o++){for(var a=n[o].parseMatches(t),l=0,u=a.length;l<u;l++)a[l].setOffset(e+a[l].getOffset());r.push.apply(r,a)}return r},t.prototype.link=function(t){if(!t)return"";this.sanitizeHtml&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var e=this.parse(t),n=[],r=0,o=0,i=e.length;o<i;o++){var a=e[o];n.push(t.substring(r,a.getOffset())),n.push(this.createMatchReturnVal(a)),r=a.getOffset()+a.getMatchedText().length}return n.push(t.substring(r)),n.join("")},t.prototype.createMatchReturnVal=function(t){var e;return this.replaceFn&&(e=this.replaceFn.call(this.context,t)),"string"==typeof e?e:!1===e?t.getMatchedText():e instanceof a?e.toAnchorString():t.buildTag().toAnchorString()},t.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var t=this.getTagBuilder(),e=[new V({tagBuilder:t,serviceName:this.hashtag}),new q({tagBuilder:t}),new $({tagBuilder:t}),new tt({tagBuilder:t,serviceName:this.mention}),new U({tagBuilder:t,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=e},t.prototype.getTagBuilder=function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new l({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t},t.version="3.15.0",t.AnchorTagBuilder=l,t.HtmlTag=a,t.matcher={Email:q,Hashtag:V,Matcher:b,Mention:tt,Phone:$,Url:U},t.match={Email:h,Hashtag:p,Match:u,Mention:y,Phone:m,Url:v},t}();e.a=rt},1560:function(t,e,n){"use strict";n.d(e,"b",(function(){return S})),n.d(e,"a",(function(){return F}));n(9),n(10),n(14),n(31),n(27),n(77),n(12),n(32),n(18),n(26),n(209),n(29),n(57),n(40),n(23),n(46),n(41),n(37),n(42),n(8),n(87),n(624),n(19),n(11),n(30),n(13);var r=n(1457);function o(t,e,n,r){var o=i(b(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=a(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function a(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,n){return e=b(e),function(t,e){if(e&&("object"==l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,n||[],b(t).constructor):e.apply(t,n))}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return y(t,arguments,b(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,t)})(t)}function y(t,e,n){if(m())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&v(o,n.prototype),o}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(m=function(){return!!t})()}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=r.a.import("blots/embed"),w=function(t){function e(t,n){var r;return f(this,e),(r=d(this,e,[t,n])).value={},r.event=new Event(t),r}return h(e,t),c(e)}(p(Event));var S=function(t){function e(t,n){var r;return f(this,e),(r=d(this,e,[t,n])).mounted=!1,r}return h(e,t),c(e,[{key:"attach",value:function(){o(e,"attach",this,3)([]),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){o(e,"detach",this,3)([]),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=void 0)}},{key:"getClickHandler",value:function(){var t=this;return function(e){var n=t.buildEvent("mention-clicked",e);window.dispatchEvent(n),e.preventDefault()}}},{key:"getHoverHandler",value:function(){var t=this;return function(e){var n=t.buildEvent("mention-hovered",e);window.dispatchEvent(n),e.preventDefault()}}},{key:"buildEvent",value:function(t,e){var n=new w(t,{bubbles:!0,cancelable:!0});return n.value=Object.assign({},this.domNode.dataset),n.event=e,n}}],[{key:"create",value:function(t){var n=o(e,"create",this,2)([]);if(!function(t){return"object"===l(t)&&null!==t&&"value"in t&&"string"==typeof t.value&&"denotationChar"in t&&"string"==typeof t.denotationChar}(t)||n instanceof HTMLElement==!1)return n;var r=document.createElement("span");if(r.className="ql-mention-denotation-char",r.innerText=t.denotationChar,n.appendChild(r),"function"==typeof this.render)n.appendChild(this.render(t));else{var i=document.createElement("span");i.className="ql-mention-value",i.innerText=t.value,n.appendChild(i)}return e.setDataValues(n,t)}},{key:"setDataValues",value:function(t,e){var n=t;return Object.keys(e).forEach((function(t){n.dataset[t]=e[t]})),n}},{key:"value",value:function(t){return t.dataset}}])}(g);S.blotName="mention",S.tagName="span",S.className="mention";n(38),n(36),n(21),n(20),n(22),n(16),n(1480),n(1523),n(47),n(48),n(475),n(17),n(94);var O="Tab",E="Enter",x="Escape",_="ArrowUp",C="ArrowDown";n(233),n(119),n(182);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e,n){var r=t;return Object.keys(e).forEach((function(t){n.indexOf(t)>-1?r.dataset[t]=e[t]:delete r.dataset[t]})),r}function T(t,e){null!==e&&("object"===j(e)?t.appendChild(e):t.innerText=e)}function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){N(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function N(t,e,n){return(e=D(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return M(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D(r.key),r)}}function D(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:e+""}function q(t,e,n){return e=z(e),function(t,e){if(e&&("object"==k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],z(t).constructor):e.apply(t,n))}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var F=function(t){function e(t,n){var r,o;for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=q(this,e,[t,n])).isOpen=!1,o.itemIndex=0,o.values=[],o.suspendMouseEnter=!1,Array.isArray(null==n?void 0:n.dataAttributes)&&(o.options.dataAttributes=o.options.dataAttributes?o.options.dataAttributes.concat(n.dataAttributes):n.dataAttributes),o.options){var a=i,l=o.options[a];"function"==typeof l&&(o.options[a]=l.bind(o))}o.mentionContainer=document.createElement("div"),o.mentionContainer.className=o.options.mentionContainerClass?o.options.mentionContainerClass:"",o.mentionContainer.style.cssText="display: none; position: absolute;",o.mentionContainer.onmousemove=o.onContainerMouseMove.bind(o),o.options.fixMentionsToQuill&&(o.mentionContainer.style.width="auto"),o.mentionList=document.createElement("ul"),o.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),o.mentionList.className=o.options.mentionListClass?o.options.mentionListClass:"",o.mentionContainer.appendChild(o.mentionList),t.on("text-change",o.onTextChange.bind(o)),t.on("selection-change",o.onSelectionChange.bind(o)),t.container.addEventListener("paste",(function(){setTimeout((function(){var e=t.getSelection();o.onSelectionChange(e)}))})),t.keyboard.addBinding({key:O},o.selectHandler.bind(o)),t.keyboard.bindings[O].unshift(t.keyboard.bindings[O].pop());var u,c=I(null!==(r=o.options.selectKeys)&&void 0!==r?r:[]);try{for(c.s();!(u=c.n()).done;){var s=u.value;t.keyboard.addBinding({key:s},o.selectHandler.bind(o))}}catch(t){c.e(t)}finally{c.f()}return t.keyboard.bindings[E].unshift(t.keyboard.bindings[E].pop()),t.keyboard.addBinding({key:x},o.escapeHandler.bind(o)),t.keyboard.addBinding({key:_},o.upHandler.bind(o)),t.keyboard.addBinding({key:C},o.downHandler.bind(o)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(e,t),function(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"selectHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.selectItem(),!1)}},{key:"escapeHandler",value:function(){return!this.isOpen||(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1)}},{key:"upHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.prevItem(),!1)}},{key:"downHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.nextItem(),!1)}},{key:"showMentionList",value:function(){"fixed"===this.options.positioningStrategy?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose&&this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=0;e<this.mentionList.childNodes.length;e+=1){var n=this.mentionList.childNodes[e];n instanceof HTMLElement&&n.classList.remove("selected")}var r=this.mentionList.childNodes[this.itemIndex];if(-1!==this.itemIndex&&"true"!==r.dataset.disabled&&(r.classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",r.id),t)){var o=r.offsetHeight,i=r.offsetTop,a=this.mentionContainer.scrollTop,l=a+this.mentionContainer.offsetHeight;i<a?this.mentionContainer.scrollTop=i:i>l-o&&(this.mentionContainer.scrollTop+=i-l+o)}}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var t,e,n=this;if(-1!==this.itemIndex){var r=this.mentionList.childNodes[this.itemIndex].dataset;r.disabled||(null===(t=(e=this.options).onSelect)||void 0===t||t.call(e,r,(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.insertItem(t,e,r)})),this.hideMentionList())}}},{key:"insertItem",value:function(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t;if(null!==a&&void 0!==this.mentionCharPos&&void 0!==this.cursorPos){var l,u=R(R({},this.options),i);u.showDenotationChar||(a.denotationChar=""),n?l=this.cursorPos:(l=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,r.a.sources.USER));var c=this.quill.insertEmbed(l,null!==(o=u.blotName)&&void 0!==o?o:e.DEFAULTS.blotName,a,r.a.sources.USER);return u.spaceAfterInsert?(this.quill.insertText(l+1," ",r.a.sources.USER),this.quill.setSelection(l+2,r.a.sources.USER)):this.quill.setSelection(l+1,r.a.sources.USER),this.hideMentionList(),c}}},{key:"onItemMouseEnter",value:function(t){var e;if(!this.suspendMouseEnter&&t.target instanceof HTMLElement!=!1){var n=Number(null===(e=t.target)||void 0===e?void 0:e.dataset.index);Number.isNaN(n)||n===this.itemIndex||(this.itemIndex=n,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(t){var e;t.preventDefault(),t.stopImmediatePropagation(),t.currentTarget instanceof HTMLElement!=!1&&(this.itemIndex=null!==(e=t.currentTarget)&&void 0!==e&&e.dataset.index?Number.parseInt(t.currentTarget.dataset.index):-1,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(t){t.preventDefault(),t.stopImmediatePropagation()}},{key:"renderLoading",value:function(){var t,e,n,r=null!==(t=null===(e=(n=this.options).renderLoading)||void 0===e?void 0:e.call(n))&&void 0!==t?t:void 0;if(void 0!==r)if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0)this.showMentionList();else{this.mentionList.innerHTML="";var o=document.createElement("div");o.className="ql-mention-loading",T(o,r),this.mentionContainer.append(o),this.showMentionList()}}},{key:"removeLoading",value:function(){var t=this.mentionContainer.getElementsByClassName("ql-mention-loading");t.length>0&&t[0].remove()}},{key:"renderList",value:function(t,e,n){if(e&&e.length>0){this.removeLoading(),this.values=e,this.mentionList.innerText="";for(var r=-1,o=0;o<e.length;o+=1){var i=document.createElement("li");i.id="quill-mention-item-"+o,i.className=this.options.listItemClass?this.options.listItemClass:"",e[o].disabled?(i.className+=" disabled",i.setAttribute("aria-hidden","true")):-1===r&&(r=o),i.dataset.index=o.toString(),T(i,this.options.renderItem(e[o],n)),e[o].disabled?i.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(i.onmouseenter=this.onItemMouseEnter.bind(this),i.onmouseup=this.onItemClick.bind(this),i.onmousedown=this.onItemMouseDown.bind(this)),i.dataset.denotationChar=t,this.mentionList.appendChild(A(i,e[o],this.options.dataAttributes))}this.itemIndex=r,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var t,e,n=0;do{if(n++,t=(this.itemIndex+n)%this.values.length,e="true"===this.mentionList.childNodes[t].dataset.disabled,n===this.values.length+1){t=-1;break}}while(e);this.itemIndex=t,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var t,e,n=0;do{if(n++,t=(this.itemIndex+this.values.length-n)%this.values.length,e="true"===this.mentionList.childNodes[t].dataset.disabled,n===this.values.length+1){t=-1;break}}while(e);this.itemIndex=t,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(t,e){return t+this.mentionContainer.offsetHeight+e.top>window.scrollY+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(t,e){return!this.options.fixMentionsToQuill&&t+this.mentionContainer.offsetWidth+e.left>window.scrollX+document.documentElement.clientWidth}},{key:"setIsOpen",value:function(t){if(this.isOpen!==t){var e,n,r,o;if(t)null===(e=(n=this.options).onOpen)||void 0===e||e.call(n);else null===(r=(o=this.options).onClose)||void 0===r||r.call(o);this.isOpen=t}}},{key:"setMentionContainerPosition",value:function(){"fixed"===this.options.positioningStrategy?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var t=this;if(void 0!==this.mentionCharPos){var e=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos);if(null!==n){var r,o,i=this.mentionContainer.offsetHeight,a=this.options.offsetTop,l=this.options.offsetLeft;if(this.options.fixMentionsToQuill){this.mentionContainer.style.right="".concat(0,"px")}else l+=n.left;if(this.containerRightIsNotVisible(l,e)){var u=this.mentionContainer.offsetWidth+this.options.offsetLeft;l=e.width-u}if("top"===this.options.defaultMenuOrientation){if((a=this.options.fixMentionsToQuill?-1*(i+this.options.offsetTop):n.top-(i+this.options.offsetTop))+e.top<=0){var c=this.options.offsetTop;this.options.fixMentionsToQuill?c+=e.height:c+=n.bottom,a=c}}else if(this.options.fixMentionsToQuill?a+=e.height:a+=n.bottom,this.containerBottomIsNotVisible(a,e)){var s=-1*this.options.offsetTop;this.options.fixMentionsToQuill||(s+=n.top),a=s-i}if(a>=0)null===(r=this.options.mentionContainerClass)||void 0===r||r.split(" ").forEach((function(e){t.mentionContainer.classList.add("".concat(e,"-bottom")),t.mentionContainer.classList.remove("".concat(e,"-top"))}));else null===(o=this.options.mentionContainerClass)||void 0===o||o.split(" ").forEach((function(e){t.mentionContainer.classList.add("".concat(e,"-top")),t.mentionContainer.classList.remove("".concat(e,"-bottom"))}));this.mentionContainer.style.top="".concat(a,"px"),this.mentionContainer.style.left="".concat(l,"px"),this.mentionContainer.style.visibility="visible"}}}},{key:"setMentionContainerPosition_Fixed",value:function(){var t=this;if(void 0!==this.mentionCharPos){this.mentionContainer.style.position="fixed",this.mentionContainer.style.height="";var e=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos);if(null!==n){var r={right:e.right-n.right,left:e.left+n.left,top:e.top+n.top,width:0,height:n.height},o=this.options.fixMentionsToQuill?e:r,i=this.options.offsetTop,a=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=o.right;this.mentionContainer.style.right="".concat(l,"px")}else(a+=o.left)+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(a-=a+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var u,c,s=o.top,f=document.documentElement.clientHeight-(o.top+o.height),d=this.mentionContainer.offsetHeight<=f,h=this.mentionContainer.offsetHeight<=s;if("bottom"===("top"===this.options.defaultMenuOrientation&&h?"top":"bottom"===this.options.defaultMenuOrientation&&d||f>s?"bottom":"top"))i=o.top+o.height,d||(this.mentionContainer.style.height=f-3+"px"),null===(u=this.options.mentionContainerClass)||void 0===u||u.split(" ").forEach((function(e){t.mentionContainer.classList.add("".concat(e,"-bottom")),t.mentionContainer.classList.remove("".concat(e,"-top"))}));else i=o.top-this.mentionContainer.offsetHeight,h||(this.mentionContainer.style.height=s-3+"px",i=3),null===(c=this.options.mentionContainerClass)||void 0===c||c.split(" ").forEach((function(e){t.mentionContainer.classList.add("".concat(e,"-top")),t.mentionContainer.classList.remove("".concat(e,"-bottom"))}));this.mentionContainer.style.top="".concat(i,"px"),this.mentionContainer.style.left="".concat(a,"px"),this.mentionContainer.style.visibility="visible"}}}},{key:"getTextBeforeCursor",value:function(){var t,e,n=Math.max(0,(null!==(t=this.cursorPos)&&void 0!==t?t:0)-this.options.maxChars);return this.quill.getText(n,(null!==(e=this.cursorPos)&&void 0!==e?e:0)-n)}},{key:"onSomethingChange",value:function(){var t=this,e=this.quill.getSelection();if(null!=e){this.cursorPos=e.index;var n,r,o,i,a=this.getTextBeforeCursor(),l=Math.max(0,this.cursorPos-this.options.maxChars),u=l?this.quill.getText(l-1,l):"",c=(n=a,r=this.options.mentionDenotationChars,o=this.options.isolateCharacter,i=this.options.allowInlineMentionChar,r.reduce((function(t,e){var r;if(o&&i){var a=new RegExp("^".concat(e,"|\\s").concat(e),"g"),l=(n.match(a)||[]).pop();if(!l)return{mentionChar:t.mentionChar,mentionCharIndex:t.mentionCharIndex};r=l!==e?n.lastIndexOf(l)+l.length-e.length:0}else r=n.lastIndexOf(e);return r>t.mentionCharIndex?{mentionChar:e,mentionCharIndex:r}:{mentionChar:t.mentionChar,mentionCharIndex:t.mentionCharIndex}}),{mentionChar:null,mentionCharIndex:-1})),s=c.mentionChar,f=c.mentionCharIndex;if(null!==s&&function(t,e,n,r){if(-1===t)return!1;if(!n)return!0;var o=t?e[t-1]:r;return!o||!!o.match(/\s/)}(f,a,this.options.isolateCharacter,u)){var d=this.cursorPos-(a.length-f);this.mentionCharPos=d;var h=a.substring(f+s.length);if(h.length>=this.options.minChars&&function(t,e){return e.test(t)}(h,this.getAllowedCharsRegex(s))){var p,y;this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var m={abandoned:!1};this.existingSourceExecutionToken=m,null===(p=(y=this.options).source)||void 0===p||p.call(y,h,(function(e,n){m.abandoned||(t.existingSourceExecutionToken=void 0,t.renderList(s,e,n))}),s)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(t){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:null!==(e=null===(n=(r=this.options).allowedChars)||void 0===n?void 0:n.call(r,t))&&void 0!==e?e:/^[a-zA-Z0-9_]*$/;var e,n,r}},{key:"onTextChange",value:function(t,e,n){"user"===n&&setTimeout(this.onSomethingChange.bind(this),50)}},{key:"onSelectionChange",value:function(t){null!==t&&0===t.length?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(t){var e=this.quill.getSelection(!0);this.quill.insertText(e.index,t),this.quill.blur(),this.quill.focus()}}])}(r.a.import("core/module"));F.DEFAULTS={mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[E],source:function(t,e,n){e([],t)},renderItem:function(t){var e=t.value;return"".concat(e)},onSelect:function(t,e){return e(t)},onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},renderLoading:function(){return null}}},1562:function(t,e,n){"use strict";n(9),n(10),n(14),n(31),n(27),n(21),n(20),n(12),n(22),n(32),n(18),n(16),n(29),n(23),n(8),n(17),n(19),n(11),n(30),n(13);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),l=n(6),u=n(208),c=n(307),s=n(321),f=n(82),d=n(33),h=n(1482),p=n(115),y=n(45),m=n(318),v=n(2),b=n(3),g=n(5),w=n(485);n(1530);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var _={annotations:a.a.array.isRequired,style:a.a.object.isRequired,properties:a.a.object.isRequired,isRedaction:a.a.bool,isFreeText:a.a.bool,isEllipse:a.a.bool,hasBackToMenu:a.a.bool,onBackToMenu:a.a.func},C=function(t){var e=t.annotations,n=t.style,i=t.isRedaction,a=t.isFreeText,S=t.isEllipse,x=t.isMeasure,_=t.colorMapKey,C=t.showLineStyleOptions,j=t.properties,A=t.hideSnapModeCheckbox,T=t.onResize,k=t.hasBackToMenu,P=t.onBackToMenu,R=Object(d.a)().core,N=E(Object(l.e)((function(t){return[b.a.isElementDisabled(t,g.a.ANNOTATION_STYLE_POPUP),b.a.isToolDefaultStyleUpdateFromAnnotationPopupEnabled(t),b.a.getActiveDocumentViewerKey(t)]})),3),I=N[0],M=N[1],L=N[2],D=Object(l.d)(),q=E(Object(c.a)(),1)[0],z=E(Object(r.useState)(j.isAutoSizeFont),2),B=z[0],F=z[1],H=function(t,n,r){r&&G();var o=R.getAnnotationManager(L);e.forEach((function(e){e[t]=n,"StrokeThickness"===t&&Object(m.a)(e),o.redrawAnnotation(e),e instanceof window.Core.Annotations.WidgetAnnotation&&e.refresh()}))},U=function(t,n){e.forEach((function(e){R.setAnnotationStyles(e,O({},t,n),L),M&&Object(p.a)(e.ToolName,t,n),"FontSize"!==t&&"Font"!==t||Object(m.a)(e)}))},G=function(t,n){e.forEach((function(e){R.setAnnotationStyles(e,O({},t,n),L),M&&Object(p.a)(e.ToolName,t,n)}))},W=function(t,n){e.forEach((function(e){R.updateAnnotationRichTextStyle(e,O({},t,n),L)}))},V=function(t,n){e.forEach((function(e){var r="";if("start"===t)e.setStartStyle(n),r="StartLineStyle";else if("end"===t)e.setEndStyle(n),r="EndLineStyle";else if("middle"===t){var o=n.split(","),i=o.shift();e.Style=i,e.Dashes=o,r="StrokeStyle"}M&&Object(p.a)(e.ToolName,r,n),R.getAnnotationManager(L).redrawAnnotation(e)})),R.getAnnotationManager(L).trigger("annotationChanged",[e,"modify",{}])},K=function(t){Object(y.k)()&&t.target===t.currentTarget&&D(v.a.closeElement(g.a.ANNOTATION_POPUP))},$=Object(h.a)("Popup AnnotationStylePopup",t);return I?null:o.a.createElement(u.a,{onResize:function(){T&&T()}},(function(t){var r=t.measureRef;return o.a.createElement("div",{className:$,"data-element":g.a.ANNOTATION_STYLE_POPUP,onClick:K,ref:r},k&&o.a.createElement("div",{className:"back-to-menu-container","data-element":g.a.ANNOTATION_STYLE_POPUP_BACK_BUTTON_CONTAINER},o.a.createElement(f.a,{className:"back-to-menu-button",dataElement:g.a.ANNOTATION_STYLE_POPUP_BACK_BUTTON,label:q("action.backToMenu"),img:"icon-chevron-left",onClick:P})),o.a.createElement(s.a,{hideSnapModeCheckbox:A,colorMapKey:_,style:n,isFreeText:a,isFreeTextAutoSize:B,onFreeTextSizeToggle:function(){return Object(w.a)(e[0],F,B)},isEllipse:S,isMeasure:x,onStyleChange:G,onSliderChange:H,onPropertyChange:U,disableSeparator:!0,properties:j,onRichTextStyleChange:W,isRedaction:i,showLineStyleOptions:C,onLineStyleChange:V}))}))};C.propTypes=_;var j=C;e.a=j},1595:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1596:function(t,e,n){},1597:function(t,e,n){},1598:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1599:function(t,e,n){t.exports={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1621:function(t,e,n){"use strict";n.r(e);n(9),n(10),n(14),n(31),n(36),n(81),n(27),n(21),n(20),n(12),n(22),n(32),n(18),n(26),n(16),n(29),n(57),n(47),n(23),n(46),n(48),n(37),n(8),n(17),n(19),n(11),n(30),n(13);var r=n(0),o=n.n(r),i=n(4),a=(n(38),n(125),n(49),n(77),n(95),n(128),n(85),n(62),n(94),n(15)),l=n.n(a),u=n(6),c=n(307),s=n(1),f=n.n(s),d=n(208),h=n(1515);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var w={notes:f.a.array.isRequired,children:f.a.func.isRequired,onScroll:f.a.func.isRequired,initialScrollTop:f.a.number.isRequired,selectedIndex:f.a.number,sortStrategy:f.a.string},S=new h.b({defaultHeight:50,fixedWidth:!0}),O=o.a.forwardRef((function(t,e){var n=t.notes,i=t.children,a=t.onScroll,l=t.initialScrollTop,u=t.selectedIndex,c=t.sortStrategy,s=Object(r.useRef)(),f=b(Object(r.useState)(0),2),p=f[0],y=f[1],v=b(Object(r.useState)({width:0,height:0}),2),g=v[0],w=v[1],O=window.innerHeight;Object(r.useImperativeHandle)(e,(function(){return{scrollToPosition:function(t){s.current.scrollToPosition(t)},scrollToRow:function(t){s.current.scrollToRow(t)}}})),Object(r.useEffect)((function(){s.current.scrollToPosition(l)}),[l]),Object(r.useEffect)((function(){var t,e;(S.clearAll(),null==s||null===(t=s.current)||void 0===t||t.measureAllRows(),-1!==u)&&(null===(e=s.current)||void 0===e||e.scrollToRow(u))}),[u]),Object(r.useEffect)((function(){var t,e;S.clearAll(),null==s||null===(t=s.current)||void 0===t||t.measureAllRows(),null==s||null===(e=s.current)||void 0===e||e.forceUpdateGrid()}),[n.length,c]),Object(r.useEffect)((function(){var t=function(){var t=window.innerHeight-O;t&&(window.innerHeight<O&&y(t),O=window.innerHeight)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}));var E=function(t){var e=t.scrollTop;a(e)},x=function(t){var e=t.index,r=t.key,a=t.parent,l=t.style,u=n[e];return o.a.createElement(h.a,{key:"".concat(r).concat(u.Id),cache:S,columnIndex:0,parent:a,rowIndex:e},(function(t){var r=t.measure;return o.a.createElement("div",{style:m(m({},l),{},{paddingRight:"12px"})},i(n,e,(function(){!function(t){var e;S.clear(t),null===(e=s.current)||void 0===e||e.recomputeRowHeights(t)}(e),r()})))}))};return o.a.createElement(d.a,{bounds:!0,offset:!0,onResize:function(t){var e=t.bounds;w(m(m({},e),{},{height:e.height+2*p})),y(0)}},(function(t){var e=t.measureRef;return o.a.createElement("div",{ref:e,className:"virtualized-notes-container"},o.a.createElement(h.c,{deferredMeasurementCache:S,style:{outline:"none"},height:g.height-p,width:g.width,overscanRowCount:10,ref:s,rowCount:n.length,rowHeight:S.rowHeight,rowRenderer:x,onScroll:E,"aria-label":"presentation",role:"presentation"}))}))}));O.displayName="VirtualizedList",O.propTypes=w;var E=O,x=(n(43),{notes:f.a.array.isRequired,children:f.a.func.isRequired,onScroll:f.a.func.isRequired,initialScrollTop:f.a.number.isRequired}),_=o.a.forwardRef((function(t,e){var n=t.notes,i=t.children,a=t.onScroll,l=t.initialScrollTop,u=Object(r.useRef)();Object(r.useImperativeHandle)(e,(function(){return{scrollToPosition:function(t){u.current.scrollTop=t},scrollToRow:function(t){var e=u.current,n=e.children[t];if(n){var r=e.getBoundingClientRect(),o=n.getBoundingClientRect();o.top>=r.top&&o.top<=r.top+e.clientHeight||(e.scrollTop=o.top+e.scrollTop-r.top)}}}})),Object(r.useEffect)((function(){u.current.scrollTop=l}),[l]);return o.a.createElement("div",{ref:u,className:"normal-notes-container",onScroll:function(t){a(t.target.scrollTop)},role:"list"},n.map((function(t,e){return o.a.createElement(o.a.Fragment,{key:"".concat(e,"_").concat(t.Id)},i(n,e))})))}));_.displayName="NormalList",_.propTypes=x;var C=_,j=n(1558),A=n(53),T=n(1448),k=n(1501),P=(n(116),n(44)),R=(n(136),n(1473)),N=n(33),I=n(382),M=n(1470),L=n(3);n(1595);function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return q(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var z=function(t){var e=t.annotations,n=t.onSubmit,i=t.onClose,a=Object(N.a)().core,s=D(Object(u.e)((function(t){var e;return[L.a.getIsMentionEnabled(t),L.a.getActiveDocumentViewerKey(t),null===(e=L.a.getFeatureFlags(t))||void 0===e?void 0:e.customizableUI]}),u.c),3),f=s[0],d=s[1],h=s[2],p=D(Object(r.useState)(""),2),y=p[0],m=p[1],v=D(Object(c.a)(),1)[0],b=Object(r.useRef)();Object(r.useEffect)((function(){b.current.focus()}),[]);var g=l()({"reply-area":!0});return o.a.createElement("div",{className:l()({"reply-area-multi-container":!0,"modular-ui":h})},o.a.createElement("div",{className:"reply-area-multi-header"},o.a.createElement("div",{className:"title"},v("action.multiReplyAnnotations",{count:e.length})),o.a.createElement(P.a,{className:"close-icon",onClick:i,img:"ic_close_black_24px"})),o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var r=b.current.getEditor(),o=I.a.getFormattedTextFromDeltas(r.getContents());o.trim()&&(e.forEach((function(t){if(f){var e=I.a.createMentionReply(t,o);a.addAnnotations([e],d),Object(M.a)(r,e)}else{var n=a.createAnnotationReply(t,o,d);Object(M.a)(r,n)}})),n())}},o.a.createElement("div",{className:g,onMouseDown:function(t){return t.stopPropagation()}},o.a.createElement(R.a,{ref:function(t){b.current=t},value:y,onChange:function(t){return function(t){m(t)}(t)},isReply:!0})),o.a.createElement("div",{className:"reply-button-container"},o.a.createElement(P.a,{img:"icon-post-reply",className:"reply-button",title:"action.submit",isSubmitType:!0}))))},B=n(246),F=n(123),H=n(24);var U=function(t){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){var n,r,o=document.querySelector("#".concat(t)),i=o||function(t){var e=document.createElement("div");return e.setAttribute("id",t),e}(t);return o||(n=i,(r=window.isApryseWebViewerWebComponent?Object(H.a)():document.body).insertBefore(n,r.lastElementChild.nextElementSibling)),i.appendChild(e.current),function(){e.current.remove(),i.childElementCount||i.remove()}}),[t]),e.current||(e.current=document.createElement("div")),e.current},G=function(t){var e=t.id,n=t.position,r=t.children,o=U(e);return o.style.position="absolute",o.style.top="auto"===n.top?n.top:"".concat(n.top,"px"),o.style.left="auto"===n.left?n.left:"".concat(n.left,"px"),o.style.right="auto"===n.right?n.right:"".concat(n.right,"px"),o.style.pointerEvents="none",o.style.zIndex=999,Object(F.createPortal)(r,o)},W=n(1562),V=n(148),K=n(421),$=n(220),Z=n(2),Y=n(56);n(1596);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=X(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==X(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rt=function(t){var e=t.annotations,n=t.triggerElementName,i=t.onClose,a=void 0===i?function(){}:i,l=Object(u.d)(),c=Object(r.useRef)(),s=et(Object(r.useState)([]),2),f=s[0],d=s[1],h=et(Object(r.useState)({left:"auto",right:"auto",top:"auto"}),2),p=h[0],y=h[1];Object(V.a)(c,(function(t){var e=document.querySelector("[data-element=".concat(n,"]")).contains(t.target),r=Object($.d)(),o=Object($.c)(),i=Object($.b)();e||r||o||i||a()}));var m={};e.forEach((function(t){m=J(J({},m),Object(K.a)(t))}));var v=e.find((function(t){return t instanceof window.Core.Annotations.FreeTextAnnotation&&(t.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeText||t.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeTextCallout)})),b={};if(v){var g,w,S,O,E,x,_,C,j,A,T,k=v.getRichTextStyle();b={Font:v.Font,FontSize:v.FontSize,TextAlign:v.TextAlign,TextVerticalAlign:v.TextVerticalAlign,bold:"bold"===(null!==(g=null==k||null===(w=k[0])||void 0===w?void 0:w["font-weight"])&&void 0!==g?g:""),italic:"italic"===(null!==(S=null==k||null===(O=k[0])||void 0===O?void 0:O["font-style"])&&void 0!==S?S:""),underline:(null==k||null===(E=k[0])||void 0===E||null===(x=E["text-decoration"])||void 0===x?void 0:x.includes("underline"))||(null==k||null===(_=k[0])||void 0===_||null===(C=_["text-decoration"])||void 0===C?void 0:C.includes("word")),strikeout:null!==(j=null==k||null===(A=k[0])||void 0===A||null===(T=A["text-decoration"])||void 0===T?void 0:T.includes("line-through"))&&void 0!==j&&j}}Object(r.useEffect)((function(){var t=[];if(m.TextColor&&t.push(Y.b.TEXT_COLOR),m.StrokeColor&&t.push(Y.b.STROKE_COLOR),m.FillColor&&t.push(Y.b.FILL_COLOR),Object(Y.l)("MultiStyle",t,t[0])){var e=Object(Y.d)("currentStyleTab","iconColor");l(Z.a.setColorMap(e));var n=Object(Y.e)("MultiStyle").styleTabs;d(n)}}),[e]);return 0===f.length?null:o.a.createElement(G,{id:"multi-style-popup-portal",position:p},o.a.createElement("div",{className:"multi-style-container",ref:c},o.a.createElement(W.a,{annotations:e,style:m,isOpen:!0,onResize:function(){var t=Object(B.a)(n,c);y(t)},isFreeText:!!v,colorMapKey:"MultiStyle",properties:b,isRedaction:!1,isMeasure:!1,showLineStyleOptions:!1,hideSnapModeCheckbox:!1})))};rt.propTypes={annotations:f.a.array.isRequired,triggerElementName:f.a.string.isRequired,onClose:f.a.func};var ot=rt,it=n(1502),at=n(97),lt=n(1499),ut=n(5);n(1597);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(){return(st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ht(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ct(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ct(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return yt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var mt={showMultiReply:f.a.bool.isRequired,setShowMultiReply:f.a.func.isRequired,setShowMultiState:f.a.func.isRequired,showMultiStyle:f.a.bool.isRequired,setShowMultiStyle:f.a.func.isRequired,setMultiSelectMode:f.a.func.isRequired,multiSelectedMap:f.a.object.isRequired,setMultiSelectedMap:f.a.func.isRequired,multiSelectedAnnotations:f.a.array.isRequired},vt=function(t,e){var n=new Set;return e.forEach((function(e){if(e.isGrouped()){var r=t.getAnnotationById(e.InReplyTo);r&&n.add(r)}else n.add(e)})),Array.from(n)},bt=function(t){var e=t.showMultiReply,n=t.setShowMultiReply,i=t.setShowMultiState,a=t.showMultiStyle,l=t.setShowMultiStyle,s=t.setMultiSelectMode,f=t.multiSelectedMap,d=t.setMultiSelectedMap,h=t.multiSelectedAnnotations,p=pt(Object(r.useState)([]),2),y=p[0],m=p[1],v=Object(N.a)().core,b=Object(u.d)(),g=pt(Object(c.a)(),1)[0],w=Object(u.e)(L.a.getActiveDocumentViewerKey),S=Object(u.e)(L.a.getIsCustomUIEnabled);Object(r.useEffect)((function(){var t=function(t){var n=dt({},f);return t.forEach((function(t){e(t,n)})),n},e=function(t,e){var n=v.getGroupAnnotations(t);n.some((function(t){return f[t.Id]}))&&n.forEach((function(t){e[t.Id]=t}))},n=function(t){var e=Object.keys(f),n=Object.keys(t);return e.some((function(t){return!n.includes(t)}))},r=function(e,r){"delete"===r?function(t){var e=dt({},f);t.forEach((function(t){delete e[t.Id]})),d(e)}(e):"modify"===r&&function(e){var r=t(e);n(r)&&d(r)}(e)};return v.addEventListener("annotationChanged",r,void 0),function(){v.removeEventListener("annotationChanged",r)}}),[f,v]),Object(r.useEffect)((function(){return function(){n(!1),d({})}}),[]),Object(r.useEffect)((function(){var t=h.filter((function(t){return v.canModify(t)}));m(t)}),[h,v]);var O=v.getNumberOfGroups(y)>1,E=!O&&(y.length>2||y.length>0&&v.getGroupAnnotations(y[0]).length>1),x=Object(r.useCallback)((function(t){vt(v,h).forEach((function(e){var n=Object(lt.a)(e,t,w);e.addReply(n);var r=v.getAnnotationManager(w);r.addAnnotation(n),r.trigger("addReply",[n,e,r.getRootAnnotation(e)])})),i(!1)}),[h,w,v]),_=Object(r.useMemo)((function(){return{resize:function(){}}}));if(e)return o.a.createElement(T.a.Provider,{value:_},o.a.createElement(z,{annotations:vt(v,h),onSubmit:function(){return n(!1)},onClose:function(){return n(!1)}}));var C=0===y.length,j={dataElement:ut.a.NOTE_MULTI_STYLE_BUTTON,img:"icon-menu-style-line",disabled:C,title:"action.style"};return o.a.createElement("div",{className:"multi-select-footer"},o.a.createElement("div",{className:"buttons-container"},o.a.createElement(P.a,{dataElement:ut.a.NOTE_MULTI_REPLY_BUTTON,disabled:0===h.length,img:"icon-header-chat-line",onClick:function(){n(!0)},title:"action.comment"}),o.a.createElement(at.a,{dataElement:ut.a.NOTE_MULTI_STATE_BUTTON,title:g("option.notesOrder.status"),img:"icon-annotation-status-none",toggleElement:ut.a.NOTE_STATE_FLYOUT,disabled:0===y.length}),o.a.createElement(it.a,{isMultiSelectMode:!0,handleStateChange:x}),S?o.a.createElement(at.a,st({},j,{toggleElement:ut.a.MULTI_SELECT_STYLE_PANEL_FLYOUT})):o.a.createElement(P.a,st({},j,{onClick:function(){l(!a)}})),a&&o.a.createElement(ot,{annotations:y,triggerElementName:"multiStyleButton",onClose:function(){l(!1)}}),!E&&o.a.createElement(P.a,{dataElement:ut.a.NOTE_MULTI_GROUP_BUTTON,disabled:!O,img:"group-annotations-icon",onClick:function(){v.groupAnnotations(h[0],h)},title:"action.group"}),E&&o.a.createElement(P.a,{dataElement:ut.a.NOTE_MULTI_UNGROUP_BUTTON,img:"ungroup-annotations-icon",onClick:function(){v.ungroupAnnotations(h)},title:"action.ungroup"}),o.a.createElement(P.a,{dataElement:ut.a.NOTE_MULTI_DELETE_BUTTON,disabled:0===y.length,img:"icon-delete-line",onClick:function(){var t={title:g("warning.multiDeleteAnnotation.title"),message:g("warning.multiDeleteAnnotation.message"),confirmBtnText:g("action.delete"),onConfirm:function(){v.deleteAnnotations(y,void 0)}};b(Z.a.showWarningMessage(t))},title:"action.delete"})),o.a.createElement("div",{className:"close-container"},o.a.createElement(P.a,{className:"close-icon-container",onClick:function(){s(!1)},img:"ic_close_black_24px",ariaLabel:g("option.documentControls.closeTooltip")})))};bt.propTypes=mt;var gt=bt,wt=n(184),St=n(103),Ot=n.n(St),Et=n(72),xt=n(61),_t=n(52),Ct=n(183),jt=n(25);function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=At(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==At(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kt=Tt(Tt(Tt({},ut.a.OFFICE_EDITOR_REVIEW_PANEL,{title:"officeEditor.reviewing",icon:"ic-edit-page",noAnnotation:"message.noRevisions",searchPlaceholder:"message.searchSuggestionsPlaceholder"}),ut.a.OFFICE_EDITOR_COMMENT_PANEL,{title:"component.notesPanel",icon:"illustration - empty state - outlines",noAnnotation:"message.noAnnotations",searchPlaceholder:"message.searchCommentsPlaceholder"}),ut.a.NOTES_PANEL,{title:"component.notesPanel",icon:"illustration - empty state - outlines",noAnnotation:"message.noAnnotations",searchPlaceholder:"message.searchCommentsPlaceholder"}),Pt=function(t){return kt[t]||kt[ut.a.NOTES_PANEL]},Rt=n(90),Nt=(n(1598),n(51));function It(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Mt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Lt={parentDataElement:f.a.string,notes:f.a.array.isRequired,disableFilterAnnotation:f.a.bool,setSearchInputHandler:f.a.func.isRequired,isMultiSelectMode:f.a.bool,toggleMultiSelectMode:f.a.func,isMultiSelectEnabled:f.a.bool};function Dt(t){var e=t.parentDataElement,n=void 0===e?ut.a.NOTES_PANEL:e,i=t.notes,a=t.disableFilterAnnotation,s=t.setSearchInputHandler,f=t.isMultiSelectMode,d=t.toggleMultiSelectMode,h=t.isMultiSelectEnabled,p=Object(N.a)().core,y=It(Object(u.e)((function(t){var e;return[L.a.getSortStrategy(t),L.a.isElementDisabled(t,"sortContainer"),L.a.getNotesPanelCustomHeaderOptions(t),L.a.getAnnotationFilters(t),L.a.getIsOfficeEditorMode(t),L.a.getOfficeEditorEditMode(t),null===(e=L.a.getFeatureFlags(t))||void 0===e?void 0:e.customizableUI]}),u.c),7),m=y[0],v=y[1],b=y[2],g=y[3],w=y[4],S=y[5],O=y[6],E=It(Object(c.a)(),1)[0],x=Object(u.d)(),_=It(Object(r.useState)(!1),2),C=_[0],j=_[1],T=It(Object(r.useState)(!1),2),k=T[0],R=T[1],I=It(Object(r.useState)(""),2),M=I[0],D=I[1],q=Pt(n);Object(r.useEffect)((function(){var t=g.authorFilter,e=g.colorFilter,n=g.statusFilter,r=g.typeFilter;((null==t?void 0:t.length)>0||(null==e?void 0:e.length)>0||(null==n?void 0:n.length)>0||(null==r?void 0:r.length)>0)&&j(!0);var o=function(t){var e=t.detail,n=e.types,r=e.authors,o=e.colors,i=e.statuses;n.length>0||r.length>0||o.length>0||i.length>0?j(!0):j(!1)};return Object(Nt.c)().addEventListener(_t.a.ANNOTATION_FILTER_CHANGED,o),function(){Object(Nt.c)().removeEventListener(_t.a.ANNOTATION_FILTER_CHANGED,o)}}),[]),Object(r.useEffect)((function(){w&&S===jt.C.PREVIEW?(R(!0),s(""),D("")):R(!1)}),[w,S]);var z=Ot()((function(t){p.deselectAllAnnotations(),s(t)}),500),B=o.a.createElement("div",{className:"sort-container","data-element":"sortContainer"},o.a.createElement("div",{className:"label",id:"notesSortLabel"},"".concat(E("message.sort"),":")),o.a.createElement(Et.a,{id:"notesOrderDropdown",labelledById:"notesSortLabel",dataElement:"notesOrderDropdown",disabled:0===i.length||k,ariaLabel:"".concat(E("message.sortBy")," ").concat(m),items:Object.keys(Object(Ct.c)()),translationPrefix:"option.notesOrder",currentSelectionKey:m,onClickItem:function(t){x(Z.a.setNotesPanelSortStrategy(t))}})),F=Object(Rt.a)((function(){return x(Z.a.openElement("filterModal"))})),H=E(q.searchPlaceholder),U=o.a.createElement(xt.a,{className:l()({header:!0,"modular-ui-header":O}),dataElement:"notesPanelHeader"},o.a.createElement(xt.a,{className:l()({"input-container":!0,"modular-ui-input":O}),dataElement:ut.a.NotesPanel.DefaultHeader.INPUT_CONTAINER},O&&o.a.createElement(A.a,{glyph:"icon-header-search"}),o.a.createElement("input",{disabled:k,type:"text",placeholder:O?"":H,"aria-label":H,onChange:function(t){D(t.target.value),z(t.target.value)},id:"NotesPanel__input",value:M})),o.a.createElement(xt.a,{className:"comments-counter",dataElement:ut.a.NotesPanel.DefaultHeader.COMMENTS_COUNTER},o.a.createElement("h2",{className:"main-comment"},E(q.title)," ","(".concat(i.length,")"))),o.a.createElement(xt.a,{className:"sort-row",dataElement:ut.a.NotesPanel.DefaultHeader.SORT_ROW},v?o.a.createElement("div",{className:"sort-container"}):B,o.a.createElement("div",{className:"buttons-container"},h&&!w&&o.a.createElement(P.a,{dataElement:ut.a.NOTE_MULTI_SELECT_MODE_BUTTON,className:l()({active:f}),disabled:0===i.length,img:"icon-annotation-select-multiple",onClick:function(){p.deselectAllAnnotations(),d()},title:E("component.multiSelectButton"),ariaPressed:f}),o.a.createElement(P.a,{dataElement:ut.a.NotesPanel.DefaultHeader.FILTER_ANNOTATION_BUTTON,className:l()({active:C}),disabled:a,img:"icon-comments-filter",onClick:F,title:E("component.filter"),ariaPressed:C}))));return o.a.createElement(o.a.Fragment,null,b&&o.a.createElement(wt.a,{render:b.render,renderArguments:[i]}),(!b||!b.overwriteDefaultHeader)&&U)}Dt.propTypes=Lt;var qt=Dt,zt=n(106),Bt=n(1458),Ft=n(65),Ht=n(45),Ut=n(1554);n(1599);function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){Kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Gt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $t(t){return function(t){if(Array.isArray(t))return Xt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Yt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||Yt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(t,e){if(t){if("string"==typeof t)return Xt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(t,e):void 0}}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Qt=function(t){var e=t.parentDataElement,n=t.dataElement,a=void 0===n?ut.a.NOTES_PANEL:n,s=t.notes,f=t.selectedNoteIds,d=t.setSelectedNoteIds,h=t.scrollToSelectedAnnot,p=t.setScrollToSelectedAnnot,y=t.searchInput,m=t.setSearchInput,v=t.isMultiSelectMode,b=t.setMultiSelectMode,g=t.multiSelectedMap,w=t.setMultiSelectedMap,S=t.isCustomPanel,O=t.isCustomPanelOpen,x=t.isLeftSide,_=t.currentLeftPanelWidth,P=Object(u.e)(L.a.getSortStrategy),R=Object(u.e)((function(t){return L.a.isElementOpen(t,ut.a.NOTES_PANEL)})),N=Object(u.e)((function(t){return L.a.isElementDisabled(t,ut.a.NOTES_PANEL)})),I=Object(u.e)(L.a.getPageLabels,u.c),M=Object(u.e)(L.a.getCustomNoteFilter,u.c),D=Object(u.e)(L.a.getInternalNoteFilter,u.c),q=Object(u.e)((function(t){return e?L.a.getPanelWidth(t,e):L.a.getNotesPanelWidth(t)}),u.c),z=Object(u.e)(L.a.getNotesInLeftPanel),B=Object(u.e)(L.a.isDocumentReadOnly),F=Object(u.e)(L.a.isAnnotationNumberingEnabled),H=Object(u.e)(L.a.getEnableNotesPanelVirtualizedList),U=Object(u.e)(L.a.isInDesktopOnlyMode),G=Object(u.e)(L.a.getNotesPanelCustomEmptyPanel,u.c),W=Object(u.e)(L.a.getIsNotesPanelMultiSelectEnabled),V=Object(u.e)(L.a.getActiveDocumentViewerKey),K=Object(u.e)(L.a.getIsOfficeEditorMode),$=Object(u.e)(L.a.getOfficeEditorEditMode),Y=Object(u.e)(L.a.getOfficeEditorActiveStream),X=Pt(a),Q=Object(u.d)(),J=Zt(Object(c.a)(),1)[0],tt=_||q,et=Object(Ft.b)(),nt=Zt(Object(r.useState)([]),2),rt=nt[0],ot=nt[1],it=Zt(Object(r.useState)(!1),2),at=it[0],lt=it[1],ct=Zt(Object(r.useState)(!1),2),st=ct[0],ft=ct[1],dt=Zt(Object(r.useState)(!1),2),ht=dt[0],pt=dt[1],yt=Zt(Object(r.useState)(void 0),2),mt=yt[0],vt=yt[1],bt=Object(r.useRef)(),St=Object(r.useRef)(0),Ot=H?Ht.e?25:100:1/0;Object(r.useEffect)((function(){var t=function(t){Q(Z.a.setAnnotationNumbering(t))},e=function(t,e){"selected"===e&&vt(t[0].Id)};return i.a.addEventListener("annotationNumberingUpdated",t),i.a.addEventListener("annotationSelected",e),function(){i.a.removeEventListener("annotationNumberingUpdated",t),i.a.removeEventListener("annotationSelected",e)}}),[]);var Et=-1,xt=function(t){t&&(St.current=t),Q(Z.a.closeElement("annotationNoteConnectorLine"))},_t=function(t){var e=t.getContents(),n=i.a.getDisplayAuthor(t.Author),r=t.getCustomData("trn-annot-preview");return(null==e?void 0:e.toLowerCase().includes(y.toLowerCase()))||(null==n?void 0:n.toLowerCase().includes(y.toLowerCase()))||(null==r?void 0:r.toLowerCase().includes(y.toLowerCase()))},At=Object(Ct.c)()[P].getSortedNotes(s).filter((function(t){var e=!0;if(M&&(e=e&&M(t)),D&&(e=e&&D(t)),y){var n=t.getReplies(),r=[t].concat($t(n));e=e&&r.some(_t)}return e}));Object(r.useEffect)((function(){Object.keys(f).length&&-1!==Et&&setTimeout((function(){var t;null===(t=bt.current)||void 0===t||t.scrollToRow(Et)}),0)}),[f]);var Tt=function(t){return!Object.keys(f).length&&(y&&At.filter((function(t){return t.getReplies().some(_t)})).some((function(e){return e.Id===t.Id})))},kt=Zt(Object(r.useState)({}),2),Rt=kt[0],Nt=kt[1],It=Object(r.useCallback)((function(t,e){Nt((function(n){return Vt(Vt({},n),{},Kt({},e,t))}))}),[Nt]),Mt=Zt(Object(r.useState)({}),2),Lt=Mt[0],Dt=Mt[1],Gt=Object(r.useCallback)((function(t,e){Dt((function(n){return Vt(Vt({},n),{},Kt({},e,t))}))}),[Dt]),Wt=Zt(Object(r.useState)({}),2),Yt=Wt[0],Xt=Wt[1],Qt=function(t,e){Xt((function(n){return Vt(Vt({},n),{},Kt({},t,[].concat($t(n[t]||[]),$t(e))))}))},Jt=function(t){Xt((function(e){return Vt(Vt({},e),{},Kt({},t,[]))}))},te=function(t,e){var n=Yt[t];if((null==n?void 0:n.length)>0){var r=n.indexOf(e);r>-1&&(n.splice(r,1),Xt((function(e){return Vt(Vt({},e),{},Kt({},t,$t(n)))})))}};Object(r.useEffect)((function(){if(ot(Object.values(g)),void 0===mt){var t=Object.keys(g);vt(t[0])}}),[g]);var ee=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=null,a=Object(Ct.c)()[P],l=a.shouldRenderSeparator,u=a.getSeparatorContent,c=0===e?null:t[e-1],s=t[e];l&&u&&(!c||l(c,s))&&(r=o.a.createElement(k.a,{renderContent:function(){return u(c,s,{pageLabels:I})}}));var m=function(){!v&&f[s.Id]&&(d((function(t){var e=Vt({},t);return delete e[s.Id],e})),i.a.deselectAnnotation(s,V))},b={searchInput:y,resize:n,isSelected:f[s.Id],isContentEditable:i.a.canModifyContents(s,V)&&!s.getContents(),pendingEditTextMap:Rt,setPendingEditText:It,pendingReplyMap:Lt,setPendingReply:Gt,isDocumentReadOnly:B,onTopNoteContentClicked:m,isExpandedFromSearch:Tt(s),scrollToSelectedAnnot:h,sortStrategy:P,showAnnotationNumbering:F,setCurAnnotId:vt,pendingAttachmentMap:Yt,clearAttachments:Jt,deleteAttachment:te,addAttachments:Qt,documentViewerKey:V};return e===Et&&setTimeout((function(){p(!1),Q(Z.a.openElement("annotationNoteConnectorLine"))}),0),o.a.createElement("div",{role:"listitem",className:"note-wrapper"},r,o.a.createElement(T.a.Provider,{value:b},o.a.createElement(j.a,{isCustomPanelOpen:O,shouldHideConnectorLine:x,annotation:s,isMultiSelected:!!g[s.Id],isMultiSelectMode:v,isMultiSelectEnabled:W,isInNotesPanel:!0,handleMultiSelect:function(t){if(t){var e=Vt({},g),n=i.a.getGroupAnnotations(s,V);n.forEach((function(t){e[t.Id]=t})),w(e),i.a.selectAnnotations(n)}else{var r=Vt({},g),o=i.a.getGroupAnnotations(s,V);o.forEach((function(t){delete r[t.Id]})),w(r),i.a.deselectAnnotations([s].concat($t(o)))}}})))},ne=o.a.createElement("div",{className:"no-results"},o.a.createElement("div",null,o.a.createElement(A.a,{className:"empty-icon",glyph:"illustration - empty state - outlines"})),o.a.createElement("p",{className:"msg no-margin"},J("message.noResults"))),re=null!=G&&G.icon?G.icon:X.icon,oe=null!=G&&G.message?G.message:J(X.noAnnotation),ie=G&&G.readOnlyMessage?G.readOnlyMessage:J("message.noAnnotationsReadOnly"),ae=G&&!G.hideIcon||!G,le=G&&G.render,ue=o.a.createElement("div",{className:"no-annotations"},le?o.a.createElement(wt.a,{render:G.render}):o.a.createElement(o.a.Fragment,null,ae&&o.a.createElement("div",null,o.a.createElement(A.a,{className:"empty-icon",glyph:re})),o.a.createElement("div",{className:"msg"},B?ie:oe))),ce=o.a.createElement("div",{className:"multi-select-place-holder"}),se=o.a.createElement("div",{className:"multi-reply-place-holder"}),fe=Object.keys(f);if(1===fe.length)Et=At.findIndex((function(t){return t.Id===fe[0]}));else if(fe.length){At.filter((function(t){return f[t.Id]})).length&&(Et=At.findIndex((function(t){return t.Id===mt})))}var de={};S||!U&&et||(de={width:"".concat(tt,"px"),minWidth:"".concat(tt,"px")});var he,pe=!N&&(R||z||S),ye=v&&!B,me=at?se:ce,ve=v&&!B,be=K&&!v,ge=be&&a===ut.a.OFFICE_EDITOR_REVIEW_PANEL&&At.length>0,we=be&&a===ut.a.OFFICE_EDITOR_COMMENT_PANEL;return pe?o.a.createElement("div",{className:l()({"notes-panel-container":!0,"office-editor":K})},o.a.createElement("div",{className:l()({Panel:!0,NotesPanel:!0}),style:de,"data-element":"notesPanel",onMouseUp:function(){return i.a.deselectAllAnnotations}},!U&&et&&!z&&o.a.createElement("div",{className:"close-container"},o.a.createElement("div",{className:"close-icon-container",onClick:function(){Q(Z.a.closeElements([ut.a.NOTES_PANEL]))}},o.a.createElement(A.a,{glyph:"ic_close_black_24px",className:"close-icon"}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(qt,{parentDataElement:a,notes:At,disableFilterAnnotation:0===s.length,setSearchInputHandler:m,isMultiSelectMode:v,toggleMultiSelectMode:function(){b(!v)},isMultiSelectEnabled:W}),0===At.length?0===s.length?ue:ne:At.length<=Ot?o.a.createElement(C,{ref:bt,notes:At,onScroll:xt,initialScrollTop:St.current},ee):o.a.createElement(E,{ref:bt,notes:At,sortStrategy:P,onScroll:xt,initialScrollTop:St.current,selectedIndex:Et},ee),null!=ye?ye:me,ge&&o.a.createElement("div",{className:"office-editor-footer"},o.a.createElement("div",{className:"divider"}),o.a.createElement(zt.a,{isSwitch:!0,checked:$===jt.C.PREVIEW,label:J("officeEditor.previewAllChanges"),onChange:function(t){return i.a.getOfficeEditor().setEditMode(t.target.checked?jt.C.PREVIEW:jt.C.REVIEWING)}})),we&&o.a.createElement("div",{className:"office-editor-footer"},o.a.createElement("div",{className:"divider"}),o.a.createElement(Bt.a,{className:"add-new-button",img:"icon-menu-add",dataElement:ut.a.OFFICE_EDITOR_COMMENT_ADD_NEW_BUTTON,disabled:Y!==jt.k.BODY,label:"".concat(J("action.add")," ").concat(J("action.comment")),ariaLabel:"".concat(J("action.add")," ").concat(J("action.comment")),onClick:function(){}})))),ve&&o.a.createElement(gt,{showMultiReply:at,setShowMultiReply:lt,showMultiState:st,setShowMultiState:ft,showMultiStyle:ht,setShowMultiStyle:pt,setMultiSelectMode:b,multiSelectedMap:g,setMultiSelectedMap:w,multiSelectedAnnotations:rt}),o.a.createElement(Ut.a,{annotationId:mt,addAttachments:Qt}),(he=J(X.title),o.a.createElement("p",{"aria-live":"assertive",style:{position:"absolute",left:"-9999px"}},At.length>0?"".concat(he," ").concat(At.length):J("message.noResults")))):null};Qt.propTypes={parentDataElement:f.a.string,dataElement:f.a.string,notes:f.a.array,selectedNoteIds:f.a.object,setSelectedNoteIds:f.a.func,scrollToSelectedAnnot:f.a.bool,setScrollToSelectedAnnot:f.a.func,searchInput:f.a.string,setSearchInput:f.a.func,isMultiSelectMode:f.a.bool,setMultiSelectMode:f.a.func,multiSelectedMap:f.a.object,setMultiSelectedMap:f.a.func,isCustomPanel:f.a.bool,isCustomPanelOpen:f.a.bool,isLeftSide:f.a.bool,currentLeftPanelWidth:f.a.number};var Jt=Qt,te=n(248);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(){return(ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ie(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ee(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ee(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ae(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return le(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ue(t){var e=t.isCustomPanelOpen,n=t.parentDataElement,a=void 0===n?void 0:n,l=t.dataElement,c=ae(Object(u.e)((function(t){return[L.a.isElementOpen(t,a||l||ut.a.NOTES_PANEL),L.a.getNotesInLeftPanel(t),L.a.getIsNotesPanelMultiSelectEnabled(t),L.a.isMultiViewerMode(t),L.a.getActiveDocumentViewerKey(t),L.a.getIsOfficeEditorMode(t)]}),u.c),6),s=c[0],f=c[1],d=c[2],h=c[3],p=c[4],y=c[5],m=ae(Object(r.useState)(""),2),v=m[0],b=m[1],g=ae(Object(r.useState)(!1),2),w=g[0],S=g[1],O=ae(Object(r.useState)(!1),2),E=O[0],x=O[1],_=ae(Object(r.useState)({1:[],2:[]}),2),C=_[0],j=_[1],A=Object(r.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;C[e]=t,j(oe({},C))}),[p,C[1],C[2],j]),T=C[p]||C[1],k=ae(Object(r.useState)({1:{},2:{}}),2),P=k[0],R=k[1],N=Object(r.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;P[e]=t,R(oe({},P))}),[p,P[1],P[2],R]),I=P[p]||P[1],M=ae(Object(r.useState)({1:{},2:{}}),2),D=M[0],q=M[1],z=Object(r.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;D[e]=t,q(oe({},D))}),[p,D[1],D[2],q]),B=D[p]||D[1],F=function(t){var e=i.a.getAnnotationManager().getFormFieldCreationManager(),n=t instanceof window.Core.Annotations.WidgetAnnotation,r=t.Listable&&!n,o=n&&e.isInFormFieldCreationMode(),a=Object(Y.g)(t),u=l===ut.a.OFFICE_EDITOR_COMMENT_PANEL&&a===Y.c.OFFICE_EDITOR_COMMENT,c=l===ut.a.OFFICE_EDITOR_REVIEW_PANEL&&a===Y.c.TRACKED_CHANGE,s=!y||u||c;return(r||o)&&!t.isReply()&&!t.Hidden&&!t.isGrouped()&&t.ToolName!==window.Core.Tools.ToolNames.CROP&&!t.isContentEditPlaceholder()&&s};function H(t){var e=t.find((function(t){return t.isGrouped()})),n=[];return e&&t.forEach((function(t){e.InReplyTo!==t.InReplyTo&&e.InReplyTo!==t.Id||n.push(t)})),n}Object(r.useEffect)((function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(){A([],t),N({}),b("")}},e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(){var e=i.a.getSelectedAnnotations(t),n=H(e),r=e.length>1&&n.length!==e.length||w;d&&r&&(S(!0),e.forEach((function(t){B[t.Id]=t})),z(oe({},B),t)),w&&n.length===e.length&&S(!1),A(i.a.getAnnotationsList(t).filter(F),t)}},n=t(1);i.a.addEventListener("documentUnloaded",n);var r,o,a=e(1);return i.a.addEventListener("annotationChanged",a),i.a.addEventListener("annotationHidden",a),i.a.addEventListener("updateAnnotationPermission",a),a(),h&&(r=t(2),i.a.addEventListener("documentUnloaded",r,void 0,2),o=e(2),i.a.addEventListener("annotationChanged",o,void 0,2),i.a.addEventListener("annotationHidden",o,void 0,2),i.a.addEventListener("updateAnnotationPermission",o,void 0,2),o()),function(){h&&(i.a.removeEventListener("documentUnloaded",r,2),i.a.removeEventListener("annotationChanged",o,2),i.a.removeEventListener("annotationHidden",o,2),i.a.removeEventListener("updateAnnotationPermission",o,2)),i.a.removeEventListener("documentUnloaded",n),i.a.removeEventListener("annotationChanged",a),i.a.removeEventListener("annotationHidden",a),i.a.removeEventListener("updateAnnotationPermission",a)}}),[h,y]),Object(r.useEffect)((function(){var t,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(n,r){var o=i.a.getSelectedAnnotations(t),a={};o.forEach((function(t){a[t.Id]=!0})),(e||s||f)&&(N(a,t),x(!0));var l=H(o),u=o.length>1&&l.length!==o.length||w;d&&"selected"===r&&u?(S(!0),o.forEach((function(t){B[t.Id]=t})),z(oe({},B),t)):"deselected"===r&&(n.forEach((function(t){delete B[t.Id]})),z(oe({},B),t))}},r=n(1);return r(),i.a.addEventListener("annotationSelected",r),h&&((t=n(2))(),i.a.addEventListener("annotationSelected",t,void 0,2)),function(){i.a.removeEventListener("annotationSelected",r),h&&i.a.removeEventListener("annotationSelected",t,2)}}),[e,s,f,w,B,d,h]),Object(r.useEffect)((function(){!d&&w&&(S(!1),i.a.getAnnotationManager().deselectAnnotations(i.a.getSelectedAnnotations(),p))}),[d]);var U={notes:T,selectedNoteIds:I,setSelectedNoteIds:N,searchInput:v,setSearchInput:b,isMultiSelectMode:w,setMultiSelectMode:S,multiSelectedMap:B,setMultiSelectedMap:z,scrollToSelectedAnnot:E,setScrollToSelectedAnnot:x};return o.a.createElement(Jt,ne({},t,U))}var ce=function(t){return o.a.createElement(te.a,{wrapOnlyInMultiViewerMode:!0},o.a.createElement(ue,t))};e.default=ce},1674:function(t,e,n){"use strict";var r=n(1477),o=n(1462);var i=function(){if(!arguments.length)return[];var t=arguments[0];return Object(o.a)(t)?t:[t]};var a=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var l=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1};var u=function(t,e){return!!(null==t?0:t.length)&&l(t,e,0)>-1};var c=function(t,e,n,r,o,l){var c=1&n,s=t.length,f=e.length;if(s!=f&&!(c&&f>s))return!1;var d=l.get(t),h=l.get(e);if(d&&h)return d==e&&h==t;var p=-1,y=!0,m=2&n?new i:void 0;for(l.set(t,e),l.set(e,t);++p<s;){var v=t[p],b=e[p];if(r)var g=c?r(b,v,p,e,t,l):r(v,b,p,t,e,l);if(void 0!==g){if(g)continue;y=!1;break}if(m){if(!a(e,(function(t,e){if(!u(m,e)&&(v===t||o(v,t,n,r,l)))return m.push(e)}))){y=!1;break}}else if(v!==b&&!o(v,b,n,r,l)){y=!1;break}}return l.delete(t),l.delete(e),y};var s=function(t,e){return t===e||t!=t&&e!=e},f=n(1491),d=Object.prototype.hasOwnProperty;var h=function(t,e,n,r,o,i){var a=1&n,l=Object(f.a)(t),u=l.length;if(u!=Object(f.a)(e).length&&!a)return!1;for(var c=u;c--;){var s=l[c];if(!(a?s in e:d.call(e,s)))return!1}var h=i.get(t),p=i.get(e);if(h&&p)return h==e&&p==t;var y=!0;i.set(t,e),i.set(e,t);for(var m=a;++c<u;){var v=t[s=l[c]],b=e[s];if(r)var g=a?r(b,v,s,e,t,i):r(v,b,s,t,e,i);if(!(void 0===g?v===b||o(v,b,n,r,i):g)){y=!1;break}m||(m="constructor"==s)}if(y&&!m){var w=t.constructor,S=e.constructor;w==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(y=!1)}return i.delete(t),i.delete(e),y},p=n(1489),y=n(1475),m=n(1507),v="[object Object]",b=Object.prototype.hasOwnProperty;var g=function(t,e,n,i,a,l){var u=Object(o.a)(t),f=Object(o.a)(e),d=u?"[object Array]":Object(p.a)(t),g=f?"[object Array]":Object(p.a)(e),w=(d="[object Arguments]"==d?v:d)==v,S=(g="[object Arguments]"==g?v:g)==v,O=d==g;if(O&&Object(y.a)(t)){if(!Object(y.a)(e))return!1;u=!0,w=!1}if(O&&!w)return l||(l=new r.a),u||Object(m.a)(t)?c(t,e,n,i,a,l):s(t,e,d,n,i,a,l);if(!(1&n)){var E=w&&b.call(t,"__wrapped__"),x=S&&b.call(e,"__wrapped__");if(E||x){var _=E?t.value():t,C=x?e.value():e;return l||(l=new r.a),a(_,C,n,i,l)}}return!!O&&(l||(l=new r.a),h(t,e,n,i,a,l))},w=n(1479);var S=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Object(w.a)(e)&&!Object(w.a)(n)?e!=e&&n!=n:g(e,n,r,o,t,i))};e.a=function(t,e){return S(t,e)}}}]);
//# sourceMappingURL=chunk.28.js.map
{"version":3,"sources":["webpack:///./src/ui/src/components/TextButton/TextButton.js","webpack:///./src/ui/src/components/TextButton/index.js","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss?34e3","webpack:///./src/ui/src/components/Bookmark/Bookmark.js","webpack:///./src/ui/src/components/Bookmark/index.js","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.js","webpack:///./src/ui/src/components/BookmarksPanel/index.js"],"names":["propTypes","img","PropTypes","string","label","oneOfType","number","dataElement","onClick","func","ariaLabel","ariaControls","role","disabled","bool","TextButton","props","React","createElement","Button","className","memo","module","exports","text","isRequired","defaultLabel","pageIndex","isAdding","isMultiSelectionMode","setSelected","onSave","onRemove","onCancel","panelSelector","Bookmark","_ref","core","useCore","t","_slicedToArray","useTranslation","_useState2","useState","isEditing","setIsEditing","_useState4","isDefault","setIsDefault","_useState6","bookmarkText","setBookmarkText","_useState8","undefined","clearSingleClick","setClearSingleClick","inputRef","useRef","isRenameButtonDisabled","onSaveBookmark","trim","onCancelBookmark","useEffect","current","focus","select","flyoutSelector","concat","DataElements","BOOKMARK_FLYOUT","currentFlyout","useSelector","state","selectors","getFlyout","canEditBookmark","isViewOnly","bookmarkMoreOptionsDataElement","bookmarkPanelListProps","labelHeader","description","enableMoreOptionsContextMenuFlyout","contentMenuFlyoutOptions","shouldHideDeleteButton","type","handleOnClick","val","menuTypes","RENAME","DELETE","contextMenuMoreButtonOptions","flyoutToggleElement","moreOptionsDataElement","e","detail","setTimeout","setCurrentPage","onDoubleClick","checkboxOptions","id","onChange","target","checked","Fragment","PanelListItem","DataElementWrapper","classNames","clearTimeout","name","ref","aria-label","value","onKeyDown","key","stopPropagation","isSubmitType","BookmarksPanel","_bookmarks$currentPag","isDisabled","isElementDisabled","BOOKMARK_PANEL","bookmarks","getBookmarks","shallowEqual","currentPageIndex","getCurrentPage","pageLabels","getPageLabels","isBookmarkIconShortcutVisible","featureFlags","getFeatureFlags","isAddingNewBookmark","setIsAddingNewBookmark","setIsMultiSelectionMode","selectingBookmarks","setSelectingBookmarks","customizableUI","canEditBookmarks","dispatch","useDispatch","setBookmarkIconShortcutVisibility","pageIndices","Object","keys","map","parseInt","forEach","index","includes","filter","bm","length","onRemoveBookmarks","pageIndexes","title","confirmationWarning","message","onConfirm","removeUserBookmark","Number","confirmBtnText","actions","showWarningMessage","_defineProperty","data-element","BOOKMARK_MULTI_SELECT","Choice","BOOKMARK_SHORTCUT_OPTION","isSwitch","newText","addUserBookmark","updatedBookmarks","_objectSpread","getUserBookmarks","setUserBookmarks","toString","find","_toConsumableArray","BOOKMARK_ADD_NEW_BUTTON_CONTAINER","BOOKMARK_ADD_NEW_BUTTON"],"mappings":"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","file":"chunks/chunk.47.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../Button';\n\nimport './TextButton.scss';\n\nconst propTypes = {\n  img: PropTypes.string,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  dataElement: PropTypes.string,\n  onClick: PropTypes.func,\n  ariaLabel: PropTypes.string,\n  ariaControls: PropTypes.string,\n  role: PropTypes.string,\n  disabled: PropTypes.bool\n};\n\nconst TextButton = (props) => {\n  const {\n    img,\n    dataElement,\n    onClick,\n    label,\n    ariaLabel,\n    ariaControls,\n    role,\n    disabled\n  } = props;\n\n  return (<Button\n    className='TextButton'\n    img={img}\n    label={label}\n    dataElement={dataElement}\n    onClick={onClick}\n    ariaLabel={ariaLabel}\n    ariaControls={ariaControls}\n    role={role}\n    disabled={disabled}\n  />);\n};\n\nTextButton.propTypes = propTypes;\n\nexport default React.memo(TextButton);","import TextButton from './TextButton';\n\nexport default TextButton;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LEFT_HEADER_WIDTH\":\"41px\",\"RIGHT_HEADER_WIDTH\":\"41px\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport classNames from 'classnames';\nimport useCore from 'hooks/useCore';\nimport PropTypes from 'prop-types';\nimport Button from '../Button';\nimport TextButton from '../TextButton';\nimport DataElementWrapper from '../DataElementWrapper';\nimport { menuTypes } from 'helpers/outlineFlyoutHelper';\nimport DataElements from 'constants/dataElement';\nimport PanelListItem from 'components/PanelListItem';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  defaultLabel: PropTypes.string,\n  pageIndex: PropTypes.number.isRequired,\n  isAdding: PropTypes.bool,\n  isMultiSelectionMode: PropTypes.bool,\n  setSelected: PropTypes.func,\n  onSave: PropTypes.func.isRequired,\n  onRemove: PropTypes.func,\n  onCancel: PropTypes.func,\n  panelSelector: PropTypes.string,\n};\n\nconst Bookmark = ({\n  text,\n  label,\n  defaultLabel,\n  pageIndex,\n  isAdding,\n  isMultiSelectionMode,\n  setSelected,\n  onSave,\n  onRemove,\n  onCancel,\n  panelSelector,\n}) => {\n  const { core } = useCore();\n  const [t] = useTranslation();\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [isDefault, setIsDefault] = useState(false);\n  const [bookmarkText, setBookmarkText] = useState(text);\n  const [clearSingleClick, setClearSingleClick] = useState(undefined);\n  const inputRef = useRef();\n\n  const isRenameButtonDisabled = () => {\n    return !bookmarkText || text === bookmarkText;\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding || (isEditing && !isRenameButtonDisabled())) {\n        onSaveBookmark();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelBookmark();\n    }\n  };\n\n  const onSaveBookmark = () => {\n    setIsEditing(false);\n    onSave(bookmarkText.trim() === '' ? t('message.untitled') : bookmarkText);\n  };\n\n  const onCancelBookmark = () => {\n    setIsEditing(false);\n    // on cancel reset local bookmark text\n    isEditing && setBookmarkText(text);\n    isAdding && onCancel();\n  };\n\n  const setCurrentPage = (pageIndex) => {\n    core.setCurrentPage(pageIndex + 1);\n  };\n\n  useEffect(() => {\n    if (bookmarkText !== text) {\n      setBookmarkText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isEditing) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    if (!isAdding && !isEditing) {\n      setIsDefault(true);\n    } else {\n      setIsDefault(false);\n    }\n  }, [isEditing]);\n\n  const handleOnClick = (val) => {\n    switch (val) {\n      case menuTypes.RENAME:\n        setIsEditing(true);\n        break;\n      case menuTypes.DELETE:\n        onRemove(pageIndex);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const flyoutSelector = `${DataElements.BOOKMARK_FLYOUT}-${pageIndex}`;\n  const currentFlyout = useSelector((state) => selectors.getFlyout(state, flyoutSelector));\n  const isViewOnly = useSelector(selectors.isViewOnly);\n  const canEditBookmark = !isViewOnly;\n\n  const bookmarkMoreOptionsDataElement = `bookmark-more-button-${panelSelector}-${pageIndex}`;\n  const panelListType = 'bookmark';\n\n  const bookmarkPanelListProps = {\n    labelHeader: defaultLabel,\n    description: text,\n    enableMoreOptionsContextMenuFlyout: canEditBookmark,\n    contentMenuFlyoutOptions: {\n      shouldHideDeleteButton: false,\n      currentFlyout: currentFlyout,\n      flyoutSelector: flyoutSelector,\n      type: panelListType,\n      handleOnClick : handleOnClick,\n    },\n    contextMenuMoreButtonOptions: {\n      flyoutToggleElement: flyoutSelector,\n      moreOptionsDataElement: bookmarkMoreOptionsDataElement,\n    },\n    onClick: (e) => {\n      if (isDefault && e.detail === 1) {\n        setClearSingleClick(setTimeout(() => {\n          setCurrentPage(pageIndex);\n        }, 300));\n      }\n    },\n    onDoubleClick: () => {\n      if (isDefault) {\n        setIsEditing(true);\n      }\n    },\n    checkboxOptions: {\n      id: `bookmark-checkbox-${pageIndex + 1}`,\n      onChange: (e) => {\n        setSelected(pageIndex, e.target.checked);\n      },\n      ariaLabel: `${t('action.select')} ${label}`,\n      disabled: !isMultiSelectionMode\n    }\n  };\n\n  return (\n    <>\n      {isDefault && <PanelListItem {...bookmarkPanelListProps} />}\n      {(isAdding || isEditing) && <DataElementWrapper\n        className={classNames({\n          'bookmark-outline-single-container': true,\n          'editing': isAdding || isEditing,\n          'default': isDefault,\n        })}\n        onDoubleClick={() => {\n          if (isDefault) {\n            clearTimeout(clearSingleClick);\n          }\n        }}\n      >\n        <div className=\"bookmark-outline-label-row\">\n          <div className=\"bookmark-outline-label\">{(isAdding || isEditing) ? label : defaultLabel}</div>\n          <input\n            type=\"text\"\n            name=\"bookmark\"\n            ref={inputRef}\n            className=\"bookmark-outline-input bookmark-text-input\"\n            aria-label={t('action.name')}\n            value={bookmarkText}\n            onKeyDown={handleKeyDown}\n            onChange={(e) => setBookmarkText(e.target.value)}\n          />\n          <div className=\"bookmark-outline-editing-controls\">\n            <TextButton\n              label={t('action.cancel')}\n              onClick={onCancelBookmark}\n              ariaLabel={`${t('action.cancel')} ${t('component.bookmarkPanel')}`}\n            />\n            {isAdding &&\n              <Button\n                className=\"bookmark-outline-save-button\"\n                label={t('action.add')}\n                isSubmitType\n                onClick={onSaveBookmark}\n                ariaLabel={`${t('action.add')} ${t('component.bookmarkPanel')}`}\n              />\n            }\n            {isEditing &&\n              <Button\n                className=\"bookmark-outline-save-button\"\n                label={t('action.save')}\n                isSubmitType\n                disabled={isRenameButtonDisabled()}\n                onClick={onSaveBookmark}\n                ariaLabel={`${t('action.save')} ${t('component.bookmarkPanel')}`}\n              />\n            }\n          </div>\n        </div>\n      </DataElementWrapper>}\n    </>\n  );\n};\n\nBookmark.propTypes = propTypes;\n\nexport default Bookmark;\n","import Bookmark from './Bookmark';\n\nexport default Bookmark;\n","import React, { useEffect, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Bookmark from 'components/Bookmark';\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport DataElements from 'constants/dataElement';\nimport Choice from 'components/Choice';\nimport TextButton from '../TextButton';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './BookmarksPanel.scss';\nimport classNames from 'classnames';\nimport useCore from 'hooks/useCore';\n\nconst BookmarksPanel = ({ panelSelector }) => {\n  const { core } = useCore();\n  const isDisabled = useSelector((state) => selectors.isElementDisabled(state, DataElements.BOOKMARK_PANEL));\n  const bookmarks = useSelector(selectors.getBookmarks, shallowEqual);\n  const currentPageIndex = useSelector((state) => selectors.getCurrentPage(state) - 1);\n  const pageLabels = useSelector(selectors.getPageLabels, shallowEqual);\n  const isBookmarkIconShortcutVisible = useSelector(selectors.isBookmarkIconShortcutVisible);\n  const featureFlags = useSelector((state) => selectors.getFeatureFlags(state), shallowEqual);\n  const isViewOnly = useSelector(selectors.isViewOnly);\n\n  const [isAddingNewBookmark, setIsAddingNewBookmark] = useState(false);\n  const [isMultiSelectionMode, setIsMultiSelectionMode] = useState(false);\n  const [selectingBookmarks, setSelectingBookmarks] = useState([]);\n  const customizableUI = featureFlags.customizableUI;\n  const canEditBookmarks = !isViewOnly;\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isBookmarkIconShortcutVisible && !isDisabled) {\n      core.setBookmarkIconShortcutVisibility(true);\n    } else {\n      core.setBookmarkIconShortcutVisibility(false);\n    }\n  }, [isDisabled, isBookmarkIconShortcutVisible]);\n\n  const pageIndices = Object.keys(bookmarks).map((pageIndex) => parseInt(pageIndex, 10));\n\n  useEffect(() => {\n    // if bookmark is deleted from the shortcut, should also remove from selectingBookmarks\n    selectingBookmarks.forEach((index) => {\n      if (!pageIndices.includes(index)) {\n        setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n      }\n    });\n\n    const shouldResetMultiSelectMode = pageIndices.length === 0;\n    if (shouldResetMultiSelectMode) {\n      setIsMultiSelectionMode(false);\n    }\n  }, [bookmarks]);\n\n  const onRemoveBookmarks = (pageIndexes) => {\n    const title = t('warning.deleteBookmark.title');\n    const message = t('warning.deleteBookmark.message');\n    const confirmationWarning = {\n      message,\n      title,\n      onConfirm: () => {\n        pageIndexes.forEach((pageIndex) => core.removeUserBookmark(Number(pageIndex)));\n        setSelectingBookmarks([]);\n      },\n      confirmBtnText: t('action.delete'),\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className={classNames({\n        'Panel': true,\n        'BookmarksPanel': true,\n        'bookmark-outline-panel': true,\n        [panelSelector]: true,\n        'modular-ui-panel': customizableUI,\n      })}\n      data-element={DataElements.BOOKMARK_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.bookmarksPanel')}\n        </div>\n        {!isMultiSelectionMode && canEditBookmarks &&\n          <TextButton\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('action.edit')}\n            disabled={isAddingNewBookmark || pageIndices.length === 0}\n            onClick={() => setIsMultiSelectionMode(true)}\n            ariaLabel={`${t('action.edit')} ${t('component.bookmarksPanel')}`}\n          />\n        }\n        {isMultiSelectionMode && canEditBookmarks &&\n          <TextButton\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('option.bookmarkOutlineControls.done')}\n            disabled={isAddingNewBookmark}\n            onClick={() => {\n              setIsMultiSelectionMode(false);\n              setSelectingBookmarks([]);\n            }}\n            ariaLabel={`${t('option.bookmarkOutlineControls.done')} ${t('action.edit')}`}\n          />\n        }\n      </div>\n\n      { canEditBookmarks &&\n        <Choice\n          dataElement={DataElements.BOOKMARK_SHORTCUT_OPTION}\n          type=\"checkbox\"\n          isSwitch\n          id=\"bookmark-view-option\"\n          className=\"bookmark-switch\"\n          label={t('message.viewBookmark')}\n          checked={isBookmarkIconShortcutVisible}\n          onChange={(e) => dispatch(actions.setBookmarkIconShortcutVisibility(e.target.checked))}\n        />\n      }\n\n      {!isAddingNewBookmark && pageIndices.length === 0 && (\n        <div className=\"msg msg-no-bookmark-outline\">{t('message.noBookmarks')}</div>\n      )}\n\n      <div className=\"bookmark-outline-row\">\n        {isAddingNewBookmark &&\n          <Bookmark\n            isAdding\n            label={`${t('component.bookmarkPage')} ${pageLabels[currentPageIndex]} - ${t('component.bookmarkTitle')}`}\n            text={bookmarks[currentPageIndex] ?? ''}\n            pageIndex={currentPageIndex}\n            onSave={(newText) => {\n              core.addUserBookmark(currentPageIndex, newText);\n              setIsAddingNewBookmark(false);\n            }}\n            onCancel={() => setIsAddingNewBookmark(false)}\n            panelSelector={panelSelector}\n          />\n        }\n\n        {pageIndices.map((pageIndex) => (\n          <Bookmark\n            key={pageIndex}\n            panelSelector={panelSelector}\n            isMultiSelectionMode={isMultiSelectionMode}\n            label={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]} - ${t('component.bookmarkTitle')}`}\n            defaultLabel={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]}`}\n            text={bookmarks[pageIndex]}\n            pageIndex={pageIndex}\n            onSave={(newText) => {\n              const updatedBookmarks = {\n                ...core.getUserBookmarks(),\n                [pageIndex]: newText,\n              };\n              core.setUserBookmarks(updatedBookmarks);\n            }}\n            onRemove={(index) => onRemoveBookmarks([index])}\n            setSelected={(index, val) => {\n              // need to stringify the index because using 0 instead of '0' makes the val check fail\n              index = index.toString();\n              if (selectingBookmarks.find((bm) => bm === index)) {\n                if (!val) {\n                  setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n                }\n              } else {\n                if (val) {\n                  setSelectingBookmarks([...selectingBookmarks, index]);\n                }\n              }\n            }}\n          />\n        ))}\n      </div>\n\n      <DataElementWrapper\n        className=\"bookmark-outline-footer\"\n        dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON_CONTAINER}\n      >\n        {isMultiSelectionMode ?\n          <>\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-menu-add\"\n              disabled={selectingBookmarks.length > 0 || !!bookmarks[currentPageIndex] || isAddingNewBookmark}\n              onClick={() => setIsAddingNewBookmark(true)}\n              ariaLabel={`${t('action.add')} ${t('component.bookmarkPanel')}`}\n            />\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-delete-line\"\n              disabled={selectingBookmarks.length === 0}\n              onClick={() => onRemoveBookmarks(selectingBookmarks)}\n              ariaLabel={`${t('action.delete')} ${t('component.bookmarkPanel')}`}\n            />\n          </>\n          :\n          <TextButton\n            img=\"icon-menu-add\"\n            dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON}\n            label={`${t('action.add')} ${t('component.bookmarkPanel')}`}\n            disabled={isAddingNewBookmark || !!bookmarks[currentPageIndex] || !canEditBookmarks}\n            onClick={() => setIsAddingNewBookmark(true)}\n            ariaLabel={`${t('action.add')} ${t('component.bookmarkPanel')}`}\n          />\n        }\n      </DataElementWrapper>\n    </div>\n  );\n};\n\nexport default BookmarksPanel;","import BookmarksPanel from './BookmarksPanel';\n\nexport default BookmarksPanel;\n"],"sourceRoot":""}